<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>MySQLçŸ¥è¯†ç‚¹å¤§å…¨ | Andy Yin</title><meta name="keywords" content="æ•°æ®åˆ†æ,MySQL"><meta name="author" content="Andy Yin"><meta name="copyright" content="Andy Yin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="MySQLçŸ¥è¯†ç‚¹å¤§å…¨"><meta name="application-name" content="MySQLçŸ¥è¯†ç‚¹å¤§å…¨"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="bookmark" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="192x192" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="512x512" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-startup-image" media="screen and (device-width:320px) and (device-height:568px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1136x640.png"><link rel="apple-touch-startup-image" media="screen and (device-width:320px) and (device-height:568px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_640x1136.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2688x1242.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1792x828.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_1125x2436.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_828x1792.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2436x1125.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:736px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_1242x2208.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:736px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2208x1242.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:667px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1334x750.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:667px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_750x1334.png"><link rel="apple-touch-startup-image" media="screen and (device-width:1024px) and (device-height:1366px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2732x2048.png"><meta name="description" content="MySQLå¸¸ç”¨çŸ¥è¯†ç‚¹æ€»ç»“">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQLçŸ¥è¯†ç‚¹å¤§å…¨">
<meta property="og:url" content="http://yinzhm.gitee.io/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Andy Yin">
<meta property="og:description" content="MySQLå¸¸ç”¨çŸ¥è¯†ç‚¹æ€»ç»“">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg">
<meta property="article:published_time" content="2023-03-12T12:47:47.000Z">
<meta property="article:modified_time" content="2023-03-28T13:05:16.953Z">
<meta property="article:author" content="Andy Yin">
<meta property="article:tag" content="æ•°æ®åˆ†æ">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg"><link rel="shortcut icon" href="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/favicon.ico"><link rel="canonical" href="http://yinzhm.gitee.io/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-blog@2.1.0/fonts/fontawesome/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQLçŸ¥è¯†ç‚¹å¤§å…¨',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-28 21:05:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              // const now = new Date()
              // const hour = now.getHours()
              // const isNight = hour <= 6 || hour >= 18
              // isNight ? activateDarkMode() : activateLightMode()
              activateDarkMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/tag_plugins/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script>
<style>#recent-posts{margin-top:-1rem;align-content:flex-start;display:flex;flex-wrap:wrap;justify-content:space-between}#recent-posts>.recent-post-item{margin-top:1rem;display:inline-block;height:auto;width:49%}#recent-posts>.recent-post-item .post_cover{width:100%;height:200px}#recent-posts>.recent-post-item .post_cover img.post_bg{width:100%;height:100%}#recent-posts>.recent-post-item>.recent-post-info>.content{display:none}#recent-posts>.recent-post-item{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}#recent-posts>.recent-post-item .left_radius{border-radius:8px 8px 0 0}#recent-posts>.recent-post-item .right_radius{border-radius:8px 8px 0 0}.recent-post-item{height:auto!important}.recent-post-info{padding:0 40px;margin-top:1em;width:100%!important}#recent-posts>.recent-post-item>.recent-post-info>.article-title{-webkit-line-clamp:1;margin-top:.3rem;margin-bottom:.3rem;color:var(--text-highlight-color);font-size:1.2em;line-height:1.4}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap{margin-bottom:1rem}@media screen and (max-width:768px){#recent-posts>.recent-post-item{width:100%}}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Andy Yin" type="application/atom+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">å¼€å‘</div><div class="back-menu-list"><a class="back-menu-item" href="https://gitee.com/" title="Gitee" target="_blank"><img class="back-menu-item-icon" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/gitee.ico"/><span class="back-menu-item-text">Gitee</span></a><a class="back-menu-item" href="https://www.aliyun.com/product/oss" title="é˜¿é‡Œäº‘OSS" target="_blank"><img class="back-menu-item-icon" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/aliyun.ico"/><span class="back-menu-item-text">é˜¿é‡Œäº‘OSS</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">å¨±ä¹</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.zhibo8.cc/" title="ç›´æ’­å§" target="_blank"><img class="back-menu-item-icon" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/zhibo8.png"/><span class="back-menu-item-text">ç›´æ’­å§</span></a><a class="back-menu-item" href="https://www.bilibili.com/" title="å“”å“©å“”å“©" target="_blank"><img class="back-menu-item-icon" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/bilibili.ico"/><span class="back-menu-item-text">å“”å“©å“”å“©</span></a></div></div></div></div><a id="site-name" href="/"><div class="title">Andy Yin</div><i class="fa-solid fa-house"></i></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:btf.scrollToDest(0, 500)">PAGE_NAME</a></center></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-shapes faa-tada"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> å¸¸ç”¨ç½‘å€</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="fa-fw fas fa-images faa-tada"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="fa-fw fa-regular fa-fan faa-tada"></i><span> å°ç©ºè°ƒ</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="fa-fw fas fa-lightbulb-on faa-tada"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="fa-fw fas fa-shoe-prints faa-tada"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="fa-solid fa-dice" style="font-size:1.2rem"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="nav-button" id="darkmode_navswitch"><a class="darkmode_switchbutton" type="button" href="javascript:void(0);" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" onclick="rm.switchDarkMode()"><i class="fas fa-adjust"></i></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="fas fa-arrow-up"></i><span id="percent" onclick="btf.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQLçŸ¥è¯†ç‚¹å¤§å…¨</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-03-12T12:47:47.000Z" title="å‘è¡¨äº 2023-03-12 20:47:47">2023-03-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-03-28T13:05:16.953Z" title="æ›´æ–°äº 2023-03-28 21:05:16">2023-03-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">æ•°æ®åˆ†æ</a></span></div><div class="meta-secondline"></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="æ•°æ®æ“ä½œè¯­è¨€-DML"><a href="#æ•°æ®æ“ä½œè¯­è¨€-DML" class="headerlink" title="æ•°æ®æ“ä½œè¯­è¨€ - DML"></a>æ•°æ®æ“ä½œè¯­è¨€ - DML</h1><p>DMLï¼ˆData Manipulation Languageï¼‰ï¼š</p>
<ul>
<li><p>æ•°æ®æ“çºµè¯­å¥ï¼Œç”¨äºæ·»åŠ ã€åˆ é™¤ã€æ›´æ–°å’ŒæŸ¥è¯¢æ•°æ®åº“è®°å½•ï¼Œå¹¶æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ã€‚</p>
</li>
<li><p>å¸¸ç”¨çš„è¯­å¥å…³é”®å­—ä¸»è¦åŒ…æ‹¬INSERTã€DELETã€UPDATE å’Œ<strong>SELECT</strong> ç­‰ã€‚</p>
</li>
</ul>
<h2 id="éç¬¦å·ç±»å‹çš„è¿ç®—ç¬¦"><a href="#éç¬¦å·ç±»å‹çš„è¿ç®—ç¬¦" class="headerlink" title="éç¬¦å·ç±»å‹çš„è¿ç®—ç¬¦"></a>éç¬¦å·ç±»å‹çš„è¿ç®—ç¬¦</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="images/image-20211012105303219.png" alt="image-20211012105303219"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="images/image-20211012105030527.png" alt="image-20211012105030527"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="images/image-20211012105052456.png" alt="image-20211012105052456"></p>
<hr>
<p>åœ¨ SQL ä¸­æ‰€æœ‰çš„é€»è¾‘è¿ç®—ç¬¦ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ALL</td>
<td align="left">ALLè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸å¦ä¸€ä¸ªå€¼é›†ä¸­çš„æ‰€æœ‰å€¼è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td align="left">AND</td>
<td align="left">ANDè¿ç®—ç¬¦å…è®¸åœ¨SQLè¯­å¥çš„WHEREå­å¥ä¸­æŒ‡å®šå¤šä¸ªæ¡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">ANY</td>
<td align="left">ANYè¿ç®—ç¬¦ç”¨äºæ ¹æ®æ¡ä»¶å°†å€¼ä¸åˆ—è¡¨ä¸­çš„ä»»ä½•é€‚ç”¨å€¼è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td align="left">BETWEEN</td>
<td align="left">BETWEENè¿ç®—ç¬¦ç”¨äºæœç´¢åœ¨ç»™å®šæœ€å°å€¼å’Œæœ€å¤§å€¼å†…çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">EXISTS</td>
<td align="left">EXISTSè¿ç®—ç¬¦ç”¨äºæœç´¢æŒ‡å®šè¡¨ä¸­æ˜¯å¦å­˜åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„è¡Œã€‚</td>
</tr>
<tr>
<td align="left">IN</td>
<td align="left">INè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸å·²æŒ‡å®šçš„æ–‡å­—å€¼åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td align="left">LIKE</td>
<td align="left">LIKEè¿ç®—ç¬¦ç”¨äºä½¿ç”¨é€šé…ç¬¦è¿ç®—ç¬¦å°†å€¼ä¸ç±»ä¼¼å€¼è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td align="left">NOT</td>
<td align="left">NOTè¿ç®—ç¬¦åè½¬ä½¿ç”¨å®ƒçš„é€»è¾‘è¿ç®—ç¬¦çš„å«ä¹‰ã€‚ ä¾‹å¦‚ï¼šNOT EXISTS, NOT BETWEEN, NOT INç­‰ç­‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¦å®šè¿ç®—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="left">OR</td>
<td align="left">ORè¿ç®—ç¬¦ç”¨äºç»„åˆSQLè¯­å¥çš„WHEREå­å¥ä¸­çš„å¤šä¸ªæ¡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">IS NULL</td>
<td align="left">IS NULLè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸NULLå€¼è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td align="left">UNIQUE</td>
<td align="left">UNIQUEè¿ç®—ç¬¦æœç´¢æŒ‡å®šè¡¨çš„æ¯ä¸€è¡Œçš„å”¯ä¸€æ€§(æ— é‡å¤é¡¹)ã€‚</td>
</tr>
</tbody></table>
<h3 id="IS-NULLè¿ç®—ç¬¦"><a href="#IS-NULLè¿ç®—ç¬¦" class="headerlink" title="IS NULLè¿ç®—ç¬¦"></a>IS NULLè¿ç®—ç¬¦</h3><p><code>NULL</code> ç©ºå€¼ä»£è¡¨ä¸¢å¤±çš„æœªçŸ¥æ•°æ®ã€‚</p>
<p>ç©ºè¿ç®—ç¬¦ï¼ˆIS NULLæˆ–è€…ISNULL(expression)ï¼‰åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸ºNULLåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚<br>SQLè¯­å¥ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT NULL IS NULL, ISNULL(NULL), ISNULL(&#x27;a&#x27;), 1 IS NULL;</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">| NULL IS NULL | ISNULL(NULL) | ISNULL(&#x27;a&#x27;) | 1 IS NULL |</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">|            1 |            1 |           0 |         0 |</span><br><span class="line">+--------------+--------------+-------------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢commission_pctç­‰äºNULLã€‚æ¯”è¾ƒå¦‚ä¸‹çš„å››ç§å†™æ³•</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct IS NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct &lt;=&gt; NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE ISNULL(commission_pct);</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct = NULL;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name, manager_id</span><br><span class="line">FROM   employees</span><br><span class="line">WHERE  manager_id IS NULL;</span><br></pre></td></tr></table></figure>

<h3 id="IS-NOT-NULLè¿ç®—ç¬¦"><a href="#IS-NOT-NULLè¿ç®—ç¬¦" class="headerlink" title="IS NOT NULLè¿ç®—ç¬¦"></a>IS NOT NULLè¿ç®—ç¬¦</h3><p>éç©ºè¿ç®—ç¬¦ï¼ˆIS NOT NULLï¼‰åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ä¸ºNULLï¼Œå¦‚æœä¸ä¸ºNULLåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚<br>SQLè¯­å¥ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT NULL IS NOT NULL, &#x27;a&#x27; IS NOT NULL,  1 IS NOT NULL; </span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">| NULL IS NOT NULL | &#x27;a&#x27; IS NOT NULL | 1 IS NOT NULL |</span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">|                0 |               1 |             1 |</span><br><span class="line">+------------------+-----------------+---------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢commission_pctä¸ç­‰äºNULL</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE commission_pct IS NOT NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE NOT commission_pct &lt;=&gt; NULL;</span><br><span class="line">SELECT employee_id,commission_pct FROM employees WHERE NOT ISNULL(commission_pct);</span><br></pre></td></tr></table></figure>

<h3 id="LEASTè¿ç®—ç¬¦"><a href="#LEASTè¿ç®—ç¬¦" class="headerlink" title="LEASTè¿ç®—ç¬¦"></a>LEASTè¿ç®—ç¬¦</h3><p>è¯­æ³•æ ¼å¼ä¸ºï¼šLEAST(å€¼1ï¼Œå€¼2ï¼Œâ€¦ï¼Œå€¼n)ã€‚å…¶ä¸­ï¼Œâ€œå€¼nâ€è¡¨ç¤ºå‚æ•°åˆ—è¡¨ä¸­æœ‰nä¸ªå€¼ã€‚åœ¨æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œè¿”å›æœ€å°å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT LEAST (1,0,2), LEAST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;), LEAST(1,NULL,2);</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">| LEAST (1,0,2) | LEAST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;) | LEAST(1,NULL,2) |</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">|       0       |        a           |      NULL       |</span><br><span class="line">+---------------+--------------------+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ç”±ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå½“å‚æ•°æ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°æ—¶ï¼ŒLEASTå°†è¿”å›å…¶ä¸­æœ€å°çš„å€¼ï¼›å½“å‚æ•°ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å­—æ¯è¡¨ä¸­é¡ºåºæœ€é å‰çš„å­—ç¬¦ï¼›å½“æ¯”è¾ƒå€¼åˆ—è¡¨ä¸­æœ‰NULLæ—¶ï¼Œä¸èƒ½åˆ¤æ–­å¤§å°ï¼Œè¿”å›å€¼ä¸ºNULLã€‚</p>
<h3 id="GREATESTè¿ç®—ç¬¦"><a href="#GREATESTè¿ç®—ç¬¦" class="headerlink" title="GREATESTè¿ç®—ç¬¦"></a>GREATESTè¿ç®—ç¬¦</h3><p>è¯­æ³•æ ¼å¼ä¸ºï¼šGREATEST(å€¼1ï¼Œå€¼2ï¼Œâ€¦ï¼Œå€¼n)ã€‚å…¶ä¸­ï¼Œnè¡¨ç¤ºå‚æ•°åˆ—è¡¨ä¸­æœ‰nä¸ªå€¼ã€‚å½“æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå‚æ•°æ—¶ï¼Œè¿”å›å€¼ä¸ºæœ€å¤§å€¼ã€‚å‡å¦‚ä»»æ„ä¸€ä¸ªè‡ªå˜é‡ä¸ºNULLï¼Œåˆ™GREATEST()çš„è¿”å›å€¼ä¸ºNULLã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT GREATEST(1,0,2), GREATEST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;), GREATEST(1,NULL,2);</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">| GREATEST(1,0,2) | GREATEST(&#x27;b&#x27;,&#x27;a&#x27;,&#x27;c&#x27;) | GREATEST(1,NULL,2) |</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">|               2 | c                     |               NULL |</span><br><span class="line">+-----------------+-----------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ç”±ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå½“å‚æ•°ä¸­æ˜¯æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°æ—¶ï¼ŒGREATESTå°†è¿”å›å…¶ä¸­æœ€å¤§çš„å€¼ï¼›å½“å‚æ•°ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å­—æ¯è¡¨ä¸­é¡ºåºæœ€é åçš„å­—ç¬¦ï¼›å½“æ¯”è¾ƒå€¼åˆ—è¡¨ä¸­æœ‰NULLæ—¶ï¼Œä¸èƒ½åˆ¤æ–­å¤§å°ï¼Œè¿”å›å€¼ä¸ºNULLã€‚</p>
<h3 id="BETWEEN-ANDè¿ç®—ç¬¦"><a href="#BETWEEN-ANDè¿ç®—ç¬¦" class="headerlink" title="BETWEEN ANDè¿ç®—ç¬¦"></a>BETWEEN ANDè¿ç®—ç¬¦</h3><p>BETWEENè¿ç®—ç¬¦ä½¿ç”¨çš„æ ¼å¼é€šå¸¸ä¸º<code>SELECT D FROM TABLE WHERE C BETWEEN A AND B</code>ï¼Œæ­¤æ—¶ï¼Œå½“Cå¤§äºæˆ–ç­‰äºAï¼Œå¹¶ä¸”Cå°äºæˆ–ç­‰äºBæ—¶ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ç»“æœä¸º0ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT 1 BETWEEN 0 AND 1, 10 BETWEEN 11 AND 12, &#x27;b&#x27; BETWEEN &#x27;a&#x27; AND &#x27;c&#x27;;</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">| 1 BETWEEN 0 AND 1 | 10 BETWEEN 11 AND 12 | &#x27;b&#x27; BETWEEN &#x27;a&#x27; AND &#x27;c&#x27; |</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">|                 1 |                    0 |                       1 |</span><br><span class="line">+-------------------+----------------------+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name, salary</span><br><span class="line">FROM   employees</span><br><span class="line">WHERE  salary BETWEEN 2500 AND 3500;</span><br></pre></td></tr></table></figure>

<h3 id="INè¿ç®—ç¬¦"><a href="#INè¿ç®—ç¬¦" class="headerlink" title="INè¿ç®—ç¬¦"></a>INè¿ç®—ç¬¦</h3><p>INè¿ç®—ç¬¦ç”¨äºåˆ¤æ–­ç»™å®šçš„å€¼æ˜¯å¦æ˜¯INåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚å¦‚æœç»™å®šçš„å€¼ä¸ºNULLï¼Œæˆ–è€…INåˆ—è¡¨ä¸­å­˜åœ¨NULLï¼Œåˆ™ç»“æœä¸ºNULLã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;a&#x27; IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;), 1 IN (2,3), NULL IN (&#x27;a&#x27;,&#x27;b&#x27;), &#x27;a&#x27; IN (&#x27;a&#x27;, NULL);</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">| &#x27;a&#x27; IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;) | 1 IN (2,3) | NULL IN (&#x27;a&#x27;,&#x27;b&#x27;) | &#x27;a&#x27; IN (&#x27;a&#x27;, NULL) |</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">|            1         |        0   |         NULL      |         1          |</span><br><span class="line">+----------------------+------------+-------------------+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id, last_name, salary, manager_id</span><br><span class="line">FROM   employees</span><br><span class="line">WHERE  manager_id IN (100, 101, 201);</span><br></pre></td></tr></table></figure>

<h3 id="NOT-INè¿ç®—ç¬¦"><a href="#NOT-INè¿ç®—ç¬¦" class="headerlink" title="NOT INè¿ç®—ç¬¦"></a>NOT INè¿ç®—ç¬¦</h3><p>NOT INè¿ç®—ç¬¦ç”¨äºåˆ¤æ–­ç»™å®šçš„å€¼æ˜¯å¦ä¸æ˜¯INåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœä¸æ˜¯INåˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;a&#x27; NOT IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;), 1 NOT IN (2,3);</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">| &#x27;a&#x27; NOT IN (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;) | 1 NOT IN (2,3) |</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">|                 0        |            1   |</span><br><span class="line">+--------------------------+----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="LIKEè¿ç®—ç¬¦"><a href="#LIKEè¿ç®—ç¬¦" class="headerlink" title="LIKEè¿ç®—ç¬¦"></a>LIKEè¿ç®—ç¬¦</h3><p>LIKEè¿ç®—ç¬¦ä¸»è¦ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨äºæ¨¡ç³ŠåŒ¹é…ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶åˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚å¦‚æœç»™å®šçš„å€¼æˆ–è€…åŒ¹é…æ¡ä»¶ä¸ºNULLï¼Œåˆ™è¿”å›ç»“æœä¸ºNULLã€‚</p>
<p>LIKEè¿ç®—ç¬¦é€šå¸¸ä½¿ç”¨å¦‚ä¸‹é€šé…ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â€œ%â€ï¼šåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚</span><br><span class="line">â€œ_â€ï¼šåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦ã€‚</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT NULL LIKE &#x27;abc&#x27;, &#x27;abc&#x27; LIKE NULL;  </span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">| NULL LIKE &#x27;abc&#x27; | &#x27;abc&#x27; LIKE NULL |</span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">|          NULL   |          NULL   |</span><br><span class="line">+-----------------+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT	first_name</span><br><span class="line">FROM 	employees</span><br><span class="line">WHERE	first_name LIKE &#x27;S%&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name</span><br><span class="line">FROM   employees</span><br><span class="line">WHERE  last_name LIKE &#x27;_o%&#x27;;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>è¯­å¥</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>WHERE SALARY LIKE â€˜200%â€™</td>
<td>æ‰¾å‡ºä»»ä½•ä»¥ 200 å¼€å¤´çš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜%200%â€™</td>
<td>æ‰¾å‡ºä»»ä½•å­˜åœ¨ 200 çš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜_00%â€™</td>
<td>æ‰¾å‡ºä»»ä½•ç¬¬äºŒä¸ªä½ç½®å’Œç¬¬ä¸‰ä¸ªä½ç½®ä¸º 0 çš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜2_%_%â€™</td>
<td>æ‰¾å‡ºä»»ä½•ä»¥ 2 å¼€å§‹ï¼Œå¹¶ä¸”é•¿åº¦è‡³å°‘ä¸º 3 çš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜%2â€™</td>
<td>æ‰¾å‡ºä»»ä½•ä»¥ 2 ç»“å°¾çš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜_2%3â€™</td>
<td>æ‰¾å‡ºä»»ä½•ç¬¬äºŒä¸ªä½ç½®ä¸º 2ï¼Œå¹¶ä¸”ä»¥ 3 ç»“æŸçš„å€¼ã€‚</td>
</tr>
<tr>
<td>WHERE SALARY LIKE â€˜2___3â€™</td>
<td>æ‰¾å‡ºä»»ä½•ä»¥ 2 å¼€å§‹ï¼Œä»¥ 3 ç»“æŸçš„äº”ä½æ•°ã€‚</td>
</tr>
</tbody></table>
<h3 id="ESCAPEè¿ç®—ç¬¦"><a href="#ESCAPEè¿ç®—ç¬¦" class="headerlink" title="ESCAPEè¿ç®—ç¬¦"></a>ESCAPEè¿ç®—ç¬¦</h3><p>å›é¿ç‰¹æ®Šç¬¦å·çš„ï¼š<strong>ä½¿ç”¨è½¬ä¹‰ç¬¦</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>escape</code>æŒ‡å®šå­—ç¬¦<code>$</code>ï¼Œ<code>$</code>å­—ç¬¦åé¢çš„ç¬¬ä¸€ä¸ªå­—ç¬¦<code>_</code>è¢«è®¤ä¸ºæ˜¯æ™®é€šå­—ç¬¦</p>
<ul>
<li><p>ä½¿ç”¨è½¬ä¹‰å­—ç¬¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT job_id</span><br><span class="line">FROM   jobs</span><br><span class="line">WHERE  job_id LIKE â€˜IT\_%â€˜;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ESCAPEè¿ç®—ç¬¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT job_id</span><br><span class="line">FROM   jobs</span><br><span class="line">WHERE  job_id LIKE â€˜IT$_%â€˜ escape â€˜$â€˜;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="REGEXPè¿ç®—ç¬¦"><a href="#REGEXPè¿ç®—ç¬¦" class="headerlink" title="REGEXPè¿ç®—ç¬¦"></a>REGEXPè¿ç®—ç¬¦</h3><p>REGEXPè¿ç®—ç¬¦ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œè¯­æ³•æ ¼å¼ä¸ºï¼š<code>expr REGEXP åŒ¹é…æ¡ä»¶</code>ã€‚å¦‚æœexpræ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œè¿”å›1ï¼›å¦‚æœä¸æ»¡è¶³ï¼Œåˆ™è¿”å›0ã€‚è‹¥expræˆ–åŒ¹é…æ¡ä»¶ä»»æ„ä¸€ä¸ªä¸ºNULLï¼Œåˆ™ç»“æœä¸ºNULLã€‚</p>
<p>REGEXPè¿ç®—ç¬¦åœ¨è¿›è¡ŒåŒ¹é…æ—¶ï¼Œå¸¸ç”¨çš„æœ‰ä¸‹é¢å‡ ç§é€šé…ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰â€˜^â€™åŒ¹é…ä»¥è¯¥å­—ç¬¦åé¢çš„å­—ç¬¦å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰â€˜$â€™åŒ¹é…ä»¥è¯¥å­—ç¬¦å‰é¢çš„å­—ç¬¦ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">ï¼ˆ3ï¼‰â€˜.â€™åŒ¹é…ä»»ä½•ä¸€ä¸ªå•å­—ç¬¦ã€‚</span><br><span class="line">ï¼ˆ4ï¼‰â€œ[...]â€åŒ¹é…åœ¨æ–¹æ‹¬å·å†…çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[abc]â€åŒ¹é…â€œaâ€æˆ–â€œbâ€æˆ–â€œcâ€ã€‚ä¸ºäº†å‘½åå­—ç¬¦çš„èŒƒå›´ï¼Œä½¿ç”¨ä¸€ä¸ªâ€˜-â€™ã€‚â€œ[a-z]â€åŒ¹é…ä»»ä½•å­—æ¯ï¼Œè€Œâ€œ[0-9]â€åŒ¹é…ä»»ä½•æ•°å­—ã€‚</span><br><span class="line">ï¼ˆ5ï¼‰â€˜*â€™åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªåœ¨å®ƒå‰é¢çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œx*â€åŒ¹é…ä»»ä½•æ•°é‡çš„â€˜xâ€™å­—ç¬¦ï¼Œâ€œ[0-9]*â€åŒ¹é…ä»»ä½•æ•°é‡çš„æ•°å­—ï¼Œè€Œâ€œ*â€åŒ¹é…ä»»ä½•æ•°é‡çš„ä»»ä½•å­—ç¬¦ã€‚</span><br></pre></td></tr></table></figure>

<p>SQLè¯­å¥ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;shkstart&#x27; REGEXP &#x27;^s&#x27;, &#x27;shkstart&#x27; REGEXP &#x27;t$&#x27;, &#x27;shkstart&#x27; REGEXP &#x27;hk&#x27;;</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">| &#x27;shkstart&#x27; REGEXP &#x27;^s&#x27; | &#x27;shkstart&#x27; REGEXP &#x27;t$&#x27; | &#x27;shkstart&#x27; REGEXP &#x27;hk&#x27;  |</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">|                      1 |                      1 |                       1 |</span><br><span class="line">+------------------------+------------------------+-------------------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT &#x27;atguigu&#x27; REGEXP &#x27;gu.gu&#x27;, &#x27;atguigu&#x27; REGEXP &#x27;[ab]&#x27;;</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">| &#x27;atguigu&#x27; REGEXP &#x27;gu.gu&#x27; | &#x27;atguigu&#x27; REGEXP &#x27;[ab]&#x27; |</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">|                        1 |                       1 |</span><br><span class="line">+--------------------------+-------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="DESCRIBE-æ˜¾ç¤ºè¡¨ç»“æ„ä¿¡æ¯"><a href="#DESCRIBE-æ˜¾ç¤ºè¡¨ç»“æ„ä¿¡æ¯" class="headerlink" title="DESCRIBE - æ˜¾ç¤ºè¡¨ç»“æ„ä¿¡æ¯"></a>DESCRIBE - æ˜¾ç¤ºè¡¨ç»“æ„ä¿¡æ¯</h2><p>ä½¿ç”¨DESCRIBE æˆ– DESC å‘½ä»¤ï¼Œæ˜¾ç¤ºè¡¨ç»“æ„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DESCRIBE employees;</span><br><span class="line">æˆ–</span><br><span class="line">DESC employees;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employees;</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field          | Type        | Null | Key | Default | Extra |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">| employee_id    | int(6)      | NO   | PRI | 0       |       |</span><br><span class="line">| first_name     | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| last_name      | varchar(25) | NO   |     | NULL    |       |</span><br><span class="line">| email          | varchar(25) | NO   | UNI | NULL    |       |</span><br><span class="line">| phone_number   | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| hire_date      | date        | NO   |     | NULL    |       |</span><br><span class="line">| job_id         | varchar(10) | NO   | MUL | NULL    |       |</span><br><span class="line">| salary         | double(8,2) | YES  |     | NULL    |       |</span><br><span class="line">| commission_pct | double(2,2) | YES  |     | NULL    |       |</span><br><span class="line">| manager_id     | int(6)      | YES  | MUL | NULL    |       |</span><br><span class="line">| department_id  | int(4)      | YES  | MUL | NULL    |       |</span><br><span class="line">+----------------+-------------+------+-----+---------+-------+</span><br><span class="line">11 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œå„ä¸ªå­—æ®µçš„å«ä¹‰åˆ†åˆ«è§£é‡Šå¦‚ä¸‹ï¼š</p>
<ul>
<li>Fieldï¼šè¡¨ç¤ºå­—æ®µåç§°ã€‚ </li>
<li>Typeï¼šè¡¨ç¤ºå­—æ®µç±»å‹ï¼Œè¿™é‡Œ barcodeã€goodsname æ˜¯æ–‡æœ¬å‹çš„ï¼Œprice æ˜¯æ•´æ•°ç±»å‹çš„ã€‚</li>
<li>Nullï¼šè¡¨ç¤ºè¯¥åˆ—æ˜¯å¦å¯ä»¥å­˜å‚¨NULLå€¼ã€‚</li>
<li>Keyï¼šè¡¨ç¤ºè¯¥åˆ—æ˜¯å¦å·²ç¼–åˆ¶ç´¢å¼•ã€‚PRIè¡¨ç¤ºè¯¥åˆ—æ˜¯è¡¨ä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼›UNIè¡¨ç¤ºè¯¥åˆ—æ˜¯UNIQUEç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼›MULè¡¨ç¤ºåœ¨åˆ—ä¸­æŸä¸ªç»™å®šå€¼å…è®¸å‡ºç°å¤šæ¬¡ã€‚</li>
<li>Defaultï¼šè¡¨ç¤ºè¯¥åˆ—æ˜¯å¦æœ‰é»˜è®¤å€¼ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆå€¼æ˜¯å¤šå°‘ã€‚</li>
<li>Extraï¼šè¡¨ç¤ºå¯ä»¥è·å–çš„ä¸ç»™å®šåˆ—æœ‰å…³çš„é™„åŠ ä¿¡æ¯ï¼Œä¾‹å¦‚AUTO_INCREMENTç­‰ã€‚</li>
</ul>
<h2 id="SELECT-é€‰å–æ•°æ®"><a href="#SELECT-é€‰å–æ•°æ®" class="headerlink" title="SELECT - é€‰å–æ•°æ®"></a>SELECT - é€‰å–æ•°æ®</h2><h3 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><ul>
<li>è¯­æ³•<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  åˆ—åç§°ï¼ˆæ ‡è¯†é€‰æ‹©å“ªäº›åˆ—ï¼‰</span><br><span class="line"><span class="keyword">FROM</span>    è¡¨åç§°ï¼ˆæ ‡è¯†ä»å“ªä¸ªè¡¨ä¸­é€‰æ‹©ï¼‰</span><br></pre></td></tr></table></figure>
ä»¥åŠ</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span>    è¡¨åç§°;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé™¤ééœ€è¦ä½¿ç”¨è¡¨ä¸­æ‰€æœ‰çš„å­—æ®µæ•°æ®ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨é€šé…ç¬¦â€˜*â€™ã€‚ä½¿ç”¨é€šé…ç¬¦è™½ç„¶å¯ä»¥èŠ‚çœè¾“å…¥æŸ¥è¯¢è¯­å¥çš„æ—¶é—´ï¼Œä½†æ˜¯è·å–ä¸éœ€è¦çš„åˆ—æ•°æ®é€šå¸¸ä¼šé™ä½æŸ¥è¯¢å’Œæ‰€ä½¿ç”¨çš„åº”ç”¨ç¨‹åºçš„æ•ˆç‡ã€‚é€šé…ç¬¦çš„ä¼˜åŠ¿æ˜¯ï¼Œå½“ä¸çŸ¥é“æ‰€éœ€è¦çš„åˆ—çš„åç§°æ—¶ï¼Œå¯ä»¥é€šè¿‡å®ƒè·å–å®ƒä»¬ã€‚</p>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¸æ¨èç›´æ¥ä½¿ç”¨<code>SELECT *</code>è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
</blockquote>
<ul>
<li>ä¸¾ä¾‹ï¼š</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id, location_id</span><br><span class="line"><span class="keyword">FROM</span> departments;</span><br></pre></td></tr></table></figure>
<h3 id="DISTINCT-å»é™¤é‡å¤è¡Œ"><a href="#DISTINCT-å»é™¤é‡å¤è¡Œ" class="headerlink" title="DISTINCT - å»é™¤é‡å¤è¡Œ"></a>DISTINCT - å»é™¤é‡å¤è¡Œ</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ä¼šè¿”å›å…¨éƒ¨è¡Œï¼ŒåŒ…æ‹¬é‡å¤è¡Œã€‚</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<p><strong>åœ¨SELECTè¯­å¥ä¸­ä½¿ç”¨å…³é”®å­—DISTINCTå»é™¤é‡å¤è¡Œ</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š</p>
<ul>
<li><strong>DISTINCT</strong> éœ€è¦æ”¾åˆ°æ‰€æœ‰åˆ—åçš„å‰é¢ï¼Œå¦‚æœå†™æˆ<code>SELECT salary, DISTINCT department_id FROM employees</code>ä¼šæŠ¥é”™ã€‚</li>
<li><strong>DISTINCT</strong> å…¶å®æ˜¯å¯¹åé¢æ‰€æœ‰åˆ—åçš„ç»„åˆè¿›è¡Œå»é‡ï¼Œä½ èƒ½çœ‹åˆ°æœ€åçš„ç»“æœæ˜¯ 74 æ¡ï¼Œå› ä¸ºè¿™ 74 ä¸ªéƒ¨é—¨idä¸åŒï¼Œéƒ½æœ‰ salary è¿™ä¸ªå±æ€§å€¼ã€‚å¦‚æœä½ æƒ³è¦çœ‹éƒ½æœ‰å“ªäº›ä¸åŒçš„éƒ¨é—¨ï¼ˆdepartment_idï¼‰ï¼Œåªéœ€è¦å†™<code>DISTINCT department_id</code>å³å¯ï¼Œåé¢ä¸éœ€è¦å†åŠ å…¶ä»–çš„åˆ—åäº†ã€‚</li>
</ul>
<h3 id="ç©ºå€¼å‚ä¸è¿ç®—"><a href="#ç©ºå€¼å‚ä¸è¿ç®—" class="headerlink" title="ç©ºå€¼å‚ä¸è¿ç®—"></a>ç©ºå€¼å‚ä¸è¿ç®—</h3><ul>
<li><p>æ‰€æœ‰è¿ç®—ç¬¦æˆ–åˆ—å€¼é‡åˆ°nullå€¼ï¼Œè¿ç®—çš„ç»“æœéƒ½ä¸ºnull</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,salary,commission_pct,</span><br><span class="line">12 * salary * (1 + commission_pct) &quot;annual_sal&quot;</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œåœ¨ MySQL é‡Œé¢ï¼Œ ç©ºå€¼ä¸ç­‰äºç©ºå­—ç¬¦ä¸²ã€‚ä¸€ä¸ªç©ºå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ 0ï¼Œè€Œä¸€ä¸ªç©ºå€¼çš„é•¿åº¦æ˜¯ç©ºã€‚è€Œä¸”ï¼Œåœ¨ MySQL é‡Œé¢ï¼Œç©ºå€¼æ˜¯å ç”¨ç©ºé—´çš„ã€‚</p>
<h3 id="æŸ¥è¯¢å¸¸æ•°"><a href="#æŸ¥è¯¢å¸¸æ•°" class="headerlink" title="æŸ¥è¯¢å¸¸æ•°"></a>æŸ¥è¯¢å¸¸æ•°</h3><p>SELECT æŸ¥è¯¢è¿˜å¯ä»¥å¯¹å¸¸æ•°è¿›è¡ŒæŸ¥è¯¢ã€‚å¯¹çš„ï¼Œå°±æ˜¯åœ¨ SELECT æŸ¥è¯¢ç»“æœä¸­å¢åŠ ä¸€åˆ—å›ºå®šçš„å¸¸æ•°åˆ—ã€‚è¿™åˆ—çš„å–å€¼æ˜¯æˆ‘ä»¬æŒ‡å®šçš„ï¼Œè€Œä¸æ˜¯ä»æ•°æ®è¡¨ä¸­åŠ¨æ€å–å‡ºçš„ã€‚</p>
<p>ä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦å¯¹å¸¸æ•°è¿›è¡ŒæŸ¥è¯¢å‘¢ï¼Ÿ</p>
<p>SQL ä¸­çš„ SELECT è¯­æ³•çš„ç¡®æä¾›äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬åªä»ä¸€ä¸ªè¡¨ä¸­æŸ¥è¯¢æ•°æ®ï¼Œé€šå¸¸ä¸éœ€è¦å¢åŠ ä¸€ä¸ªå›ºå®šçš„å¸¸æ•°åˆ—ï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³æ•´åˆä¸åŒçš„æ•°æ®æºï¼Œç”¨å¸¸æ•°åˆ—ä½œä¸ºè¿™ä¸ªè¡¨çš„æ ‡è®°ï¼Œå°±éœ€è¦æŸ¥è¯¢å¸¸æ•°ã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³å¯¹ employees æ•°æ®è¡¨ä¸­çš„å‘˜å·¥å§“åè¿›è¡ŒæŸ¥è¯¢ï¼ŒåŒæ—¶å¢åŠ ä¸€åˆ—å­—æ®µ<code>corporation</code>ï¼Œè¿™ä¸ªå­—æ®µå›ºå®šå€¼ä¸ºâ€œé˜¿é‡Œå·´å·´â€ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT &#x27;é˜¿é‡Œå·´å·´&#x27; as corporation, last_name FROM employees;</span><br></pre></td></tr></table></figure>

<h3 id="ç€é‡å·-å­—æ®µåä¸ä¿ç•™å­—æ®µå†²çª"><a href="#ç€é‡å·-å­—æ®µåä¸ä¿ç•™å­—æ®µå†²çª" class="headerlink" title="ç€é‡å· - å­—æ®µåä¸ä¿ç•™å­—æ®µå†²çª"></a>ç€é‡å· - å­—æ®µåä¸ä¿ç•™å­—æ®µå†²çª</h3><ul>
<li>é”™è¯¯çš„</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM ORDER;</span><br><span class="line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#x27;ORDER&#x27; at line 1</span><br></pre></td></tr></table></figure>

<ul>
<li>æ­£ç¡®çš„</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM `ORDER`;</span><br><span class="line">+----------+------------+</span><br><span class="line">| order_id | order_name |</span><br><span class="line">+----------+------------+</span><br><span class="line">|        1 | shkstart   |</span><br><span class="line">|        2 | tomcat     |</span><br><span class="line">|        3 | dubbo      |</span><br><span class="line">+----------+------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“è®º</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦ä¿è¯è¡¨ä¸­çš„å­—æ®µã€è¡¨åç­‰æ²¡æœ‰å’Œä¿ç•™å­—ã€æ•°æ®åº“ç³»ç»Ÿæˆ–å¸¸ç”¨æ–¹æ³•å†²çªã€‚å¦‚æœçœŸçš„ç›¸åŒï¼Œè¯·åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ä¸€å¯¹``ï¼ˆç€é‡å·ï¼‰å¼•èµ·æ¥ã€‚</p>
<h2 id="AS-åˆ—-è¡¨çš„åˆ«åï¼ˆALIASï¼‰"><a href="#AS-åˆ—-è¡¨çš„åˆ«åï¼ˆALIASï¼‰" class="headerlink" title="AS - åˆ—/è¡¨çš„åˆ«åï¼ˆALIASï¼‰"></a>AS - åˆ—/è¡¨çš„åˆ«åï¼ˆALIASï¼‰</h2><ul>
<li><p>é‡å‘½åä¸€ä¸ªåˆ—æˆ–è¡¨</p>
</li>
<li><p>ä¾¿äºè®¡ç®—</p>
</li>
<li><p>ç´§è·Ÿåˆ—/è¡¨åï¼Œä¹Ÿå¯ä»¥<strong>åœ¨åˆ—/è¡¨åå’Œåˆ«åä¹‹é—´åŠ å…¥å…³é”®å­—ASï¼Œåˆ«åä½¿ç”¨åŒå¼•å·</strong>ï¼Œä»¥ä¾¿åœ¨åˆ«åä¸­åŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šçš„å­—ç¬¦å¹¶åŒºåˆ†å¤§å°å†™ã€‚</p>
</li>
<li><p>AS å¯ä»¥çœç•¥ï¼Œæœ€å¥½åˆ«çœç•¥</p>
</li>
<li><p>å»ºè®®åˆ«åç®€çŸ­ï¼Œè§åçŸ¥æ„</p>
</li>
<li><p>ä¸¾ä¾‹ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name AS name, commission_pct comm</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name &quot;Name&quot;, salary*12 &quot;Annual Salary&quot;</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">AS alias_name</span><br></pre></td></tr></table></figure>
<h2 id="WHERE-è¿‡æ»¤æ•°æ®"><a href="#WHERE-è¿‡æ»¤æ•°æ®" class="headerlink" title="WHERE - è¿‡æ»¤æ•°æ®"></a>WHERE - è¿‡æ»¤æ•°æ®</h2><p>ä½¿ç”¨WHERE å­å¥ï¼Œå°†ä¸æ»¡è¶³æ¡ä»¶çš„è¡Œè¿‡æ»¤æ‰</p>
<p><strong>WHEREå­å¥ç´§éš FROMå­å¥</strong></p>
<ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT åˆ—åç§°1,åˆ—åç§°2</span><br><span class="line">FROM è¡¨åç§°</span><br><span class="line">WHERE è¿‡æ»¤æ¡ä»¶</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸¾ä¾‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id, last_name, job_id, department_id</span><br><span class="line">FROM   employees</span><br><span class="line">WHERE  department_id = 90 ;</span><br></pre></td></tr></table></figure>
WHERE å­å¥ä¸­çš„è¿ç®—ç¬¦</li>
</ul>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>ä¸ç­‰äºã€‚ <strong>æ³¨æ„</strong>ï¼šåœ¨æŸäº›ç‰ˆæœ¬çš„SQLä¸­ï¼Œè¿™ä¸ªæ“ä½œç¬¦å¯èƒ½å†™æˆ!=</td>
</tr>
<tr>
<td>&gt;</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>&lt;</td>
<td>å°äº</td>
</tr>
<tr>
<td>&gt;=</td>
<td>å¤§äºç­‰äº</td>
</tr>
<tr>
<td>&lt;=</td>
<td>å°äºç­‰äº</td>
</tr>
<tr>
<td>BETWEEN</td>
<td>åœ¨æŸä¸ªèŒƒå›´å†…</td>
</tr>
<tr>
<td>LIKE</td>
<td>æœç´¢æŸç§æ¨¡å¼</td>
</tr>
</tbody></table>
<hr>
<h2 id="ORDER-BY-æŒ‰å…³é”®è¯æ’åº"><a href="#ORDER-BY-æŒ‰å…³é”®è¯æ’åº" class="headerlink" title="ORDER BY - æŒ‰å…³é”®è¯æ’åº"></a>ORDER BY - æŒ‰å…³é”®è¯æ’åº</h2><ul>
<li><p>ORDER BY å…³é”®å­—ç”¨äºæŒ‰å‡åºæˆ–é™åºå¯¹ç»“æœé›†è¿›è¡Œæ’åºã€‚</p>
</li>
<li><p>ORDER BY å…³é”®å­—é»˜è®¤æƒ…å†µä¸‹æŒ‰å‡åºæ’åºè®°å½•ã€‚</p>
</li>
<li><p>ä½¿ç”¨ ORDER BY å­å¥æ’åº</p>
<ul>
<li><strong>ASCï¼ˆascendï¼‰:  å‡åºï¼ˆé»˜è®¤ï¼‰</strong></li>
<li><strong>DESCï¼ˆdescendï¼‰:  é™åº</strong></li>
</ul>
</li>
<li><p><strong>ORDER BY å­å¥åœ¨SELECTè¯­å¥çš„ç»“å°¾ã€‚</strong></p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ä¸åœ¨SELECTåˆ—è¡¨ä¸­çš„åˆ—æ’åºã€‚</p>
</li>
<li><p>åœ¨å¯¹å¤šåˆ—è¿›è¡Œæ’åºçš„æ—¶å€™ï¼Œé¦–å…ˆæ’åºçš„ç¬¬ä¸€åˆ—å¿…é¡»æœ‰ç›¸åŒçš„åˆ—å€¼ï¼Œæ‰ä¼šå¯¹ç¬¬äºŒåˆ—è¿›è¡Œæ’åºã€‚å¦‚æœç¬¬ä¸€åˆ—æ•°æ®ä¸­æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå°†ä¸å†å¯¹ç¬¬äºŒåˆ—è¿›è¡Œæ’åºã€‚</p>
</li>
</ul>
<p>å•åˆ—æ’åºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT   last_name, job_id, department_id, hire_date</span><br><span class="line">FROM     employees</span><br><span class="line">ORDER BY hire_date ;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT   last_name, job_id, department_id, hire_date</span><br><span class="line">FROM     employees</span><br><span class="line">ORDER BY hire_date DESC ;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id, last_name, salary*12 annsal</span><br><span class="line">FROM   employees</span><br><span class="line">ORDER BY annsal;</span><br></pre></td></tr></table></figure>

<p>å¤šåˆ—æ’åºï¼š</p>
<ul>
<li>å…ˆæŒ‰éƒ¨é—¨IDé™åºæ’åˆ—ï¼Œå†æŒ‰å·¥èµ„å‡åºæ’åˆ—ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT last_name, department_id, salary</span><br><span class="line">FROM   employees</span><br><span class="line">ORDER BY department_id DESC, salary ASC;</span><br></pre></td></tr></table></figure>

<h2 id="LIMIT-åˆ†é¡µæ˜¾ç¤º"><a href="#LIMIT-åˆ†é¡µæ˜¾ç¤º" class="headerlink" title="LIMIT - åˆ†é¡µæ˜¾ç¤º"></a>LIMIT - åˆ†é¡µæ˜¾ç¤º</h2><p>æ‰€è°“åˆ†é¡µæ˜¾ç¤ºï¼Œå°±æ˜¯å°†æ•°æ®åº“ä¸­çš„ç»“æœé›†ï¼Œä¸€æ®µä¸€æ®µæ˜¾ç¤ºå‡ºæ¥éœ€è¦çš„æ¡ä»¶ã€‚</p>
<ul>
<li><p><strong>MySQLä¸­ä½¿ç”¨ LIMIT å®ç°åˆ†é¡µ</strong></p>
</li>
<li><p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIMIT [ä½ç½®åç§»é‡,] è¡Œæ•°</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªâ€œä½ç½®åç§»é‡â€å‚æ•°æŒ‡ç¤ºMySQLä»å“ªä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå¦‚æœä¸æŒ‡å®šâ€œä½ç½®åç§»é‡â€ï¼Œå°†ä¼šä»è¡¨ä¸­çš„ç¬¬ä¸€æ¡è®°å½•å¼€å§‹ï¼ˆç¬¬ä¸€æ¡è®°å½•çš„ä½ç½®åç§»é‡æ˜¯0ï¼Œç¬¬äºŒæ¡è®°å½•çš„ä½ç½®åç§»é‡æ˜¯1ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ï¼›</p>
<p>ç¬¬äºŒä¸ªå‚æ•°â€œè¡Œæ•°â€æŒ‡ç¤ºè¿”å›çš„è®°å½•æ¡æ•°ã€‚</p>
</li>
<li><p>ä¸¾ä¾‹</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--å‰10æ¡è®°å½•ï¼š</span><br><span class="line">SELECT * FROM è¡¨å LIMIT 0,10;</span><br><span class="line">æˆ–è€…</span><br><span class="line">SELECT * FROM è¡¨å LIMIT 10;</span><br><span class="line"></span><br><span class="line">--ç¬¬11è‡³20æ¡è®°å½•ï¼š</span><br><span class="line">SELECT * FROM è¡¨å LIMIT 10,10;</span><br><span class="line"></span><br><span class="line">--ç¬¬21è‡³30æ¡è®°å½•ï¼š </span><br><span class="line">SELECT * FROM è¡¨å LIMIT 20,10;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>MySQL 8.0ä¸­å¯ä»¥ä½¿ç”¨â€œLIMIT 3 OFFSET 4â€ï¼Œæ„æ€æ˜¯è·å–ä»ç¬¬5æ¡è®°å½•å¼€å§‹åé¢çš„3æ¡è®°å½•ï¼Œå’Œâ€œLIMIT 4,3;â€è¿”å›çš„ç»“æœç›¸åŒã€‚</p>
</blockquote>
<ul>
<li>åˆ†é¡µæ˜¾å¼å…¬å¼<strong>ï¼šï¼ˆå½“å‰é¡µæ•°-1ï¼‰*æ¯é¡µæ¡æ•°ï¼Œæ¯é¡µæ¡æ•°</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table </span><br><span class="line">LIMIT(PageNo - 1)*PageSize,PageSize;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ³¨æ„ï¼šLIMIT å­å¥å¿…é¡»æ”¾åœ¨æ•´ä¸ªSELECTè¯­å¥çš„æœ€åï¼</strong></li>
<li>ä½¿ç”¨ LIMIT çš„å¥½å¤„</li>
</ul>
<p>çº¦æŸè¿”å›ç»“æœçš„æ•°é‡å¯ä»¥<code>å‡å°‘æ•°æ®è¡¨çš„ç½‘ç»œä¼ è¾“é‡</code>ï¼Œä¹Ÿå¯ä»¥<code>æå‡æŸ¥è¯¢æ•ˆç‡</code>ã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“è¿”å›ç»“æœåªæœ‰ 1 æ¡ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>LIMIT 1</code>ï¼Œå‘Šè¯‰ SELECT è¯­å¥åªéœ€è¦è¿”å›ä¸€æ¡è®°å½•å³å¯ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯ SELECT ä¸éœ€è¦æ‰«æå®Œæ•´çš„è¡¨ï¼Œåªéœ€è¦æ£€ç´¢åˆ°ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è®°å½•å³å¯è¿”å›ã€‚</p>
<h3 id="2-3-æ‹“å±•"><a href="#2-3-æ‹“å±•" class="headerlink" title="2.3 æ‹“å±•"></a>2.3 æ‹“å±•</h3><p>åœ¨ä¸åŒçš„ DBMS ä¸­ä½¿ç”¨çš„å…³é”®å­—å¯èƒ½ä¸åŒã€‚åœ¨ MySQLã€PostgreSQLã€MariaDB å’Œ SQLite ä¸­ä½¿ç”¨ LIMIT å…³é”®å­—ï¼Œè€Œä¸”éœ€è¦æ”¾åˆ° SELECT è¯­å¥çš„æœ€åé¢ã€‚</p>
<ul>
<li>å¦‚æœæ˜¯ SQL Server å’Œ Accessï¼Œéœ€è¦ä½¿ç”¨ <code>TOP</code> å…³é”®å­—ï¼Œæ¯”å¦‚ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT TOP 5 name, hp_max FROM heros ORDER BY hp_max DESC</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœæ˜¯ DB2ï¼Œä½¿ç”¨<code>FETCH FIRST 5 ROWS ONLY</code>è¿™æ ·çš„å…³é”®å­—ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name, hp_max FROM heros ORDER BY hp_max DESC FETCH FIRST 5 ROWS ONLY</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœæ˜¯ Oracleï¼Œä½ éœ€è¦åŸºäº <code>ROWNUM</code> æ¥ç»Ÿè®¡è¡Œæ•°ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT rownum,last_name,salary FROM employees WHERE rownum &lt; 5 ORDER BY salary DESC;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™æ¡è¯­å¥æ˜¯å…ˆå–å‡ºæ¥å‰ 5 æ¡æ•°æ®è¡Œï¼Œç„¶åå†æŒ‰ç…§ hp_max ä»é«˜åˆ°ä½çš„é¡ºåºè¿›è¡Œæ’åºã€‚ä½†è¿™æ ·äº§ç”Ÿçš„ç»“æœå’Œä¸Šè¿°æ–¹æ³•çš„å¹¶ä¸ä¸€æ ·ã€‚æˆ‘ä¼šåœ¨åé¢è®²åˆ°å­æŸ¥è¯¢ï¼Œä½ å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT rownum, last_name,salary</span><br><span class="line">FROM (</span><br><span class="line">    SELECT last_name,salary</span><br><span class="line">    FROM employees</span><br><span class="line">    ORDER BY salary DESC)</span><br><span class="line">WHERE rownum &lt; 10;</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°ä¸ä¸Šè¿°æ–¹æ³•ä¸€è‡´çš„ç»“æœã€‚</p>
<h2 id="å¤šè¡¨è¿æ¥åˆ†ç±»"><a href="#å¤šè¡¨è¿æ¥åˆ†ç±»" class="headerlink" title="å¤šè¡¨è¿æ¥åˆ†ç±»"></a>å¤šè¡¨è¿æ¥åˆ†ç±»</h2><h3 id="ç­‰å€¼è¿æ¥-vs-éç­‰å€¼è¿æ¥"><a href="#ç­‰å€¼è¿æ¥-vs-éç­‰å€¼è¿æ¥" class="headerlink" title="ç­‰å€¼è¿æ¥ vs éç­‰å€¼è¿æ¥"></a>ç­‰å€¼è¿æ¥ vs éç­‰å€¼è¿æ¥</h3><h4 id="ç­‰å€¼è¿æ¥"><a href="#ç­‰å€¼è¿æ¥" class="headerlink" title="ç­‰å€¼è¿æ¥"></a>ç­‰å€¼è¿æ¥</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554975496900.png" alt="1554975496900"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT employees.employee_id, employees.last_name, </span><br><span class="line">       employees.department_id, departments.department_id,</span><br><span class="line">       departments.location_id</span><br><span class="line">FROM   employees, departments</span><br><span class="line">WHERE  employees.department_id = departments.department_id;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554975522600.png" alt="1554975522600"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554975526339.png" alt="1554975526339"></p>
<p><strong>åŒºåˆ†é‡å¤çš„åˆ—å</strong></p>
<ul>
<li><strong>å¤šä¸ªè¡¨ä¸­æœ‰ç›¸åŒåˆ—æ—¶ï¼Œå¿…é¡»åœ¨åˆ—åä¹‹å‰åŠ ä¸Šè¡¨åå‰ç¼€ã€‚</strong></li>
<li>åœ¨ä¸åŒè¡¨ä¸­å…·æœ‰ç›¸åŒåˆ—åçš„åˆ—å¯ä»¥ç”¨<code>è¡¨å</code>åŠ ä»¥åŒºåˆ†ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employees.last_name, departments.department_name,employees.department_id</span><br><span class="line">FROM employees, departments</span><br><span class="line">WHERE employees.department_id = departments.department_id;</span><br></pre></td></tr></table></figure>

<p><strong>è¡¨çš„åˆ«å</strong></p>
<ul>
<li><p>ä½¿ç”¨åˆ«åå¯ä»¥ç®€åŒ–æŸ¥è¯¢ã€‚</p>
</li>
<li><p>åˆ—åå‰ä½¿ç”¨è¡¨åå‰ç¼€å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, e.department_id,</span><br><span class="line">       d.department_id, d.location_id</span><br><span class="line">FROM   employees e , departments d</span><br><span class="line">WHERE  e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†è¡¨çš„åˆ«åï¼Œåœ¨æŸ¥è¯¢å­—æ®µä¸­ã€è¿‡æ»¤æ¡ä»¶ä¸­å°±åªèƒ½ä½¿ç”¨åˆ«åè¿›è¡Œä»£æ›¿ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„è¡¨åï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<blockquote>
<p><code>é˜¿é‡Œå¼€å‘è§„èŒƒ</code>ï¼š</p>
<p>ã€<code>å¼ºåˆ¶</code>ã€‘å¯¹äºæ•°æ®åº“ä¸­è¡¨è®°å½•çš„æŸ¥è¯¢å’Œå˜æ›´ï¼Œåªè¦æ¶‰åŠå¤šä¸ªè¡¨ï¼Œéƒ½éœ€è¦åœ¨åˆ—åå‰åŠ è¡¨çš„åˆ«åï¼ˆæˆ– è¡¨åï¼‰è¿›è¡Œé™å®šã€‚ </p>
<p><code>è¯´æ˜</code>ï¼šå¯¹å¤šè¡¨è¿›è¡ŒæŸ¥è¯¢è®°å½•ã€æ›´æ–°è®°å½•ã€åˆ é™¤è®°å½•æ—¶ï¼Œå¦‚æœå¯¹æ“ä½œåˆ—æ²¡æœ‰é™å®šè¡¨çš„åˆ«åï¼ˆæˆ–è¡¨åï¼‰ï¼Œå¹¶ä¸”æ“ä½œåˆ—åœ¨å¤šä¸ªè¡¨ä¸­å­˜åœ¨æ—¶ï¼Œå°±ä¼šæŠ›å¼‚å¸¸ã€‚ </p>
<p><code>æ­£ä¾‹</code>ï¼šselect t1.name from table_first as t1 , table_second as t2 where t1.id=t2.id; </p>
<p><code>åä¾‹</code>ï¼šåœ¨æŸä¸šåŠ¡ä¸­ï¼Œç”±äºå¤šè¡¨å…³è”æŸ¥è¯¢è¯­å¥æ²¡æœ‰åŠ è¡¨çš„åˆ«åï¼ˆæˆ–è¡¨åï¼‰çš„é™åˆ¶ï¼Œæ­£å¸¸è¿è¡Œä¸¤å¹´åï¼Œæœ€è¿‘åœ¨ æŸä¸ªè¡¨ä¸­å¢åŠ ä¸€ä¸ªåŒåå­—æ®µï¼Œåœ¨é¢„å‘å¸ƒç¯å¢ƒåšæ•°æ®åº“å˜æ›´åï¼Œçº¿ä¸ŠæŸ¥è¯¢è¯­å¥å‡ºç°å‡º 1052 å¼‚å¸¸ï¼šColumn  â€˜nameâ€™ in field list is ambiguousã€‚</p>
</blockquote>
<h4 id="éç­‰å€¼è¿æ¥"><a href="#éç­‰å€¼è¿æ¥" class="headerlink" title="éç­‰å€¼è¿æ¥"></a>éç­‰å€¼è¿æ¥</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978442447.png" alt="1554978442447"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.last_name, e.salary, j.grade_level</span><br><span class="line">FROM   employees e, job_grades j</span><br><span class="line">WHERE  e.salary BETWEEN j.lowest_sal AND j.highest_sal;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978477013.png" alt="1554978477013"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978482652.png" alt="1554978482652"></p>
<h3 id="è‡ªè¿æ¥-vs-éè‡ªè¿æ¥"><a href="#è‡ªè¿æ¥-vs-éè‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥ vs éè‡ªè¿æ¥"></a>è‡ªè¿æ¥ vs éè‡ªè¿æ¥</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978514321.png" alt="1554978514321"></p>
<ul>
<li>è‡ªè¿æ¥ï¼šå½“table1å’Œtable2æœ¬è´¨ä¸Šæ˜¯åŒä¸€å¼ è¡¨ï¼Œåªæ˜¯ç”¨å–åˆ«åçš„æ–¹å¼è™šæ‹Ÿæˆä¸¤å¼ è¡¨ä»¥ä»£è¡¨ä¸åŒçš„æ„ä¹‰ã€‚ç„¶åä¸¤ä¸ªè¡¨å†è¿›è¡Œå†…è¿æ¥ï¼Œå¤–è¿æ¥ç­‰æŸ¥è¯¢ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šæŸ¥è¯¢employeesè¡¨ï¼Œè¿”å›â€œXxx  works for Xxxâ€</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT CONCAT(</span><br><span class="line">    		worker.last_name ,</span><br><span class="line">    		&#x27; works for &#x27; , </span><br><span class="line">    		manager.last_name)</span><br><span class="line">FROM   employees AS worker, employees AS manager</span><br><span class="line">WHERE  worker.manager_id = manager.employee_id ;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978684947.png" alt="1554978684947"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978690764.png" alt="1554978690764"></p>
<h3 id="å†…è¿æ¥-vs-å¤–è¿æ¥"><a href="#å†…è¿æ¥-vs-å¤–è¿æ¥" class="headerlink" title="å†…è¿æ¥ vs å¤–è¿æ¥"></a>å†…è¿æ¥ vs å¤–è¿æ¥</h3><p>é™¤äº†æŸ¥è¯¢æ»¡è¶³æ¡ä»¶çš„è®°å½•ä»¥å¤–ï¼Œå¤–è¿æ¥è¿˜å¯ä»¥æŸ¥è¯¢æŸä¸€æ–¹ä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554978955659.png" alt="1554978955659"></p>
<ul>
<li><p>å†…è¿æ¥: åˆå¹¶å…·æœ‰åŒä¸€åˆ—çš„ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨çš„è¡Œ, <strong>ç»“æœé›†ä¸­ä¸åŒ…å«ä¸€ä¸ªè¡¨ä¸å¦ä¸€ä¸ªè¡¨ä¸åŒ¹é…çš„è¡Œ</strong>ã€‚</p>
</li>
<li><p>å¤–è¿æ¥: ä¸¤ä¸ªè¡¨åœ¨è¿æ¥è¿‡ç¨‹ä¸­é™¤äº†è¿”å›æ»¡è¶³è¿æ¥æ¡ä»¶çš„è¡Œä»¥å¤–<strong>è¿˜è¿”å›å·¦ï¼ˆæˆ–å³ï¼‰è¡¨ä¸­ä¸æ»¡è¶³æ¡ä»¶çš„è¡Œ</strong> <strong>ï¼Œè¿™ç§è¿æ¥ç§°ä¸ºå·¦ï¼ˆæˆ–å³ï¼‰ å¤–è¿æ¥</strong>ã€‚æ²¡æœ‰åŒ¹é…çš„è¡Œæ—¶, ç»“æœè¡¨ä¸­ç›¸åº”çš„åˆ—ä¸ºç©º(NULL)ã€‚</p>
</li>
<li><p>å¦‚æœæ˜¯å·¦å¤–è¿æ¥ï¼Œåˆ™è¿æ¥æ¡ä»¶ä¸­å·¦è¾¹çš„è¡¨ä¹Ÿç§°ä¸º<code>ä¸»è¡¨</code>ï¼Œå³è¾¹çš„è¡¨ç§°ä¸º<code>ä»è¡¨</code>ã€‚</p>
<p>å¦‚æœæ˜¯å³å¤–è¿æ¥ï¼Œåˆ™è¿æ¥æ¡ä»¶ä¸­å³è¾¹çš„è¡¨ä¹Ÿç§°ä¸º<code>ä¸»è¡¨</code>ï¼Œå·¦è¾¹çš„è¡¨ç§°ä¸º<code>ä»è¡¨</code>ã€‚</p>
</li>
</ul>
<h4 id="SQL92ï¼šä½¿ç”¨-åˆ›å»ºè¿æ¥"><a href="#SQL92ï¼šä½¿ç”¨-åˆ›å»ºè¿æ¥" class="headerlink" title="SQL92ï¼šä½¿ç”¨(+)åˆ›å»ºè¿æ¥"></a>SQL92ï¼šä½¿ç”¨(+)åˆ›å»ºè¿æ¥</h4><ul>
<li><p>åœ¨ SQL92 ä¸­é‡‡ç”¨ï¼ˆ+ï¼‰ä»£è¡¨ä»è¡¨æ‰€åœ¨çš„ä½ç½®ã€‚å³å·¦æˆ–å³å¤–è¿æ¥ä¸­ï¼Œ(+) è¡¨ç¤ºå“ªä¸ªæ˜¯ä»è¡¨ã€‚</p>
</li>
<li><p>Oracle å¯¹ SQL92 æ”¯æŒè¾ƒå¥½ï¼Œè€Œ <strong>MySQL åˆ™ä¸æ”¯æŒ SQL92 çš„å¤–è¿æ¥</strong>ã€‚</p>
</li>
<li><p>åœ¨ SQL92 ä¸­ï¼Œåªæœ‰å·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥ï¼Œæ²¡æœ‰æ»¡ï¼ˆæˆ–å…¨ï¼‰å¤–è¿æ¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#å·¦å¤–è¿æ¥</span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees ,departments</span><br><span class="line">WHERE employees.department_id = departments.department_id(+);</span><br><span class="line"></span><br><span class="line">#å³å¤–è¿æ¥</span><br><span class="line">SELECT last_name,department_name</span><br><span class="line">FROM employees ,departments</span><br><span class="line">WHERE employees.department_id(+) = departments.department_id;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="å¤šè¡¨è¿æ¥æŸ¥è¯¢"><a href="#å¤šè¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨è¿æ¥æŸ¥è¯¢"></a>å¤šè¡¨è¿æ¥æŸ¥è¯¢</h2><h3 id="åŸºæœ¬è¯­æ³•-1"><a href="#åŸºæœ¬è¯­æ³•-1" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><ul>
<li><p>ä½¿ç”¨<code>JOIN</code>â€¦<code>ON</code>å­å¥åˆ›å»ºè¿æ¥çš„è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT table1.column, table2.column,table3.column</span><br><span class="line">FROM table1</span><br><span class="line">    JOIN table2 ON table1 å’Œ table2 çš„è¿æ¥æ¡ä»¶</span><br><span class="line">        JOIN table3 ON table2 å’Œ table3 çš„è¿æ¥æ¡ä»¶</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„åµŒå¥—é€»è¾‘ç±»ä¼¼æˆ‘ä»¬ä½¿ç”¨çš„ FOR å¾ªç¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for t1 in table1:</span><br><span class="line">    for t2 in table2:</span><br><span class="line">       if condition1:</span><br><span class="line">           for t3 in table3:</span><br><span class="line">              if condition2:</span><br><span class="line">                  output t1 + t2 + t3</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¯­æ³•è¯´æ˜ï¼š</p>
<ul>
<li><strong>å¯ä»¥ä½¿ç”¨</strong> <strong>ON</strong> <strong>å­å¥æŒ‡å®šé¢å¤–çš„è¿æ¥æ¡ä»¶</strong>ã€‚</li>
<li>è¿™ä¸ªè¿æ¥æ¡ä»¶æ˜¯ä¸å…¶å®ƒæ¡ä»¶åˆ†å¼€çš„ã€‚</li>
<li><strong>ON</strong> <strong>å­å¥ä½¿è¯­å¥å…·æœ‰æ›´é«˜çš„æ˜“è¯»æ€§</strong>ã€‚</li>
<li>å…³é”®å­— JOINã€INNER JOINã€CROSS JOIN çš„å«ä¹‰æ˜¯ä¸€æ ·çš„ï¼Œéƒ½è¡¨ç¤ºå†…è¿æ¥</li>
</ul>
</li>
</ul>
<h3 id="INNER-JOIN-å†…è¿æ¥"><a href="#INNER-JOIN-å†…è¿æ¥" class="headerlink" title="INNER JOIN -  å†…è¿æ¥"></a>INNER JOIN -  å†…è¿æ¥</h3><ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT åˆ—å</span><br><span class="line">FROM è¡¨å1 INNER JOIN è¡¨å2</span><br><span class="line">ON å…³è”æ¡ä»¶</span><br><span class="line">WHERE ç­‰å…¶ä»–å­å¥;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.employee_id, e.last_name, e.department_id, </span><br><span class="line">       d.department_id, d.location_id</span><br><span class="line">FROM   employees e JOIN departments d</span><br><span class="line">ON     (e.department_id = d.department_id);</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979073996.png" alt="1554979073996"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979079395.png" alt="1554979079395"></p>
<p>é¢˜ç›®2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id, city, department_name</span><br><span class="line">FROM   employees e </span><br><span class="line">JOIN   departments d</span><br><span class="line">ON     d.department_id = e.department_id </span><br><span class="line">JOIN   locations l</span><br><span class="line">ON     d.location_id = l.location_id;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979110008.png" alt="1554979110008"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979115642.png" alt="1554979115642"></p>
<h3 id="OUTER-JOIN-å¤–è¿æ¥"><a href="#OUTER-JOIN-å¤–è¿æ¥" class="headerlink" title="OUTER JOIN - å¤–è¿æ¥"></a>OUTER JOIN - å¤–è¿æ¥</h3><h4 id="LEFT-OUTER-JOIN-å·¦å¤–è¿æ¥"><a href="#LEFT-OUTER-JOIN-å·¦å¤–è¿æ¥" class="headerlink" title="LEFT OUTER JOIN - å·¦å¤–è¿æ¥"></a>LEFT OUTER JOIN - å·¦å¤–è¿æ¥</h4><ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#å®ç°æŸ¥è¯¢ç»“æœæ˜¯A</span><br><span class="line">SELECT å­—æ®µåˆ—è¡¨</span><br><span class="line">FROM Aè¡¨ LEFT JOIN Bè¡¨</span><br><span class="line">ON å…³è”æ¡ä»¶</span><br><span class="line">WHERE ç­‰å…¶ä»–å­å¥;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¾ä¾‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.last_name, e.department_id, d.department_name</span><br><span class="line">FROM   employees e</span><br><span class="line">LEFT OUTER JOIN departments d</span><br><span class="line">ON   (e.department_id = d.department_id) ;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979200961.png" alt="1554979200961"></p>
<h4 id="RIGHT-OUTER-JOIN-å³å¤–è¿æ¥"><a href="#RIGHT-OUTER-JOIN-å³å¤–è¿æ¥" class="headerlink" title="RIGHT OUTER JOIN - å³å¤–è¿æ¥"></a>RIGHT OUTER JOIN - å³å¤–è¿æ¥</h4><ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#å®ç°æŸ¥è¯¢ç»“æœæ˜¯B</span><br><span class="line">SELECT å­—æ®µåˆ—è¡¨</span><br><span class="line">FROM Aè¡¨ RIGHT JOIN Bè¡¨</span><br><span class="line">ON å…³è”æ¡ä»¶</span><br><span class="line">WHERE ç­‰å…¶ä»–å­å¥;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¾ä¾‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT e.last_name, e.department_id, d.department_name</span><br><span class="line">FROM   employees e</span><br><span class="line">RIGHT OUTER JOIN departments d</span><br><span class="line">ON    (e.department_id = d.department_id) ;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/%E5%B7%A5%E4%BD%9C/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/1554979243194.png" alt="1554979243194"></p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒLEFT JOIN å’Œ RIGHT JOIN åªå­˜åœ¨äº SQL99 åŠä»¥åçš„æ ‡å‡†ä¸­ï¼Œåœ¨ SQL92 ä¸­ä¸å­˜åœ¨ï¼Œåªèƒ½ç”¨ (+) è¡¨ç¤ºã€‚</p>
</blockquote>
<h4 id="FULL-OUTER-JOIN-å®Œå…¨å¤–è¿æ¥"><a href="#FULL-OUTER-JOIN-å®Œå…¨å¤–è¿æ¥" class="headerlink" title="FULL OUTER JOIN - å®Œå…¨å¤–è¿æ¥"></a>FULL OUTER JOIN - å®Œå…¨å¤–è¿æ¥</h4><ul>
<li>å®Œå…¨å¤–è¿æ¥çš„ç»“æœ = å·¦å³è¡¨åŒ¹é…çš„æ•°æ® + å·¦è¡¨æ²¡æœ‰åŒ¹é…åˆ°çš„æ•°æ® + å³è¡¨æ²¡æœ‰åŒ¹é…åˆ°çš„æ•°æ®ã€‚</li>
<li>SQL99æ˜¯æ”¯æŒå®Œå…¨å¤–è¿æ¥çš„ã€‚ä½¿ç”¨FULL JOIN æˆ– FULL OUTER JOINæ¥å®ç°ã€‚</li>
<li><strong>MySQLä¸æ”¯æŒFULL JOIN</strong>ï¼Œä½†æ˜¯å¯ä»¥ç”¨ LEFT JOIN <strong>UNION</strong> RIGHT joinä»£æ›¿ã€‚</li>
</ul>
<h2 id="UNION-åˆå¹¶ç»“æœé›†"><a href="#UNION-åˆå¹¶ç»“æœé›†" class="headerlink" title="UNION - åˆå¹¶ç»“æœé›†"></a>UNION - åˆå¹¶ç»“æœé›†</h2><p><strong>åˆå¹¶æŸ¥è¯¢ç»“æœ</strong></p>
<ul>
<li><p>åˆ©ç”¨UNIONå…³é”®å­—ï¼Œå¯ä»¥ç»™å‡ºå¤šæ¡SELECTè¯­å¥ï¼Œå¹¶å°†å®ƒä»¬çš„ç»“æœç»„åˆæˆå•ä¸ªç»“æœé›†ã€‚</p>
</li>
<li><p>åˆå¹¶æ—¶ï¼Œä¸¤ä¸ªè¡¨å¯¹åº”çš„åˆ—æ•°å’Œæ•°æ®ç±»å‹å¿…é¡»ç›¸åŒï¼Œå¹¶ä¸”ç›¸äº’å¯¹åº”ã€‚å„ä¸ªSELECTè¯­å¥ä¹‹é—´ä½¿ç”¨UNIONæˆ–UNION ALLå…³é”®å­—åˆ†éš”ã€‚</p>
</li>
</ul>
<p>è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column,... FROM table1</span><br><span class="line">UNION [ALL]</span><br><span class="line">SELECT column,... FROM table2</span><br></pre></td></tr></table></figure>

<p><strong>UNIONæ“ä½œç¬¦</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/å·¥ä½œ/å­¦ä¹ èµ„æ–™/mysqlåŸºç¡€ç¯‡ç¬”è®°/images/1554979317187.png" alt="1554979317187" style="zoom: 67%;" />

<p>UNION æ“ä½œç¬¦è¿”å›ä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†çš„å¹¶é›†ï¼Œå»é™¤é‡å¤è®°å½•ã€‚</p>
<p><strong>UNION ALLæ“ä½œç¬¦</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/å·¥ä½œ/å­¦ä¹ èµ„æ–™/mysqlåŸºç¡€ç¯‡ç¬”è®°/images/1554979343634.png" alt="1554979343634" style="zoom: 67%;" />

<p>UNION ALLæ“ä½œç¬¦è¿”å›ä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†çš„å¹¶é›†ã€‚å¯¹äºä¸¤ä¸ªç»“æœé›†çš„é‡å¤éƒ¨åˆ†ï¼Œä¸å»é‡ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæ‰§è¡ŒUNION ALLè¯­å¥æ—¶æ‰€éœ€è¦çš„èµ„æºæ¯”UNIONè¯­å¥å°‘ã€‚å¦‚æœæ˜ç¡®çŸ¥é“åˆå¹¶æ•°æ®åçš„ç»“æœæ•°æ®ä¸å­˜åœ¨é‡å¤æ•°æ®ï¼Œæˆ–è€…ä¸éœ€è¦å»é™¤é‡å¤çš„æ•°æ®ï¼Œåˆ™å°½é‡ä½¿ç”¨UNION ALLè¯­å¥ï¼Œä»¥æé«˜æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ã€‚</p>
</blockquote>
<p>ä¸¾ä¾‹ï¼šæŸ¥è¯¢éƒ¨é—¨ç¼–å·&gt;90æˆ–é‚®ç®±åŒ…å«açš„å‘˜å·¥ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼1</span><br><span class="line">SELECT * FROM employees </span><br><span class="line">WHERE email LIKE &#x27;%a%&#x27; OR department_id&gt;90;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼2</span><br><span class="line">SELECT * FROM employees  </span><br><span class="line">WHERE email LIKE &#x27;%a%&#x27;</span><br><span class="line">UNION</span><br><span class="line">SELECT * FROM employees  </span><br><span class="line">WHERE department_id&gt;90;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼šæŸ¥è¯¢ä¸­å›½ç”¨æˆ·ä¸­ç”·æ€§çš„ä¿¡æ¯ä»¥åŠç¾å›½ç”¨æˆ·ä¸­å¹´ç”·æ€§çš„ç”¨æˆ·ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT id,cname FROM t_chinamale </span><br><span class="line">WHERE csex=&#x27;ç”·&#x27;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT id,tname FROM t_usmale </span><br><span class="line">WHERE tGender=&#x27;male&#x27;;</span><br></pre></td></tr></table></figure>

<h2 id="7ç§SQLè¿æ¥çš„å®ç°"><a href="#7ç§SQLè¿æ¥çš„å®ç°" class="headerlink" title="7ç§SQLè¿æ¥çš„å®ç°"></a>7ç§SQLè¿æ¥çš„å®ç°</h2><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/å·¥ä½œ/å­¦ä¹ èµ„æ–™/mysqlåŸºç¡€ç¯‡ç¬”è®°/images/1554979255233.png" alt="1554979255233" style="zoom:80%;" />

<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ä¸­å›¾ï¼šå†…è¿æ¥ Aâˆ©B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å·¦ä¸Šå›¾ï¼šå·¦å¤–è¿æ¥</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å³ä¸Šå›¾ï¼šå³å¤–è¿æ¥</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#å·¦ä¸­å›¾ï¼šA - Aâˆ©B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#å³ä¸­å›¾ï¼šB-Aâˆ©B</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE e.`department_id` IS NULL</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#å·¦ä¸‹å›¾ï¼šæ»¡å¤–è¿æ¥</span><br><span class="line"># å·¦ä¸­å›¾ + å³ä¸Šå›¾  AâˆªB</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br><span class="line">UNION ALL  #æ²¡æœ‰å»é‡æ“ä½œï¼Œæ•ˆç‡é«˜</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#å³ä¸‹å›¾</span><br><span class="line">#å·¦ä¸­å›¾ + å³ä¸­å›¾  A âˆªB- Aâˆ©B æˆ–è€… (A -  Aâˆ©B) âˆª ï¼ˆB - Aâˆ©Bï¼‰</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e LEFT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE d.`department_id` IS NULL</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e RIGHT JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">WHERE e.`department_id` IS NULL</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªç„¶è¿æ¥"><a href="#è‡ªç„¶è¿æ¥" class="headerlink" title="è‡ªç„¶è¿æ¥"></a>è‡ªç„¶è¿æ¥</h3><p>SQL99 åœ¨ SQL92 çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›ç‰¹æ®Šè¯­æ³•ï¼Œæ¯”å¦‚ <code>NATURAL JOIN</code> ç”¨æ¥è¡¨ç¤ºè‡ªç„¶è¿æ¥ã€‚æˆ‘ä»¬å¯ä»¥æŠŠè‡ªç„¶è¿æ¥ç†è§£ä¸º SQL92 ä¸­çš„ç­‰å€¼è¿æ¥ã€‚å®ƒä¼šå¸®ä½ è‡ªåŠ¨æŸ¥è¯¢ä¸¤å¼ è¿æ¥è¡¨ä¸­<code>æ‰€æœ‰ç›¸åŒçš„å­—æ®µ</code>ï¼Œç„¶åè¿›è¡Œ<code>ç­‰å€¼è¿æ¥</code>ã€‚</p>
<p>åœ¨SQL92ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">ON e.`department_id` = d.`department_id`</span><br><span class="line">AND e.`manager_id` = d.`manager_id`;</span><br></pre></td></tr></table></figure>

<p>åœ¨ SQL99 ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e NATURAL JOIN departments d;</span><br></pre></td></tr></table></figure>

<h2 id="USING-ç­‰å€¼è¿æ¥"><a href="#USING-ç­‰å€¼è¿æ¥" class="headerlink" title="USING - ç­‰å€¼è¿æ¥"></a>USING - ç­‰å€¼è¿æ¥</h2><p>å½“æˆ‘ä»¬è¿›è¡Œè¿æ¥çš„æ—¶å€™ï¼ŒSQL99æ”¯æŒä½¿ç”¨ USING æŒ‡å®šæ•°æ®è¡¨é‡Œçš„<code>åŒåå­—æ®µ</code>è¿›è¡Œç­‰å€¼è¿æ¥ã€‚ä½†æ˜¯åªèƒ½é…åˆJOINä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<ul>
<li><p>ä¸è‡ªç„¶è¿æ¥ NATURAL JOIN ä¸åŒçš„æ˜¯ï¼ŒUSING æŒ‡å®šäº†å…·ä½“çš„ç›¸åŒçš„å­—æ®µåç§°ï¼Œéœ€è¦åœ¨ USING çš„æ‹¬å· () ä¸­å¡«å…¥è¦æŒ‡å®šçš„åŒåå­—æ®µã€‚</p>
</li>
<li><p>åŒæ—¶ä½¿ç”¨ <code>JOIN...USING</code> å¯ä»¥ç®€åŒ– JOIN ON çš„ç­‰å€¼è¿æ¥ã€‚å®ƒä¸ä¸‹é¢çš„ SQL æŸ¥è¯¢ç»“æœæ˜¯ç›¸åŒçš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e JOIN departments d</span><br><span class="line">USING (department_id);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT employee_id,last_name,department_name</span><br><span class="line">FROM employees e ,departments d</span><br><span class="line">WHERE e.department_id = d.department_id;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>è¡¨è¿æ¥çš„çº¦æŸæ¡ä»¶å¯ä»¥æœ‰ä¸‰ç§æ–¹å¼ï¼š<strong>WHERE</strong>, <strong>ON</strong>, <strong>USING</strong></p>
<ul>
<li><p>WHEREï¼šé€‚ç”¨äºæ‰€æœ‰å…³è”æŸ¥è¯¢</p>
</li>
<li><p><code>ON</code>ï¼š<strong>åªèƒ½å’ŒJOINä¸€èµ·ä½¿ç”¨</strong>ï¼Œåªèƒ½å†™å…³è”æ¡ä»¶ã€‚è™½ç„¶å…³è”æ¡ä»¶å¯ä»¥å¹¶åˆ°WHEREä¸­å’Œå…¶ä»–æ¡ä»¶ä¸€èµ·å†™ï¼Œä½†åˆ†å¼€å†™å¯è¯»æ€§æ›´å¥½ã€‚</p>
</li>
<li><p>USINGï¼š<strong>åªèƒ½å’ŒJOINä¸€èµ·ä½¿ç”¨</strong>ï¼Œè€Œä¸”è¦æ±‚<strong>ä¸¤ä¸ª</strong>å…³è”å­—æ®µåœ¨å…³è”è¡¨ä¸­åç§°ä¸€è‡´ï¼Œè€Œä¸”åªèƒ½è¡¨ç¤ºå…³è”å­—æ®µå€¼ç›¸ç­‰ã€‚</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#å…³è”æ¡ä»¶</span><br><span class="line">#æŠŠå…³è”æ¡ä»¶å†™åœ¨whereåé¢</span><br><span class="line">SELECT last_name,department_name </span><br><span class="line">FROM employees,departments </span><br><span class="line">WHERE employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">#æŠŠå…³è”æ¡ä»¶å†™åœ¨onåé¢ï¼Œåªèƒ½å’ŒJOINä¸€èµ·ä½¿ç”¨</span><br><span class="line">SELECT last_name,department_name </span><br><span class="line">FROM employees INNER JOIN departments </span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,department_name </span><br><span class="line">FROM employees CROSS JOIN departments </span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,department_name  </span><br><span class="line">FROM employees JOIN departments </span><br><span class="line">ON employees.department_id = departments.department_id;</span><br><span class="line"></span><br><span class="line">#æŠŠå…³è”å­—æ®µå†™åœ¨using()ä¸­ï¼Œåªèƒ½å’ŒJOINä¸€èµ·ä½¿ç”¨</span><br><span class="line">#è€Œä¸”ä¸¤ä¸ªè¡¨ä¸­çš„å…³è”å­—æ®µå¿…é¡»åç§°ç›¸åŒï¼Œè€Œä¸”åªèƒ½è¡¨ç¤º=</span><br><span class="line">#æŸ¥è¯¢å‘˜å·¥å§“åä¸åŸºæœ¬å·¥èµ„</span><br><span class="line">SELECT last_name,job_title</span><br><span class="line">FROM employees INNER JOIN jobs USING(job_id);</span><br><span class="line"></span><br><span class="line">#nå¼ è¡¨å…³è”ï¼Œéœ€è¦n-1ä¸ªå…³è”æ¡ä»¶</span><br><span class="line">#æŸ¥è¯¢å‘˜å·¥å§“åï¼ŒåŸºæœ¬å·¥èµ„ï¼Œéƒ¨é—¨åç§°</span><br><span class="line">SELECT last_name,job_title,department_name FROM employees,departments,jobs </span><br><span class="line">WHERE employees.department_id = departments.department_id </span><br><span class="line">AND employees.job_id = jobs.job_id;</span><br><span class="line"></span><br><span class="line">SELECT last_name,job_title,department_name </span><br><span class="line">FROM employees INNER JOIN departments INNER JOIN jobs </span><br><span class="line">ON employees.department_id = departments.department_id </span><br><span class="line">AND employees.job_id = jobs.job_id;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<p>æˆ‘ä»¬è¦<code>æ§åˆ¶è¿æ¥è¡¨çš„æ•°é‡</code>ã€‚å¤šè¡¨è¿æ¥å°±ç›¸å½“äºåµŒå¥— for å¾ªç¯ä¸€æ ·ï¼Œéå¸¸æ¶ˆè€—èµ„æºï¼Œä¼šè®© SQL æŸ¥è¯¢æ€§èƒ½ä¸‹é™å¾—å¾ˆä¸¥é‡ï¼Œå› æ­¤ä¸è¦è¿æ¥ä¸å¿…è¦çš„è¡¨ã€‚åœ¨è®¸å¤š DBMS ä¸­ï¼Œä¹Ÿéƒ½ä¼šæœ‰æœ€å¤§è¿æ¥è¡¨çš„é™åˆ¶ã€‚</p>
<blockquote>
<p>ã€å¼ºåˆ¶ã€‘è¶…è¿‡ä¸‰ä¸ªè¡¨ç¦æ­¢ joinã€‚éœ€è¦ join çš„å­—æ®µï¼Œæ•°æ®ç±»å‹ä¿æŒç»å¯¹ä¸€è‡´ï¼›å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œ ä¿è¯è¢«å…³è”çš„å­—æ®µéœ€è¦æœ‰ç´¢å¼•ã€‚ </p>
<p>è¯´æ˜ï¼šå³ä½¿åŒè¡¨ join ä¹Ÿè¦æ³¨æ„è¡¨ç´¢å¼•ã€SQL æ€§èƒ½ã€‚</p>
<p>æ¥æºï¼šé˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹</p>
</blockquote>
<h2 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>GROUP BYè¯­å¥é€šå¸¸ä¸èšåˆå‡½æ•°ï¼ˆCOUNTï¼ŒMAXï¼ŒMINï¼ŒSUMï¼ŒAVGï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„ã€‚</p>
<ul>
<li>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span>, group_function(<span class="keyword">column</span>)</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line">[<span class="keyword">WHERE</span>	<span class="keyword">condition</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span>	group_by_expression]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span>	<span class="keyword">column</span>];</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ˜ç¡®ï¼šWHEREä¸€å®šæ”¾åœ¨FROMåé¢</strong></p>
</blockquote>
<p><strong>åœ¨SELECTåˆ—è¡¨ä¸­æ‰€æœ‰æœªåŒ…å«åœ¨èšåˆå‡½æ•°ä¸­çš„åˆ—éƒ½åº”è¯¥åŒ…å«åœ¨ GROUP BYå­å¥ä¸­</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>   department_id, <span class="built_in">AVG</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span>     employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id ;</span><br></pre></td></tr></table></figure>

<p>åŒ…å«åœ¨ GROUP BY å­å¥ä¸­çš„åˆ—ä¸å¿…åŒ…å«åœ¨SELECT åˆ—è¡¨ä¸­</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>   <span class="built_in">AVG</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span>     employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id ;</span><br></pre></td></tr></table></figure>

<p> <strong>ä½¿ç”¨å¤šä¸ªåˆ—åˆ†ç»„</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>   department_id dept_id, job_id, <span class="built_in">SUM</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span>     employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id, job_id ;</span><br></pre></td></tr></table></figure>

<h3 id="WITH-ROLLUP"><a href="#WITH-ROLLUP" class="headerlink" title="WITH ROLLUP"></a>WITH ROLLUP</h3><p>ä½¿ç”¨<code>WITH ROLLUP</code>å…³é”®å­—ä¹‹åï¼Œåœ¨æ‰€æœ‰æŸ¥è¯¢å‡ºçš„åˆ†ç»„è®°å½•ä¹‹åå¢åŠ ä¸€æ¡è®°å½•ï¼Œè¯¥è®°å½•è®¡ç®—æŸ¥è¯¢å‡ºçš„æ‰€æœ‰è®°å½•çš„æ€»å’Œï¼Œå³ç»Ÿè®¡è®°å½•æ•°é‡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT department_id,AVG(salary)</span><br><span class="line">FROM employees</span><br><span class="line">WHERE department_id &gt; 80</span><br><span class="line">GROUP BY department_id WITH ROLLUP;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>å½“ä½¿ç”¨ROLLUPæ—¶ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ORDER BYå­å¥è¿›è¡Œç»“æœæ’åºï¼Œå³ROLLUPå’ŒORDER BYæ˜¯äº’ç›¸æ’æ–¥çš„ã€‚</p>
</blockquote>
<h2 id="HAVING"><a href="#HAVING" class="headerlink" title="HAVING"></a>HAVING</h2><h3 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p><code>HAVING</code> å­å¥ä½¿ä½ èƒ½å¤ŸæŒ‡å®šè¿‡æ»¤æ¡ä»¶ï¼Œä»è€Œæ§åˆ¶æŸ¥è¯¢ç»“æœä¸­<strong>å“ªäº›ç»„</strong>å¯ä»¥å‡ºç°åœ¨æœ€ç»ˆç»“æœé‡Œé¢ã€‚</p>
<p><strong>HAVING ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»è¦è·Ÿ GROUP BY ä¸€èµ·ä½¿ç”¨ã€‚</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554981808091.png" alt="1554981808091"></p>
<p><strong>åœ¨HAVINGå­å¥ä¸­å¯ä»¥ä½¿ç”¨èšåˆå‡½æ•°ã€‚</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>   department_id, <span class="built_in">MAX</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span>     employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span>   <span class="built_in">MAX</span>(salary)<span class="operator">&gt;</span><span class="number">10000</span> ;</span><br></pre></td></tr></table></figure>

<p><strong>éæ³•ä½¿ç”¨èšåˆå‡½æ•° ï¼šä¸èƒ½åœ¨ WHERE å­å¥ä¸­ä½¿ç”¨èšåˆå‡½æ•°ã€‚</strong></p>
<p>é”™è¯¯ç¤ºä¾‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>   department_id, <span class="built_in">AVG</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span>     employees</span><br><span class="line"><span class="keyword">WHERE</span>    <span class="built_in">AVG</span>(salary) <span class="operator">&gt;</span> <span class="number">8000</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id;</span><br></pre></td></tr></table></figure>

<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554981724375.png" alt="1554981724375"></p>
<h3 id="WHEREå’ŒHAVINGçš„å¯¹æ¯”"><a href="#WHEREå’ŒHAVINGçš„å¯¹æ¯”" class="headerlink" title="WHEREå’ŒHAVINGçš„å¯¹æ¯”"></a>WHEREå’ŒHAVINGçš„å¯¹æ¯”</h3><p><strong>åŒºåˆ«1ï¼š</strong></p>
<ul>
<li><p><strong>WHERE å¯ä»¥ç›´æ¥ä½¿ç”¨è¡¨ä¸­çš„å­—æ®µä½œä¸ºç­›é€‰æ¡ä»¶ï¼Œä½†ä¸èƒ½ä½¿ç”¨åˆ†ç»„ä¸­çš„è®¡ç®—å‡½æ•°ä½œä¸ºç­›é€‰æ¡ä»¶ï¼›</strong></p>
</li>
<li><p><strong>HAVING å¿…é¡»è¦ä¸ GROUP BY é…åˆä½¿ç”¨ï¼Œå¯ä»¥æŠŠåˆ†ç»„è®¡ç®—çš„å‡½æ•°å’Œåˆ†ç»„å­—æ®µä½œä¸ºç­›é€‰æ¡ä»¶ã€‚</strong> </p>
</li>
</ul>
<p>åœ¨éœ€è¦å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ç»Ÿè®¡çš„æ—¶å€™ï¼ŒHAVING å¯ä»¥å®Œæˆ WHERE ä¸èƒ½å®Œæˆçš„ä»»åŠ¡ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨æŸ¥è¯¢è¯­æ³•ç»“æ„ä¸­ï¼ŒWHERE åœ¨ GROUP BY ä¹‹å‰ï¼Œæ‰€ä»¥æ— æ³•å¯¹åˆ†ç»„ç»“æœè¿›è¡Œç­›é€‰ã€‚HAVING åœ¨ GROUP BY ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨åˆ†ç»„å­—æ®µå’Œåˆ†ç»„ä¸­çš„è®¡ç®—å‡½æ•°ï¼Œå¯¹åˆ†ç»„çš„ç»“æœé›†è¿›è¡Œç­›é€‰ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯ WHERE æ— æ³•å®Œæˆçš„ã€‚å¦å¤–ï¼ŒWHEREæ’é™¤çš„è®°å½•ä¸å†åŒ…æ‹¬åœ¨åˆ†ç»„ä¸­ã€‚</p>
<p><strong>åŒºåˆ«2ï¼š</strong></p>
<ul>
<li><strong>å¦‚æœéœ€è¦é€šè¿‡è¿æ¥ä»å…³è”è¡¨ä¸­è·å–éœ€è¦çš„æ•°æ®ï¼ŒWHERE æ˜¯å…ˆç­›é€‰åè¿æ¥ï¼Œè€Œ HAVING æ˜¯å…ˆè¿æ¥åç­›é€‰ã€‚</strong></li>
</ul>
<p>åœ¨å…³è”æŸ¥è¯¢ä¸­ï¼ŒWHERE æ¯” HAVING æ›´é«˜æ•ˆã€‚å› ä¸º WHERE å¯ä»¥å…ˆç­›é€‰ï¼Œç”¨ä¸€ä¸ªç­›é€‰åçš„è¾ƒå°æ•°æ®é›†å’Œå…³è”è¡¨è¿›è¡Œè¿æ¥ï¼Œè¿™æ ·å ç”¨çš„èµ„æºæ¯”è¾ƒå°‘ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿæ¯”è¾ƒé«˜ã€‚HAVING åˆ™éœ€è¦å…ˆæŠŠç»“æœé›†å‡†å¤‡å¥½ï¼Œä¹Ÿå°±æ˜¯ç”¨æœªè¢«ç­›é€‰çš„æ•°æ®é›†è¿›è¡Œå…³è”ï¼Œç„¶åå¯¹è¿™ä¸ªå¤§çš„æ•°æ®é›†è¿›è¡Œç­›é€‰ï¼Œè¿™æ ·å ç”¨çš„èµ„æºå°±æ¯”è¾ƒå¤šï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿè¾ƒä½ã€‚ </p>
<p><strong>æ€»ç»“ï¼š</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>WHERE</td>
<td>å…ˆç­›é€‰æ•°æ®å†å…³è”ï¼Œæ‰§è¡Œæ•ˆç‡é«˜</td>
<td>ä¸èƒ½ä½¿ç”¨åˆ†ç»„ä¸­çš„è®¡ç®—å‡½æ•°è¿›è¡Œç­›é€‰</td>
</tr>
<tr>
<td>HAVING</td>
<td>å¯ä»¥ä½¿ç”¨åˆ†ç»„ä¸­çš„è®¡ç®—å‡½æ•°</td>
<td>åœ¨æœ€åçš„ç»“æœé›†ä¸­è¿›è¡Œç­›é€‰ï¼Œæ‰§è¡Œæ•ˆç‡è¾ƒä½</td>
</tr>
</tbody></table>
<p><strong>å¼€å‘ä¸­çš„é€‰æ‹©ï¼š</strong></p>
<p>WHERE å’Œ HAVING ä¹Ÿä¸æ˜¯äº’ç›¸æ’æ–¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæŸ¥è¯¢é‡Œé¢åŒæ—¶ä½¿ç”¨ WHERE å’Œ HAVINGã€‚åŒ…å«åˆ†ç»„ç»Ÿè®¡å‡½æ•°çš„æ¡ä»¶ç”¨ HAVINGï¼Œæ™®é€šæ¡ä»¶ç”¨ WHEREã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ—¢åˆ©ç”¨äº† WHERE æ¡ä»¶çš„é«˜æ•ˆå¿«é€Ÿï¼Œåˆå‘æŒ¥äº† HAVING å¯ä»¥ä½¿ç”¨åŒ…å«åˆ†ç»„ç»Ÿè®¡å‡½æ•°çš„æŸ¥è¯¢æ¡ä»¶çš„ä¼˜ç‚¹ã€‚å½“æ•°æ®é‡ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œè¿è¡Œæ•ˆç‡ä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚</p>
<h2 id="å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦"><a href="#å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦" class="headerlink" title="å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦"></a>å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦</h2><table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>IN</td>
<td>ç­‰äºåˆ—è¡¨ä¸­çš„<strong>ä»»æ„ä¸€ä¸ª</strong></td>
</tr>
<tr>
<td>ANY</td>
<td>éœ€è¦å’Œå•è¡Œæ¯”è¾ƒæ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå°†ä¸€ä¸ªå€¼åŒæ¡ä»¶æ‰€æŒ‡å®šçš„åˆ—è¡¨ä¸­çš„<strong>ä»»æ„å€¼</strong>ç›¸æ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td>ALL</td>
<td>éœ€è¦å’Œå•è¡Œæ¯”è¾ƒæ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå°†ä¸€ä¸ªå€¼åŒå¦ä¸€ä¸ªå€¼é›†ä¸­<strong>æ‰€æœ‰çš„å€¼</strong>è¿›è¡Œæ¯”è¾ƒã€‚</td>
</tr>
<tr>
<td>SOME</td>
<td>å®é™…ä¸Šæ˜¯ANYçš„åˆ«åï¼Œä½œç”¨ç›¸åŒï¼Œä¸€èˆ¬å¸¸ä½¿ç”¨ANY</td>
</tr>
</tbody></table>
<ul>
<li>ä»£ç ç¤ºä¾‹</li>
</ul>
<p><strong>è¿”å›å…¶å®ƒjob_idä¸­æ¯”job_idä¸ºâ€˜IT_PROGâ€™éƒ¨é—¨ä»»ä¸€å·¥èµ„ä½çš„å‘˜å·¥çš„å‘˜å·¥å·ã€å§“åã€job_id ä»¥åŠsalary</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554992658876.png" alt="1554992658876"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554992664594.png" alt="1554992664594"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554992668429.png" alt="1554992668429"></p>
<p><strong>è¿”å›å…¶å®ƒjob_idä¸­æ¯”job_idä¸ºâ€˜IT_PROGâ€™éƒ¨é—¨æ‰€æœ‰å·¥èµ„éƒ½ä½çš„å‘˜å·¥çš„å‘˜å·¥å·ã€å§“åã€job_idä»¥åŠsalary</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554992753654.png" alt="1554992753654"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1554992759467.png" alt="1554992759467"></p>
<p><strong>ç¤ºä¾‹ï¼šæŸ¥è¯¢å¹³å‡å·¥èµ„æœ€ä½çš„éƒ¨é—¨id</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼1ï¼š</span><br><span class="line">SELECT department_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY department_id</span><br><span class="line">HAVING AVG(salary) = (</span><br><span class="line">			SELECT MIN(avg_sal)</span><br><span class="line">			FROM (</span><br><span class="line">				SELECT AVG(salary) avg_sal</span><br><span class="line">				FROM employees</span><br><span class="line">				GROUP BY department_id</span><br><span class="line">				) dept_avg_sal</span><br><span class="line">			)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼2ï¼š</span><br><span class="line">SELECT department_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY department_id</span><br><span class="line">HAVING AVG(salary) &lt;= ALL (</span><br><span class="line">				SELECT AVG(salary) avg_sal</span><br><span class="line">				FROM employees</span><br><span class="line">				GROUP BY department_id</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="æ•°æ®å¢åˆ æ”¹"><a href="#æ•°æ®å¢åˆ æ”¹" class="headerlink" title="æ•°æ®å¢åˆ æ”¹"></a>æ•°æ®å¢åˆ æ”¹</h2><hr>
<h3 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h3><h4 id="æ–¹å¼1ï¼šVALUESçš„æ–¹å¼æ·»åŠ "><a href="#æ–¹å¼1ï¼šVALUESçš„æ–¹å¼æ·»åŠ " class="headerlink" title="æ–¹å¼1ï¼šVALUESçš„æ–¹å¼æ·»åŠ "></a>æ–¹å¼1ï¼šVALUESçš„æ–¹å¼æ·»åŠ </h4><p>ä½¿ç”¨è¿™ç§è¯­æ³•ä¸€æ¬¡åªèƒ½å‘è¡¨ä¸­æ’å…¥<strong>ä¸€æ¡</strong>æ•°æ®ã€‚</p>
<p><strong>æƒ…å†µ1ï¼šä¸ºè¡¨çš„æ‰€æœ‰å­—æ®µæŒ‰é»˜è®¤é¡ºåºæ’å…¥æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO è¡¨å</span><br><span class="line">VALUES (value1,value2,....);</span><br></pre></td></tr></table></figure>

<p>å€¼åˆ—è¡¨ä¸­éœ€è¦ä¸ºè¡¨çš„æ¯ä¸€ä¸ªå­—æ®µæŒ‡å®šå€¼ï¼Œå¹¶ä¸”<strong>å€¼çš„é¡ºåºå¿…é¡»å’Œæ•°æ®è¡¨ä¸­å­—æ®µå®šä¹‰æ—¶çš„é¡ºåºç›¸åŒ</strong>ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO departments</span><br><span class="line">VALUES (70, &#x27;Pub&#x27;, 100, 1700);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO	departments</span><br><span class="line">VALUES	(100, &#x27;Finance&#x27;, NULL, NULL);</span><br></pre></td></tr></table></figure>

<p><strong>æƒ…å†µ2ï¼šä¸ºè¡¨çš„æŒ‡å®šå­—æ®µæ’å…¥æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO è¡¨å(column1 [, column2, â€¦, columnn]) </span><br><span class="line">VALUES (value1 [,value2, â€¦, valuen]);</span><br></pre></td></tr></table></figure>

<p>ä¸ºè¡¨çš„æŒ‡å®šå­—æ®µæ’å…¥æ•°æ®ï¼Œå°±æ˜¯åœ¨INSERTè¯­å¥ä¸­åªå‘éƒ¨åˆ†å­—æ®µä¸­æ’å…¥å€¼ï¼Œè€Œå…¶ä»–å­—æ®µçš„å€¼ä¸ºè¡¨å®šä¹‰æ—¶çš„é»˜è®¤å€¼ã€‚</p>
<p>åœ¨ INSERT å­å¥ä¸­éšæ„åˆ—å‡ºåˆ—åï¼Œä½†æ˜¯ä¸€æ—¦åˆ—å‡ºï¼ŒVALUESä¸­è¦æ’å…¥çš„value1,â€¦.valuenéœ€è¦ä¸column1,â€¦columnnåˆ—ä¸€ä¸€å¯¹åº”ã€‚å¦‚æœç±»å‹ä¸åŒï¼Œå°†æ— æ³•æ’å…¥ï¼Œå¹¶ä¸”MySQLä¼šäº§ç”Ÿé”™è¯¯ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO departments(department_id, department_name)</span><br><span class="line">VALUES (80, &#x27;IT&#x27;);</span><br></pre></td></tr></table></figure>

<p> <strong>æƒ…å†µ3ï¼šåŒæ—¶æ’å…¥å¤šæ¡è®°å½•</strong></p>
<p>INSERTè¯­å¥å¯ä»¥åŒæ—¶å‘æ•°æ®è¡¨ä¸­æ’å…¥å¤šæ¡è®°å½•ï¼Œæ’å…¥æ—¶æŒ‡å®šå¤šä¸ªå€¼åˆ—è¡¨ï¼Œæ¯ä¸ªå€¼åˆ—è¡¨ä¹‹é—´ç”¨é€—å·åˆ†éš”å¼€ï¼ŒåŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name </span><br><span class="line">VALUES </span><br><span class="line">(value1 [,value2, â€¦, valuen]),</span><br><span class="line">(value1 [,value2, â€¦, valuen]),</span><br><span class="line">â€¦â€¦</span><br><span class="line">(value1 [,value2, â€¦, valuen]);</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name(column1 [, column2, â€¦, columnn]) </span><br><span class="line">VALUES </span><br><span class="line">(value1 [,value2, â€¦, valuen]),</span><br><span class="line">(value1 [,value2, â€¦, valuen]),</span><br><span class="line">â€¦â€¦</span><br><span class="line">(value1 [,value2, â€¦, valuen]);</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; INSERT INTO emp(emp_id,emp_name)</span><br><span class="line">    -&gt; VALUES (1001,&#x27;shkstart&#x27;),</span><br><span class="line">    -&gt; (1002,&#x27;atguigu&#x27;),</span><br><span class="line">    -&gt; (1003,&#x27;Tom&#x27;);</span><br><span class="line">Query OK, 3 rows affected (0.00 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨INSERTåŒæ—¶æ’å…¥å¤šæ¡è®°å½•æ—¶ï¼ŒMySQLä¼šè¿”å›ä¸€äº›åœ¨æ‰§è¡Œå•è¡Œæ’å…¥æ—¶æ²¡æœ‰çš„é¢å¤–ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯çš„å«ä¹‰å¦‚ä¸‹ï¼š<br>â—ã€€Recordsï¼šè¡¨æ˜æ’å…¥çš„è®°å½•æ¡æ•°ã€‚<br>â—ã€€Duplicatesï¼šè¡¨æ˜æ’å…¥æ—¶è¢«å¿½ç•¥çš„è®°å½•ï¼ŒåŸå› å¯èƒ½æ˜¯è¿™äº›è®°å½•åŒ…å«äº†é‡å¤çš„ä¸»é”®å€¼ã€‚<br>â—ã€€Warningsï¼šè¡¨æ˜æœ‰é—®é¢˜çš„æ•°æ®å€¼ï¼Œä¾‹å¦‚å‘ç”Ÿæ•°æ®ç±»å‹è½¬æ¢ã€‚</p>
<blockquote>
<p>ä¸€ä¸ªåŒæ—¶æ’å…¥å¤šè¡Œè®°å½•çš„INSERTè¯­å¥ç­‰åŒäºå¤šä¸ªå•è¡Œæ’å…¥çš„INSERTè¯­å¥ï¼Œä½†æ˜¯å¤šè¡Œçš„INSERTè¯­å¥åœ¨å¤„ç†è¿‡ç¨‹ä¸­<code>æ•ˆç‡æ›´é«˜</code>ã€‚å› ä¸ºMySQLæ‰§è¡Œå•æ¡INSERTè¯­å¥æ’å…¥å¤šè¡Œæ•°æ®æ¯”ä½¿ç”¨å¤šæ¡INSERTè¯­å¥å¿«ï¼Œæ‰€ä»¥åœ¨æ’å…¥å¤šæ¡è®°å½•æ—¶æœ€å¥½é€‰æ‹©ä½¿ç”¨å•æ¡INSERTè¯­å¥çš„æ–¹å¼æ’å…¥ã€‚</p>
</blockquote>
<p><strong>å°ç»“ï¼š</strong></p>
<ul>
<li><code>VALUES</code>ä¹Ÿå¯ä»¥å†™æˆ<code>VALUE</code>ï¼Œä½†æ˜¯VALUESæ˜¯æ ‡å‡†å†™æ³•ã€‚</li>
</ul>
<ul>
<li>å­—ç¬¦å’Œæ—¥æœŸå‹æ•°æ®åº”åŒ…å«åœ¨å•å¼•å·ä¸­ã€‚</li>
</ul>
<h4 id="æ–¹å¼2ï¼šå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°è¡¨ä¸­"><a href="#æ–¹å¼2ï¼šå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°è¡¨ä¸­" class="headerlink" title="æ–¹å¼2ï¼šå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°è¡¨ä¸­"></a>æ–¹å¼2ï¼šå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°è¡¨ä¸­</h4><p>INSERTè¿˜å¯ä»¥å°†SELECTè¯­å¥æŸ¥è¯¢çš„ç»“æœæ’å…¥åˆ°è¡¨ä¸­ï¼Œæ­¤æ—¶ä¸éœ€è¦æŠŠæ¯ä¸€æ¡è®°å½•çš„å€¼ä¸€ä¸ªä¸€ä¸ªè¾“å…¥ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€æ¡INSERTè¯­å¥å’Œä¸€æ¡SELECTè¯­å¥ç»„æˆçš„ç»„åˆè¯­å¥å³å¯å¿«é€Ÿåœ°ä»ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­å‘ä¸€ä¸ªè¡¨ä¸­æ’å…¥å¤šè¡Œã€‚</p>
<p>åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO ç›®æ ‡è¡¨å</span><br><span class="line">(tar_column1 [, tar_column2, â€¦, tar_columnn])</span><br><span class="line">SELECT</span><br><span class="line">(src_column1 [, src_column2, â€¦, src_columnn])</span><br><span class="line">FROM æºè¡¨å</span><br><span class="line">[WHERE condition]</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨ INSERT è¯­å¥ä¸­åŠ å…¥å­æŸ¥è¯¢ã€‚ </li>
<li><strong>ä¸å¿…ä¹¦å†™</strong> <strong>VALUES</strong> <strong>å­å¥ã€‚</strong> </li>
<li>å­æŸ¥è¯¢ä¸­çš„å€¼åˆ—è¡¨åº”ä¸ INSERT å­å¥ä¸­çš„åˆ—åå¯¹åº”ã€‚</li>
</ul>
<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp2 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="operator">=</span> <span class="number">90</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sales_reps(id, name, salary, commission_pct)</span><br><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, salary, commission_pct</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  job_id <span class="keyword">LIKE</span> <span class="string">&#x27;%REP%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h3><ul>
<li>ä½¿ç”¨ UPDATE è¯­å¥æ›´æ–°æ•°æ®ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line">SET column1=value1, column2=value2, â€¦ , column=valuen</span><br><span class="line">[WHERE condition]</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¯ä»¥ä¸€æ¬¡æ›´æ–°<strong>å¤šæ¡</strong>æ•°æ®ã€‚</p>
</li>
<li><p>å¦‚æœéœ€è¦å›æ»šæ•°æ®ï¼Œéœ€è¦ä¿è¯åœ¨DMLå‰ï¼Œè¿›è¡Œè®¾ç½®ï¼š<strong>SET AUTOCOMMIT = FALSE;</strong></p>
</li>
</ul>
<hr>
<ul>
<li>ä½¿ç”¨ <strong>WHERE</strong> å­å¥æŒ‡å®šéœ€è¦æ›´æ–°çš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> employees</span><br><span class="line"><span class="keyword">SET</span>    department_id <span class="operator">=</span> <span class="number">70</span></span><br><span class="line"><span class="keyword">WHERE</span>  employee_id <span class="operator">=</span> <span class="number">113</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœçœç•¥ WHERE å­å¥ï¼Œåˆ™è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å°†è¢«æ›´æ–°ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 	copy_emp</span><br><span class="line"><span class="keyword">SET</span>    	department_id <span class="operator">=</span> <span class="number">110</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ›´æ–°ä¸­çš„æ•°æ®å®Œæ•´æ€§é”™è¯¯</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> employees</span><br><span class="line"><span class="keyword">SET</span>    department_id <span class="operator">=</span> <span class="number">55</span></span><br><span class="line"><span class="keyword">WHERE</span>  department_id <span class="operator">=</span> <span class="number">110</span>;</span><br></pre></td></tr></table></figure>

<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555426069578.png" alt="1555426069578"></p>
<blockquote>
<p>è¯´æ˜ï¼šä¸å­˜åœ¨ 55 å·éƒ¨é—¨</p>
</blockquote>
<h3 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h3><ul>
<li>ä½¿ç”¨ DELETE è¯­å¥ä»è¡¨ä¸­åˆ é™¤æ•°æ®</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555426162264.png" alt="1555426162264"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name [WHERE &lt;condition&gt;];</span><br></pre></td></tr></table></figure>

<p>table_nameæŒ‡å®šè¦æ‰§è¡Œåˆ é™¤æ“ä½œçš„è¡¨ï¼›â€œ[WHERE <condition>]â€ä¸ºå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šåˆ é™¤æ¡ä»¶ï¼Œå¦‚æœæ²¡æœ‰WHEREå­å¥ï¼ŒDELETEè¯­å¥å°†åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚</p>
<ul>
<li>ä½¿ç”¨ WHERE å­å¥åˆ é™¤æŒ‡å®šçš„è®°å½•ã€‚</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> departments</span><br><span class="line"><span class="keyword">WHERE</span>  department_name <span class="operator">=</span> <span class="string">&#x27;Finance&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœçœç•¥ WHERE å­å¥ï¼Œåˆ™è¡¨ä¸­çš„å…¨éƒ¨æ•°æ®å°†è¢«åˆ é™¤</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> copy_emp;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>åˆ é™¤ä¸­çš„æ•°æ®å®Œæ•´æ€§é”™è¯¯</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> departments</span><br><span class="line"><span class="keyword">WHERE</span>	department_id <span class="operator">=</span> <span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555426258516.png" alt="1555426258516"></p>
<blockquote>
<p>è¯´æ˜ï¼šYou cannot delete a row that contains a primary key that is used as a foreign key in another table.</p>
</blockquote>
<h2 id="MySQL8æ–°ç‰¹æ€§ï¼šè®¡ç®—åˆ—"><a href="#MySQL8æ–°ç‰¹æ€§ï¼šè®¡ç®—åˆ—" class="headerlink" title="MySQL8æ–°ç‰¹æ€§ï¼šè®¡ç®—åˆ—"></a>MySQL8æ–°ç‰¹æ€§ï¼šè®¡ç®—åˆ—</h2><p>ä»€ä¹ˆå«è®¡ç®—åˆ—å‘¢ï¼Ÿç®€å•æ¥è¯´å°±æ˜¯æŸä¸€åˆ—çš„å€¼æ˜¯é€šè¿‡åˆ«çš„åˆ—è®¡ç®—å¾—æ¥çš„ã€‚ä¾‹å¦‚ï¼Œaåˆ—å€¼ä¸º1ã€båˆ—å€¼ä¸º2ï¼Œcåˆ—ä¸éœ€è¦æ‰‹åŠ¨æ’å…¥ï¼Œå®šä¹‰a+bçš„ç»“æœä¸ºcçš„å€¼ï¼Œé‚£ä¹ˆcå°±æ˜¯è®¡ç®—åˆ—ï¼Œæ˜¯é€šè¿‡åˆ«çš„åˆ—è®¡ç®—å¾—æ¥çš„ã€‚</p>
<p>åœ¨MySQL 8.0ä¸­ï¼ŒCREATE TABLE å’Œ ALTER TABLE ä¸­éƒ½æ”¯æŒå¢åŠ è®¡ç®—åˆ—ã€‚ä¸‹é¢ä»¥CREATE TABLEä¸ºä¾‹è¿›è¡Œè®²è§£ã€‚</p>
<p>ä¸¾ä¾‹ï¼šå®šä¹‰æ•°æ®è¡¨tb1ï¼Œç„¶åå®šä¹‰å­—æ®µidã€å­—æ®µaã€å­—æ®µbå’Œå­—æ®µcï¼Œå…¶ä¸­å­—æ®µcä¸ºè®¡ç®—åˆ—ï¼Œç”¨äºè®¡ç®—a+bçš„å€¼ã€‚<br>é¦–å…ˆåˆ›å»ºæµ‹è¯•è¡¨tb1ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE tb1(</span><br><span class="line">id INT,</span><br><span class="line">a INT,</span><br><span class="line">b INT,</span><br><span class="line">c INT GENERATED ALWAYS AS (a + b) VIRTUAL</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ¼”ç¤ºæ•°æ®ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO tb1(a,b) VALUES (100,200);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢æ•°æ®è¡¨tb1ä¸­çš„æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM tb1;</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| id   | a    | b    | c    |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">| NULL |  100 |  200 |  300 |</span><br><span class="line">+------+------+------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°æ•°æ®ä¸­çš„æ•°æ®ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; UPDATE tb1 SET a = 500;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<h2 id="ç»¼åˆæ¡ˆä¾‹"><a href="#ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ç»¼åˆæ¡ˆä¾‹"></a>ç»¼åˆæ¡ˆä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 1ã€åˆ›å»ºæ•°æ®åº“test01_library</span><br><span class="line"></span><br><span class="line"># 2ã€åˆ›å»ºè¡¨ booksï¼Œè¡¨ç»“æ„å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å­—æ®µå</th>
<th>å­—æ®µè¯´æ˜</th>
<th>æ•°æ®ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>ä¹¦ç¼–å·</td>
<td>INT</td>
</tr>
<tr>
<td>name</td>
<td>ä¹¦å</td>
<td>VARCHAR(50)</td>
</tr>
<tr>
<td>authors</td>
<td>ä½œè€…</td>
<td>VARCHAR(100)</td>
</tr>
<tr>
<td>price</td>
<td>ä»·æ ¼</td>
<td>FLOAT</td>
</tr>
<tr>
<td>pubdate</td>
<td>å‡ºç‰ˆæ—¥æœŸ</td>
<td>YEAR</td>
</tr>
<tr>
<td>note</td>
<td>è¯´æ˜</td>
<td>VARCHAR(100)</td>
</tr>
<tr>
<td>num</td>
<td>åº“å­˜</td>
<td>INT</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 3ã€å‘booksè¡¨ä¸­æ’å…¥è®°å½•</span><br><span class="line"></span><br><span class="line"># 1ï¼‰ä¸æŒ‡å®šå­—æ®µåç§°ï¼Œæ’å…¥ç¬¬ä¸€æ¡è®°å½•</span><br><span class="line"># 2ï¼‰æŒ‡å®šæ‰€æœ‰å­—æ®µåç§°ï¼Œæ’å…¥ç¬¬äºŒè®°å½•</span><br><span class="line"># 3ï¼‰åŒæ—¶æ’å…¥å¤šæ¡è®°å½•ï¼ˆå‰©ä¸‹çš„æ‰€æœ‰è®°å½•ï¼‰</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>authors</th>
<th>price</th>
<th>pubdate</th>
<th>note</th>
<th>num</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Tal of AAA</td>
<td>Dickes</td>
<td>23</td>
<td>1995</td>
<td>novel</td>
<td>11</td>
</tr>
<tr>
<td>2</td>
<td>EmmaT</td>
<td>Jane lura</td>
<td>35</td>
<td>1993</td>
<td>joke</td>
<td>22</td>
</tr>
<tr>
<td>3</td>
<td>Story of Jane</td>
<td>Jane Tim</td>
<td>40</td>
<td>2001</td>
<td>novel</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>Lovey Day</td>
<td>George Byron</td>
<td>20</td>
<td>2005</td>
<td>novel</td>
<td>30</td>
</tr>
<tr>
<td>5</td>
<td>Old land</td>
<td>Honore Blade</td>
<td>30</td>
<td>2010</td>
<td>law</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>The Battle</td>
<td>Upton Sara</td>
<td>30</td>
<td>1999</td>
<td>medicine</td>
<td>40</td>
</tr>
<tr>
<td>7</td>
<td>Rose Hood</td>
<td>Richard haggard</td>
<td>28</td>
<td>2008</td>
<td>cartoon</td>
<td>28</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 4ã€å°†å°è¯´ç±»å‹(novel)çš„ä¹¦çš„ä»·æ ¼éƒ½å¢åŠ 5ã€‚</span><br><span class="line"></span><br><span class="line"># 5ã€å°†åç§°ä¸ºEmmaTçš„ä¹¦çš„ä»·æ ¼æ”¹ä¸º40ï¼Œå¹¶å°†è¯´æ˜æ”¹ä¸ºdramaã€‚</span><br><span class="line"></span><br><span class="line"># 6ã€åˆ é™¤åº“å­˜ä¸º0çš„è®°å½•ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># 7ã€ç»Ÿè®¡ä¹¦åä¸­åŒ…å«aå­—æ¯çš„ä¹¦</span><br><span class="line"></span><br><span class="line"># 8ã€ç»Ÿè®¡ä¹¦åä¸­åŒ…å«aå­—æ¯çš„ä¹¦çš„æ•°é‡å’Œåº“å­˜æ€»é‡</span><br><span class="line"></span><br><span class="line"># 9ã€æ‰¾å‡ºâ€œnovelâ€ç±»å‹çš„ä¹¦ï¼ŒæŒ‰ç…§ä»·æ ¼é™åºæ’åˆ—</span><br><span class="line"></span><br><span class="line"># 10ã€æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯ï¼ŒæŒ‰ç…§åº“å­˜é‡é™åºæ’åˆ—ï¼Œå¦‚æœåº“å­˜é‡ç›¸åŒçš„æŒ‰ç…§noteå‡åºæ’åˆ—</span><br><span class="line"></span><br><span class="line"># 11ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„æ•°é‡</span><br><span class="line"></span><br><span class="line"># 12ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„åº“å­˜é‡ï¼Œæ˜¾ç¤ºåº“å­˜é‡è¶…è¿‡30æœ¬çš„</span><br><span class="line"></span><br><span class="line"># 13ã€æŸ¥è¯¢æ‰€æœ‰å›¾ä¹¦ï¼Œæ¯é¡µæ˜¾ç¤º5æœ¬ï¼Œæ˜¾ç¤ºç¬¬äºŒé¡µ</span><br><span class="line"></span><br><span class="line"># 14ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„åº“å­˜é‡ï¼Œæ˜¾ç¤ºåº“å­˜é‡æœ€å¤šçš„</span><br><span class="line"></span><br><span class="line"># 15ã€æŸ¥è¯¢ä¹¦åè¾¾åˆ°10ä¸ªå­—ç¬¦çš„ä¹¦ï¼Œä¸åŒ…æ‹¬é‡Œé¢çš„ç©ºæ ¼</span><br><span class="line"></span><br><span class="line"># 16ã€æŸ¥è¯¢ä¹¦åå’Œç±»å‹ï¼Œå…¶ä¸­noteå€¼ä¸ºnovelæ˜¾ç¤ºå°è¯´ï¼Œlawæ˜¾ç¤ºæ³•å¾‹ï¼Œmedicineæ˜¾ç¤ºåŒ»è¯ï¼Œcartoonæ˜¾ç¤ºå¡é€šï¼Œjokeæ˜¾ç¤ºç¬‘è¯</span><br><span class="line"></span><br><span class="line"># 17ã€æŸ¥è¯¢ä¹¦åã€åº“å­˜ï¼Œå…¶ä¸­numå€¼è¶…è¿‡30æœ¬çš„ï¼Œæ˜¾ç¤ºæ»é”€ï¼Œå¤§äº0å¹¶ä½äº10çš„ï¼Œæ˜¾ç¤ºç•…é”€ï¼Œä¸º0çš„æ˜¾ç¤ºéœ€è¦æ— è´§</span><br><span class="line"></span><br><span class="line"># 18ã€ç»Ÿè®¡æ¯ä¸€ç§noteçš„åº“å­˜é‡ï¼Œå¹¶åˆè®¡æ€»é‡</span><br><span class="line"></span><br><span class="line"># 19ã€ç»Ÿè®¡æ¯ä¸€ç§noteçš„æ•°é‡ï¼Œå¹¶åˆè®¡æ€»é‡</span><br><span class="line"></span><br><span class="line"># 20ã€ç»Ÿè®¡åº“å­˜é‡å‰ä¸‰åçš„å›¾ä¹¦</span><br><span class="line"></span><br><span class="line"># 21ã€æ‰¾å‡ºæœ€æ—©å‡ºç‰ˆçš„ä¸€æœ¬ä¹¦</span><br><span class="line"></span><br><span class="line"># 22ã€æ‰¾å‡ºnovelä¸­ä»·æ ¼æœ€é«˜çš„ä¸€æœ¬ä¹¦</span><br><span class="line"></span><br><span class="line"># 23ã€æ‰¾å‡ºä¹¦åä¸­å­—æ•°æœ€å¤šçš„ä¸€æœ¬ä¹¦ï¼Œä¸å«ç©ºæ ¼</span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#1ã€åˆ›å»ºæ•°æ®åº“test01_library</span><br><span class="line">CREATE DATABASE IF NOT EXISTS test01_library CHARACTER SET &#x27;utf8&#x27;;</span><br><span class="line"></span><br><span class="line">#æŒ‡å®šä½¿ç”¨å“ªä¸ªæ•°æ®åº“</span><br><span class="line">USE test01_library;</span><br><span class="line"></span><br><span class="line">#2ã€åˆ›å»ºè¡¨ books</span><br><span class="line">CREATE TABLE books(</span><br><span class="line">	id INT,</span><br><span class="line">	name VARCHAR(50),</span><br><span class="line">	`authors` VARCHAR(100) ,</span><br><span class="line">	price FLOAT,</span><br><span class="line">	pubdate YEAR ,</span><br><span class="line">	note VARCHAR(100),</span><br><span class="line">	num INT</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#3ã€å‘booksè¡¨ä¸­æ’å…¥è®°å½•</span><br><span class="line"># 1ï¼‰ä¸æŒ‡å®šå­—æ®µåç§°ï¼Œæ’å…¥ç¬¬ä¸€æ¡è®°å½•</span><br><span class="line">INSERT INTO books </span><br><span class="line">VALUES(1,&#x27;Tal of AAA&#x27;,&#x27;Dickes&#x27;,23,1995,&#x27;novel&#x27;,11);</span><br><span class="line"># 2ï¼‰æŒ‡å®šæ‰€æœ‰å­—æ®µåç§°ï¼Œæ’å…¥ç¬¬äºŒè®°å½•</span><br><span class="line">INSERT INTO books (id,name,`authors`,price,pubdate,note,num)</span><br><span class="line">VALUES(2,&#x27;EmmaT&#x27;,&#x27;Jane lura&#x27;,35,1993,&#x27;Joke&#x27;,22);</span><br><span class="line"># 3ï¼‰åŒæ—¶æ’å…¥å¤šæ¡è®°å½•ï¼ˆå‰©ä¸‹çš„æ‰€æœ‰è®°å½•ï¼‰</span><br><span class="line">INSERT INTO books (id,name,`authors`,price,pubdate,note,num) VALUES</span><br><span class="line">(3,&#x27;Story of Jane&#x27;,&#x27;Jane Tim&#x27;,40,2001,&#x27;novel&#x27;,0),</span><br><span class="line">(4,&#x27;Lovey Day&#x27;,&#x27;George Byron&#x27;,20,2005,&#x27;novel&#x27;,30),</span><br><span class="line">(5,&#x27;Old land&#x27;,&#x27;Honore Blade&#x27;,30,2010,&#x27;Law&#x27;,0),</span><br><span class="line">(6,&#x27;The Battle&#x27;,&#x27;Upton Sara&#x27;,30,1999,&#x27;medicine&#x27;,40),</span><br><span class="line">(7,&#x27;Rose Hood&#x27;,&#x27;Richard haggard&#x27;,28,2008,&#x27;cartoon&#x27;,28);</span><br><span class="line"></span><br><span class="line"># 4ã€å°†å°è¯´ç±»å‹(novel)çš„ä¹¦çš„ä»·æ ¼éƒ½å¢åŠ 5ã€‚</span><br><span class="line">UPDATE books </span><br><span class="line">SET price=price+5 </span><br><span class="line">WHERE note = &#x27;novel&#x27;;</span><br><span class="line"></span><br><span class="line"># 5ã€å°†åç§°ä¸ºEmmaTçš„ä¹¦çš„ä»·æ ¼æ”¹ä¸º40ï¼Œå¹¶å°†è¯´æ˜æ”¹ä¸ºdramaã€‚</span><br><span class="line">UPDATE books </span><br><span class="line">SET price=40, note=&#x27;drama&#x27; </span><br><span class="line">WHERE name=&#x27;EmmaT&#x27;;</span><br><span class="line"></span><br><span class="line"># 6ã€åˆ é™¤åº“å­˜ä¸º0çš„è®°å½•ã€‚</span><br><span class="line">DELETE FROM books </span><br><span class="line">WHERE num=0;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"># 7ã€ç»Ÿè®¡ä¹¦åä¸­åŒ…å«aå­—æ¯çš„ä¹¦</span><br><span class="line">SELECT * FROM books WHERE name LIKE &#x27;%a%&#x27;;</span><br><span class="line"></span><br><span class="line"># 8ã€ç»Ÿè®¡ä¹¦åä¸­åŒ…å«aå­—æ¯çš„ä¹¦çš„æ•°é‡å’Œåº“å­˜æ€»é‡</span><br><span class="line">SELECT COUNT(*),SUM(num) FROM books WHERE name LIKE &#x27;%a%&#x27;;</span><br><span class="line"></span><br><span class="line"># 9ã€æ‰¾å‡ºâ€œnovelâ€ç±»å‹çš„ä¹¦ï¼ŒæŒ‰ç…§ä»·æ ¼é™åºæ’åˆ—</span><br><span class="line">SELECT * FROM books WHERE note = &#x27;novel&#x27; ORDER BY price DESC;</span><br><span class="line"></span><br><span class="line"># 10ã€æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯ï¼ŒæŒ‰ç…§åº“å­˜é‡é™åºæ’åˆ—ï¼Œå¦‚æœåº“å­˜é‡ç›¸åŒçš„æŒ‰ç…§noteå‡åºæ’åˆ—</span><br><span class="line">SELECT * FROM books ORDER BY num DESC,note ASC;</span><br><span class="line"></span><br><span class="line"># 11ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„æ•°é‡</span><br><span class="line">SELECT note,COUNT(*) FROM books GROUP BY note;</span><br><span class="line"></span><br><span class="line"># 12ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„åº“å­˜é‡ï¼Œæ˜¾ç¤ºåº“å­˜é‡è¶…è¿‡30æœ¬çš„</span><br><span class="line">SELECT note,SUM(num) FROM books GROUP BY note HAVING SUM(num)&gt;30;</span><br><span class="line"></span><br><span class="line"># 13ã€æŸ¥è¯¢æ‰€æœ‰å›¾ä¹¦ï¼Œæ¯é¡µæ˜¾ç¤º5æœ¬ï¼Œæ˜¾ç¤ºç¬¬äºŒé¡µ</span><br><span class="line">SELECT * FROM books LIMIT 5,5;</span><br><span class="line"></span><br><span class="line"># 14ã€æŒ‰ç…§noteåˆ†ç±»ç»Ÿè®¡ä¹¦çš„åº“å­˜é‡ï¼Œæ˜¾ç¤ºåº“å­˜é‡æœ€å¤šçš„</span><br><span class="line">SELECT note,SUM(num) sum_num FROM books GROUP BY note ORDER BY sum_num DESC LIMIT 0,1;</span><br><span class="line"></span><br><span class="line"># 15ã€æŸ¥è¯¢ä¹¦åè¾¾åˆ°10ä¸ªå­—ç¬¦çš„ä¹¦ï¼Œä¸åŒ…æ‹¬é‡Œé¢çš„ç©ºæ ¼</span><br><span class="line">SELECT * FROM books WHERE CHAR_LENGTH(REPLACE(name,&#x27; &#x27;,&#x27;&#x27;))&gt;=10;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">16ã€æŸ¥è¯¢ä¹¦åå’Œç±»å‹ï¼Œ</span><br><span class="line"> å…¶ä¸­noteå€¼ä¸º novelæ˜¾ç¤ºå°è¯´ï¼Œlawæ˜¾ç¤ºæ³•å¾‹ï¼Œmedicineæ˜¾ç¤ºåŒ»è¯ï¼Œcartoonæ˜¾ç¤ºå¡é€šï¼Œjokeæ˜¾ç¤ºç¬‘è¯</span><br><span class="line">*/</span><br><span class="line">SELECT name AS &quot;ä¹¦å&quot; ,note, CASE note </span><br><span class="line"> WHEN &#x27;novel&#x27; THEN &#x27;å°è¯´&#x27;</span><br><span class="line"> WHEN &#x27;law&#x27; THEN &#x27;æ³•å¾‹&#x27;</span><br><span class="line"> WHEN &#x27;medicine&#x27; THEN &#x27;åŒ»è¯&#x27;</span><br><span class="line"> WHEN &#x27;cartoon&#x27; THEN &#x27;å¡é€š&#x27;</span><br><span class="line"> WHEN &#x27;joke&#x27; THEN &#x27;ç¬‘è¯&#x27;</span><br><span class="line"> END AS &quot;ç±»å‹&quot;</span><br><span class="line">FROM books;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 17ã€æŸ¥è¯¢ä¹¦åã€åº“å­˜ï¼Œå…¶ä¸­numå€¼è¶…è¿‡30æœ¬çš„ï¼Œæ˜¾ç¤ºæ»é”€ï¼Œå¤§äº0å¹¶ä½äº10çš„ï¼Œæ˜¾ç¤ºç•…é”€ï¼Œä¸º0çš„æ˜¾ç¤ºéœ€è¦æ— è´§</span><br><span class="line">SELECT name,num,CASE </span><br><span class="line">  WHEN num&gt;30 THEN &#x27;æ»é”€&#x27;</span><br><span class="line">  WHEN num&gt;0 AND num&lt;10 THEN &#x27;ç•…é”€&#x27;</span><br><span class="line">  WHEN num=0 THEN &#x27;æ— è´§&#x27;</span><br><span class="line">  ELSE &#x27;æ­£å¸¸&#x27;</span><br><span class="line">  END AS &quot;åº“å­˜çŠ¶æ€&quot;</span><br><span class="line">FROM books;</span><br><span class="line"></span><br><span class="line"># 18ã€ç»Ÿè®¡æ¯ä¸€ç§noteçš„åº“å­˜é‡ï¼Œå¹¶åˆè®¡æ€»é‡</span><br><span class="line">SELECT IFNULL(note,&#x27;åˆè®¡æ€»åº“å­˜é‡&#x27;) AS note,SUM(num) FROM books GROUP BY note WITH ROLLUP;</span><br><span class="line"></span><br><span class="line"># 19ã€ç»Ÿè®¡æ¯ä¸€ç§noteçš„æ•°é‡ï¼Œå¹¶åˆè®¡æ€»é‡</span><br><span class="line">SELECT IFNULL(note,&#x27;åˆè®¡æ€»æ•°&#x27;) AS note,COUNT(*) FROM books GROUP BY note WITH ROLLUP;</span><br><span class="line"></span><br><span class="line"># 20ã€ç»Ÿè®¡åº“å­˜é‡å‰ä¸‰åçš„å›¾ä¹¦</span><br><span class="line">SELECT * FROM books ORDER BY num DESC LIMIT 0,3;</span><br><span class="line"></span><br><span class="line"># 21ã€æ‰¾å‡ºæœ€æ—©å‡ºç‰ˆçš„ä¸€æœ¬ä¹¦</span><br><span class="line">SELECT * FROM books ORDER BY pubdate ASC LIMIT 0,1;</span><br><span class="line"></span><br><span class="line"># 22ã€æ‰¾å‡ºnovelä¸­ä»·æ ¼æœ€é«˜çš„ä¸€æœ¬ä¹¦</span><br><span class="line">SELECT * FROM books WHERE note = &#x27;novel&#x27; ORDER BY price DESC LIMIT 0,1;</span><br><span class="line"></span><br><span class="line"># 23ã€æ‰¾å‡ºä¹¦åä¸­å­—æ•°æœ€å¤šçš„ä¸€æœ¬ä¹¦ï¼Œä¸å«ç©ºæ ¼</span><br><span class="line">SELECT * FROM books ORDER BY CHAR_LENGTH(REPLACE(name,&#x27; &#x27;,&#x27;&#x27;)) DESC LIMIT 0,1;</span><br></pre></td></tr></table></figure>



<h1 id="æ•°æ®å®šä¹‰è¯­è¨€-DDL"><a href="#æ•°æ®å®šä¹‰è¯­è¨€-DDL" class="headerlink" title="æ•°æ®å®šä¹‰è¯­è¨€ - DDL"></a>æ•°æ®å®šä¹‰è¯­è¨€ - DDL</h1><p>DDLï¼ˆData Definition Languagesï¼‰</p>
<ul>
<li>æ•°æ®å®šä¹‰è¯­è¨€ï¼Œè¿™äº›è¯­å¥å®šä¹‰äº†ä¸åŒçš„æ•°æ®æ®µã€æ•°æ®åº“ã€è¡¨ã€åˆ—ã€ç´¢å¼•ç­‰æ•°æ®åº“å¯¹è±¡çš„å®šä¹‰ã€‚</li>
<li>å¸¸ç”¨çš„è¯­å¥å…³é”®å­—ä¸»è¦åŒ…æ‹¬ CREATEã€DROPã€ALTERç­‰ã€‚</li>
</ul>
<h2 id="åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“"><a href="#åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“" class="headerlink" title="åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“"></a>åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“</h2><h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><ul>
<li>æ–¹å¼1ï¼šåˆ›å»ºæ•°æ®åº“</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE æ•°æ®åº“å; </span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼2ï¼šåˆ›å»ºæ•°æ®åº“å¹¶æŒ‡å®šå­—ç¬¦é›†</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE æ•°æ®åº“å CHARACTER SET å­—ç¬¦é›†;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ–¹å¼3ï¼šåˆ¤æ–­æ•°æ®åº“æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ•°æ®åº“ï¼ˆ<code>æ¨è</code>ï¼‰</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE IF NOT EXISTS æ•°æ®åº“å CHARACTER SET å­—ç¬¦é›†; </span><br></pre></td></tr></table></figure>

<p>å¦‚æœMySQLä¸­å·²ç»å­˜åœ¨ç›¸å…³çš„æ•°æ®åº“ï¼Œåˆ™å¿½ç•¥åˆ›å»ºè¯­å¥ï¼Œä¸å†åˆ›å»ºæ•°æ®åº“ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šDATABASE ä¸èƒ½æ”¹åã€‚ä¸€äº›å¯è§†åŒ–å·¥å…·å¯ä»¥æ”¹åï¼Œå®ƒæ˜¯å»ºæ–°åº“ï¼ŒæŠŠæ‰€æœ‰è¡¨å¤åˆ¶åˆ°æ–°åº“ï¼Œå†åˆ æ—§åº“å®Œæˆçš„ã€‚</p>
</blockquote>
<h3 id="ä½¿ç”¨-åˆ‡æ¢æ•°æ®åº“"><a href="#ä½¿ç”¨-åˆ‡æ¢æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨/åˆ‡æ¢æ•°æ®åº“"></a>ä½¿ç”¨/åˆ‡æ¢æ•°æ®åº“</h3><ul>
<li>æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„æ•°æ®åº“</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES; </span><br><span class="line">#æœ‰ä¸€ä¸ªSï¼Œä»£è¡¨å¤šä¸ªæ•°æ®åº“</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATABASE(); </span><br><span class="line">#ä½¿ç”¨çš„ä¸€ä¸ª mysql ä¸­çš„å…¨å±€å‡½æ•°</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æŒ‡å®šåº“ä¸‹æ‰€æœ‰çš„è¡¨</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES FROM æ•°æ®åº“å;</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥çœ‹æ•°æ®åº“çš„åˆ›å»ºä¿¡æ¯</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE DATABASE æ•°æ®åº“å;</span><br><span class="line">æˆ–è€…ï¼š</span><br><span class="line">SHOW CREATE DATABASE æ•°æ®åº“å\G</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä½¿ç”¨/åˆ‡æ¢æ•°æ®åº“</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE æ•°æ®åº“å;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šè¦æ“ä½œè¡¨æ ¼å’Œæ•°æ®ä¹‹å‰å¿…é¡»å…ˆè¯´æ˜æ˜¯å¯¹å“ªä¸ªæ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œå¦åˆ™å°±è¦å¯¹æ‰€æœ‰å¯¹è±¡åŠ ä¸Šâ€œæ•°æ®åº“å.â€ã€‚</p>
</blockquote>
<h3 id="ä¿®æ”¹æ•°æ®åº“"><a href="#ä¿®æ”¹æ•°æ®åº“" class="headerlink" title="ä¿®æ”¹æ•°æ®åº“"></a>ä¿®æ”¹æ•°æ®åº“</h3><ul>
<li>æ›´æ”¹æ•°æ®åº“å­—ç¬¦é›†</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER DATABASE æ•°æ®åº“å CHARACTER SET å­—ç¬¦é›†;  #æ¯”å¦‚ï¼šgbkã€utf8ç­‰</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤æ•°æ®åº“</h3><ul>
<li>æ–¹å¼1ï¼šåˆ é™¤æŒ‡å®šçš„æ•°æ®åº“</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE æ•°æ®åº“å;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>æ–¹å¼2ï¼šåˆ é™¤æŒ‡å®šçš„æ•°æ®åº“ï¼ˆ<code>æ¨è</code>ï¼‰</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE IF EXISTS æ•°æ®åº“å;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h2><h3 id="åˆ›å»ºæ–¹å¼1"><a href="#åˆ›å»ºæ–¹å¼1" class="headerlink" title="åˆ›å»ºæ–¹å¼1"></a>åˆ›å»ºæ–¹å¼1</h3><ul>
<li><strong>å¿…é¡»å…·å¤‡ï¼š</strong><ul>
<li>CREATE TABLEæƒé™</li>
<li>å­˜å‚¨ç©ºé—´</li>
</ul>
</li>
<li><strong>è¯­æ³•æ ¼å¼ï¼š</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE [IF NOT EXISTS] è¡¨å(</span><br><span class="line">	å­—æ®µ1, æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼],</span><br><span class="line">	å­—æ®µ2, æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼],</span><br><span class="line">	å­—æ®µ3, æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼],</span><br><span class="line">	â€¦â€¦</span><br><span class="line">	[è¡¨çº¦æŸæ¡ä»¶]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŠ ä¸Šäº†IF NOT EXISTSå…³é”®å­—ï¼Œåˆ™è¡¨ç¤ºï¼š</p>
<p>å¦‚æœå½“å‰æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¦åˆ›å»ºçš„æ•°æ®è¡¨ï¼Œåˆ™åˆ›å»ºæ•°æ®è¡¨ï¼›</p>
<p>å¦‚æœå½“å‰æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨è¦åˆ›å»ºçš„æ•°æ®è¡¨ï¼Œåˆ™å¿½ç•¥å»ºè¡¨è¯­å¥ï¼Œä¸å†åˆ›å»ºæ•°æ®è¡¨ã€‚</p>
</blockquote>
<ul>
<li><strong>å¿…é¡»æŒ‡å®šï¼š</strong><ul>
<li>è¡¨å</li>
<li>åˆ—å(æˆ–å­—æ®µå)ï¼Œæ•°æ®ç±»å‹ï¼Œ<strong>é•¿åº¦</strong></li>
</ul>
</li>
<li><strong>å¯é€‰æŒ‡å®šï¼š</strong><ul>
<li>çº¦æŸæ¡ä»¶</li>
<li>é»˜è®¤å€¼</li>
</ul>
</li>
<li>åˆ›å»ºè¡¨ä¸¾ä¾‹1ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- åˆ›å»ºè¡¨</span><br><span class="line">CREATE TABLE emp (</span><br><span class="line">  -- intç±»å‹</span><br><span class="line">  emp_id INT,</span><br><span class="line">  -- æœ€å¤šä¿å­˜20ä¸ªä¸­è‹±æ–‡å­—ç¬¦</span><br><span class="line">  emp_name VARCHAR(20),</span><br><span class="line">  -- æ€»ä½æ•°ä¸è¶…è¿‡15ä½</span><br><span class="line">  salary DOUBLE,</span><br><span class="line">  -- æ—¥æœŸç±»å‹</span><br><span class="line">  birthday DATE</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>MySQLåœ¨æ‰§è¡Œå»ºè¡¨è¯­å¥æ—¶ï¼Œå°†idå­—æ®µçš„ç±»å‹è®¾ç½®ä¸ºint(11)ï¼Œè¿™é‡Œçš„11å®é™…ä¸Šæ˜¯intç±»å‹æŒ‡å®šçš„æ˜¾ç¤ºå®½åº¦ï¼Œé»˜è®¤çš„æ˜¾ç¤ºå®½åº¦ä¸º11ã€‚ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™æŒ‡å®šæ•°æ®çš„æ˜¾ç¤ºå®½åº¦ã€‚</p>
<ul>
<li>åˆ›å»ºè¡¨ä¸¾ä¾‹2ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE dept(</span><br><span class="line">    -- intç±»å‹ï¼Œè‡ªå¢</span><br><span class="line">	deptno INT(2) AUTO_INCREMENT,</span><br><span class="line">	dname VARCHAR(14),</span><br><span class="line">	loc VARCHAR(13),</span><br><span class="line">    -- ä¸»é”®</span><br><span class="line">    PRIMARY KEY (deptno)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨MySQL 8.xç‰ˆæœ¬ä¸­ï¼Œä¸å†æ¨èä¸ºINTç±»å‹æŒ‡å®šæ˜¾ç¤ºé•¿åº¦ï¼Œå¹¶åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å¯èƒ½å»æ‰è¿™æ ·çš„è¯­æ³•ã€‚</p>
</blockquote>
<h3 id="åˆ›å»ºæ–¹å¼2"><a href="#åˆ›å»ºæ–¹å¼2" class="headerlink" title="åˆ›å»ºæ–¹å¼2"></a>åˆ›å»ºæ–¹å¼2</h3><ul>
<li><p>ä½¿ç”¨ AS subquery é€‰é¡¹ï¼Œ<strong>å°†åˆ›å»ºè¡¨å’Œæ’å…¥æ•°æ®ç»“åˆèµ·æ¥</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/BaiduNetdiskWorkspace/images/1554997882872.png" alt="1554997882872"></p>
</li>
<li><p>æŒ‡å®šçš„åˆ—å’Œå­æŸ¥è¯¢ä¸­çš„åˆ—è¦ä¸€ä¸€å¯¹åº”</p>
</li>
<li><p>é€šè¿‡åˆ—åå’Œé»˜è®¤å€¼å®šä¹‰åˆ—</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE emp1 </span><br><span class="line">	AS </span><br><span class="line">	SELECT * FROM employees;</span><br><span class="line"></span><br><span class="line">CREATE TABLE emp2 </span><br><span class="line">	AS </span><br><span class="line">	SELECT * </span><br><span class="line">	FROM employees </span><br><span class="line">	WHERE 1=2; -- åˆ›å»ºçš„emp2æ˜¯ç©ºè¡¨</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE dept80</span><br><span class="line">AS </span><br><span class="line">SELECT  employee_id, last_name, salary*12 ANNSAL, hire_date</span><br><span class="line">FROM    employees</span><br><span class="line">WHERE   department_id = 80;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„"><a href="#æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„" class="headerlink" title="æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„"></a>æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„</h3><p>åœ¨MySQLä¸­åˆ›å»ºå¥½æ•°æ®è¡¨ä¹‹åï¼Œå¯ä»¥æŸ¥çœ‹æ•°æ®è¡¨çš„ç»“æ„ã€‚MySQLæ”¯æŒä½¿ç”¨<code>DESCRIBE/DESC</code>è¯­å¥æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨<code>SHOW CREATE TABLE</code>è¯­å¥æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„ã€‚</p>
<p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE TABLE è¡¨å\G</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨SHOW CREATE TABLEè¯­å¥ä¸ä»…å¯ä»¥æŸ¥çœ‹è¡¨åˆ›å»ºæ—¶çš„è¯¦ç»†è¯­å¥ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å­˜å‚¨å¼•æ“å’Œå­—ç¬¦ç¼–ç ã€‚</p>
<h2 id="ä¿®æ”¹è¡¨"><a href="#ä¿®æ”¹è¡¨" class="headerlink" title="ä¿®æ”¹è¡¨"></a>ä¿®æ”¹è¡¨</h2><p>ä¿®æ”¹è¡¨æŒ‡çš„æ˜¯ä¿®æ”¹æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨çš„æ•°æ®è¡¨çš„ç»“æ„ã€‚</p>
<p><strong>ä½¿ç”¨ ALTER TABLE è¯­å¥å¯ä»¥å®ç°ï¼š</strong></p>
<ul>
<li><p>å‘å·²æœ‰çš„è¡¨ä¸­æ·»åŠ åˆ—</p>
</li>
<li><p>ä¿®æ”¹ç°æœ‰è¡¨ä¸­çš„åˆ—</p>
</li>
<li><p>åˆ é™¤ç°æœ‰è¡¨ä¸­çš„åˆ—</p>
</li>
<li><p>é‡å‘½åç°æœ‰è¡¨ä¸­çš„åˆ—</p>
</li>
</ul>
<h3 id="è¿½åŠ ä¸€ä¸ªåˆ—"><a href="#è¿½åŠ ä¸€ä¸ªåˆ—" class="headerlink" title="è¿½åŠ ä¸€ä¸ªåˆ—"></a>è¿½åŠ ä¸€ä¸ªåˆ—</h3><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE è¡¨å ADD ã€COLUMNã€‘ å­—æ®µå å­—æ®µç±»å‹ ã€FIRST|AFTER å­—æ®µåã€‘;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE dept80 </span><br><span class="line">ADD job_id varchar(15);</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹ä¸€ä¸ªåˆ—"><a href="#ä¿®æ”¹ä¸€ä¸ªåˆ—" class="headerlink" title="ä¿®æ”¹ä¸€ä¸ªåˆ—"></a>ä¿®æ”¹ä¸€ä¸ªåˆ—</h3><ul>
<li><p>å¯ä»¥ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹ï¼Œé•¿åº¦ã€é»˜è®¤å€¼å’Œä½ç½®</p>
</li>
<li><p>ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹ã€é•¿åº¦ã€é»˜è®¤å€¼ã€ä½ç½®çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE è¡¨å MODIFY ã€COLUMNã€‘ å­—æ®µå1 å­—æ®µç±»å‹ ã€DEFAULT é»˜è®¤å€¼ã€‘ã€FIRST|AFTER å­—æ®µå2ã€‘;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¾ä¾‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE	dept80</span><br><span class="line">MODIFY last_name VARCHAR(30);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE	dept80</span><br><span class="line">MODIFY salary double(9,2) default 1000;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯¹é»˜è®¤å€¼çš„ä¿®æ”¹åªå½±å“ä»Šåå¯¹è¡¨çš„ä¿®æ”¹</li>
<li>æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ­¤ç§æ–¹å¼ä¿®æ”¹åˆ—çš„çº¦æŸã€‚è¿™é‡Œæš‚å…ˆä¸è®²ã€‚</li>
</ul>
<h3 id="é‡å‘½åä¸€ä¸ªåˆ—"><a href="#é‡å‘½åä¸€ä¸ªåˆ—" class="headerlink" title="é‡å‘½åä¸€ä¸ªåˆ—"></a>é‡å‘½åä¸€ä¸ªåˆ—</h3><p>ä½¿ç”¨ CHANGE old_column  new_column  dataTypeå­å¥é‡å‘½ååˆ—ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE è¡¨å CHANGE ã€columnã€‘ åˆ—å æ–°åˆ—å æ–°æ•°æ®ç±»å‹;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE  dept80</span><br><span class="line">CHANGE department_name dept_name varchar(15); </span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤ä¸€ä¸ªåˆ—"><a href="#åˆ é™¤ä¸€ä¸ªåˆ—" class="headerlink" title="åˆ é™¤ä¸€ä¸ªåˆ—"></a>åˆ é™¤ä¸€ä¸ªåˆ—</h3><p>åˆ é™¤è¡¨ä¸­æŸä¸ªå­—æ®µçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE è¡¨å DROP ã€COLUMNã€‘å­—æ®µå</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE  dept80</span><br><span class="line">DROP COLUMN  job_id; </span><br></pre></td></tr></table></figure>

<h2 id="é‡å‘½åè¡¨"><a href="#é‡å‘½åè¡¨" class="headerlink" title="é‡å‘½åè¡¨"></a>é‡å‘½åè¡¨</h2><ul>
<li>æ–¹å¼ä¸€ï¼šä½¿ç”¨RENAME</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RENAME TABLE emp</span><br><span class="line">TO myemp;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼äºŒï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER table dept</span><br><span class="line">RENAME [TO] detail_dept;  -- [TO]å¯ä»¥çœç•¥</span><br></pre></td></tr></table></figure>

<ul>
<li>å¿…é¡»æ˜¯å¯¹è±¡çš„æ‹¥æœ‰è€…</li>
</ul>
<h2 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h2><ul>
<li><p>åœ¨MySQLä¸­ï¼Œå½“ä¸€å¼ æ•°æ®è¡¨<code>æ²¡æœ‰ä¸å…¶ä»–ä»»ä½•æ•°æ®è¡¨å½¢æˆå…³è”å…³ç³»</code>æ—¶ï¼Œå¯ä»¥å°†å½“å‰æ•°æ®è¡¨ç›´æ¥åˆ é™¤ã€‚</p>
</li>
<li><p>æ•°æ®å’Œç»“æ„éƒ½è¢«åˆ é™¤</p>
</li>
<li><p>æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ç›¸å…³äº‹åŠ¡è¢«æäº¤</p>
</li>
<li><p>æ‰€æœ‰ç›¸å…³ç´¢å¼•è¢«åˆ é™¤</p>
</li>
<li><p>è¯­æ³•æ ¼å¼ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE [IF EXISTS] æ•°æ®è¡¨1 [, æ•°æ®è¡¨2, â€¦, æ•°æ®è¡¨n];</span><br></pre></td></tr></table></figure>

<p><code>IF EXISTS</code>çš„å«ä¹‰ä¸ºï¼š</p>
<p>å¦‚æœå½“å‰æ•°æ®åº“ä¸­å­˜åœ¨ç›¸åº”çš„æ•°æ®è¡¨ï¼Œåˆ™åˆ é™¤æ•°æ®è¡¨ï¼›</p>
<p>å¦‚æœå½“å‰æ•°æ®åº“ä¸­ä¸å­˜åœ¨ç›¸åº”çš„æ•°æ®è¡¨ï¼Œåˆ™å¿½ç•¥åˆ é™¤è¯­å¥ï¼Œä¸å†æ‰§è¡Œåˆ é™¤æ•°æ®è¡¨çš„æ“ä½œã€‚</p>
<ul>
<li>ä¸¾ä¾‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE dept80;</span><br></pre></td></tr></table></figure>

<ul>
<li>DROP TABLE è¯­å¥ä¸èƒ½å›æ»š</li>
</ul>
<h2 id="æ¸…ç©ºè¡¨"><a href="#æ¸…ç©ºè¡¨" class="headerlink" title="æ¸…ç©ºè¡¨"></a>æ¸…ç©ºè¡¨</h2><ul>
<li><p>TRUNCATE TABLEè¯­å¥ï¼š</p>
<ul>
<li>åˆ é™¤è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®</li>
<li>é‡Šæ”¾è¡¨çš„å­˜å‚¨ç©ºé—´</li>
</ul>
</li>
<li><p>ä¸¾ä¾‹ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRUNCATE TABLE detail_dept;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>TRUNCATEè¯­å¥<strong>ä¸èƒ½å›æ»š</strong>ï¼Œè€Œä½¿ç”¨ DELETE è¯­å¥åˆ é™¤æ•°æ®ï¼Œå¯ä»¥å›æ»š</p>
</li>
<li><p>å¯¹æ¯”ï¼š</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SET autocommit = FALSE;</span><br><span class="line">  </span><br><span class="line">DELETE FROM emp2; </span><br><span class="line">#TRUNCATE TABLE emp2;</span><br><span class="line">  </span><br><span class="line">SELECT * FROM emp2;</span><br><span class="line">  </span><br><span class="line">ROLLBACK;</span><br><span class="line">  </span><br><span class="line">SELECT * FROM emp2;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é˜¿é‡Œå¼€å‘è§„èŒƒï¼š</p>
<p>ã€å‚è€ƒã€‘TRUNCATE TABLE æ¯” DELETE é€Ÿåº¦å¿«ï¼Œä¸”ä½¿ç”¨çš„ç³»ç»Ÿå’Œäº‹åŠ¡æ—¥å¿—èµ„æºå°‘ï¼Œä½† TRUNCATE æ— äº‹åŠ¡ä¸”ä¸è§¦å‘ TRIGGERï¼Œæœ‰å¯èƒ½é€ æˆäº‹æ•…ï¼Œæ•…ä¸å»ºè®®åœ¨å¼€å‘ä»£ç ä¸­ä½¿ç”¨æ­¤è¯­å¥ã€‚ </p>
<p>è¯´æ˜ï¼šTRUNCATE TABLE åœ¨åŠŸèƒ½ä¸Šä¸ä¸å¸¦ WHERE å­å¥çš„ DELETE è¯­å¥ç›¸åŒã€‚</p>
</blockquote>
<h2 id="å†…å®¹æ‹“å±•-å­—æ®µå‘½å"><a href="#å†…å®¹æ‹“å±•-å­—æ®µå‘½å" class="headerlink" title="å†…å®¹æ‹“å±• - å­—æ®µå‘½å"></a>å†…å®¹æ‹“å±• - å­—æ®µå‘½å</h2><h3 id="é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¹‹MySQLå­—æ®µå‘½å"><a href="#é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¹‹MySQLå­—æ®µå‘½å" class="headerlink" title="é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¹‹MySQLå­—æ®µå‘½å"></a>é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¹‹MySQLå­—æ®µå‘½å</h3><ul>
<li><p>ã€<code>å¼ºåˆ¶</code>ã€‘è¡¨åã€å­—æ®µåå¿…é¡»ä½¿ç”¨å°å†™å­—æ¯æˆ–æ•°å­—ï¼Œç¦æ­¢å‡ºç°æ•°å­—å¼€å¤´ï¼Œç¦æ­¢ä¸¤ä¸ªä¸‹åˆ’çº¿ä¸­é—´åªå‡ºç°æ•°å­—ã€‚æ•°æ®åº“å­—æ®µåçš„ä¿®æ”¹ä»£ä»·å¾ˆå¤§ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œé¢„å‘å¸ƒï¼Œæ‰€ä»¥å­—æ®µåç§°éœ€è¦æ…é‡è€ƒè™‘ã€‚</p>
<ul>
<li>æ­£ä¾‹ï¼šaliyun_adminï¼Œrdc_configï¼Œlevel3_name </li>
<li>åä¾‹ï¼šAliyunAdminï¼ŒrdcConfigï¼Œlevel_3_name</li>
</ul>
</li>
<li><p>ã€<code>å¼ºåˆ¶</code>ã€‘ç¦ç”¨ä¿ç•™å­—ï¼Œå¦‚ descã€rangeã€matchã€delayed ç­‰ï¼Œè¯·å‚è€ƒ MySQL å®˜æ–¹ä¿ç•™å­—ã€‚</p>
</li>
<li><p>ã€<code>å¼ºåˆ¶</code>ã€‘è¡¨å¿…å¤‡ä¸‰å­—æ®µï¼šid, gmt_create, gmt_modifiedã€‚ </p>
<ul>
<li>è¯´æ˜ï¼šå…¶ä¸­ id å¿…ä¸ºä¸»é”®ï¼Œç±»å‹ä¸ºBIGINT UNSIGNEDã€å•è¡¨æ—¶è‡ªå¢ã€æ­¥é•¿ä¸º 1ã€‚gmt_create, gmt_modified çš„ç±»å‹å‡ä¸º DATETIME ç±»å‹ï¼Œå‰è€…ç°åœ¨æ—¶è¡¨ç¤ºä¸»åŠ¨å¼åˆ›å»ºï¼Œåè€…è¿‡å»åˆ†è¯è¡¨ç¤ºè¢«åŠ¨å¼æ›´æ–°</li>
</ul>
</li>
<li><p>ã€<code>æ¨è</code>ã€‘è¡¨çš„å‘½åæœ€å¥½æ˜¯éµå¾ª â€œä¸šåŠ¡åç§°_è¡¨çš„ä½œç”¨â€ã€‚ </p>
<ul>
<li>æ­£ä¾‹ï¼šalipay_task ã€ force_projectã€ trade_config</li>
</ul>
</li>
<li><p>ã€<code>æ¨è</code>ã€‘åº“åä¸åº”ç”¨åç§°å°½é‡ä¸€è‡´ã€‚</p>
</li>
<li><p>ã€å‚è€ƒã€‘åˆé€‚çš„å­—ç¬¦å­˜å‚¨é•¿åº¦ï¼Œä¸ä½†èŠ‚çº¦æ•°æ®åº“è¡¨ç©ºé—´ã€èŠ‚çº¦ç´¢å¼•å­˜å‚¨ï¼Œæ›´é‡è¦çš„æ˜¯æå‡æ£€ç´¢é€Ÿåº¦ã€‚ </p>
<ul>
<li>æ­£ä¾‹ï¼šæ— ç¬¦å·å€¼å¯ä»¥é¿å…è¯¯å­˜è´Ÿæ•°ï¼Œä¸”æ‰©å¤§äº†è¡¨ç¤ºèŒƒå›´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:/BaiduNetdiskWorkspace/images/image-20211024012735469.png" alt="image-20211024012735469"></p>
</li>
</ul>
<h3 id="å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…ï¼Ÿï¼"><a href="#å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…ï¼Ÿï¼" class="headerlink" title="å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…ï¼Ÿï¼"></a>å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…ï¼Ÿï¼</h3><p>è¡¨åˆ é™¤æ“ä½œå°†æŠŠè¡¨çš„å®šä¹‰å’Œè¡¨ä¸­çš„æ•°æ®ä¸€èµ·åˆ é™¤ï¼Œå¹¶ä¸”MySQLåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œä¸ä¼šæœ‰ä»»ä½•çš„ç¡®è®¤ä¿¡æ¯æç¤ºï¼Œå› æ­¤æ‰§è¡Œåˆ é™¤æ“æ—¶åº”å½“æ…é‡ã€‚åœ¨åˆ é™¤è¡¨å‰ï¼Œæœ€å¥½å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œè¿™æ ·å½“æ“ä½œå¤±è¯¯æ—¶å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ¢å¤ï¼Œä»¥å…é€ æˆæ— æ³•æŒ½å›çš„åæœã€‚</p>
<p>åŒæ ·çš„ï¼Œåœ¨è¿›è¡Œè¡¨çš„åŸºæœ¬ä¿®æ”¹æ“ä½œæ—¶ï¼Œåœ¨æ‰§è¡Œæ“ä½œè¿‡ç¨‹ä¹‹å‰ï¼Œä¹Ÿåº”è¯¥ç¡®ä¿å¯¹æ•°æ®è¿›è¡Œ<strong>å®Œæ•´çš„å¤‡ä»½</strong>ï¼Œå› ä¸ºæ•°æ®åº“çš„æ”¹å˜æ˜¯æ— æ³•æ’¤é”€çš„ï¼Œå¦‚æœæ·»åŠ äº†ä¸€ä¸ªä¸éœ€è¦çš„å­—æ®µï¼Œå¯ä»¥å°†å…¶åˆ é™¤ï¼›ç›¸åŒçš„ï¼Œå¦‚æœåˆ é™¤äº†ä¸€ä¸ªéœ€è¦çš„åˆ—ï¼Œè¯¥åˆ—ä¸‹é¢çš„æ‰€æœ‰æ•°æ®éƒ½å°†ä¼šä¸¢å¤±ã€‚</p>
<h3 id="MySQL8æ–°ç‰¹æ€§â€”DDLçš„åŸå­åŒ–"><a href="#MySQL8æ–°ç‰¹æ€§â€”DDLçš„åŸå­åŒ–" class="headerlink" title="MySQL8æ–°ç‰¹æ€§â€”DDLçš„åŸå­åŒ–"></a>MySQL8æ–°ç‰¹æ€§â€”DDLçš„åŸå­åŒ–</h3><p>åœ¨MySQL 8.0ç‰ˆæœ¬ä¸­ï¼ŒInnoDBè¡¨çš„DDLæ”¯æŒäº‹åŠ¡å®Œæ•´æ€§ï¼Œå³<code>DDLæ“ä½œè¦ä¹ˆæˆåŠŸè¦ä¹ˆå›æ»š</code>ã€‚</p>
<p>DDLæ“ä½œå›æ»šæ—¥å¿—å†™å…¥åˆ°data dictionaryæ•°æ®å­—å…¸è¡¨mysql.innodb_ddl_logï¼ˆè¯¥è¡¨æ˜¯éšè—çš„è¡¨ï¼Œé€šè¿‡show tablesæ— æ³•çœ‹åˆ°ï¼‰ä¸­ï¼Œç”¨äºå›æ»šæ“ä½œã€‚é€šè¿‡è®¾ç½®å‚æ•°ï¼Œå¯å°†DDLæ“ä½œæ—¥å¿—æ‰“å°è¾“å‡ºåˆ°MySQLé”™è¯¯æ—¥å¿—ä¸­ã€‚</p>
<p>åˆ†åˆ«åœ¨MySQL 5.7ç‰ˆæœ¬å’ŒMySQL 8.0ç‰ˆæœ¬ä¸­åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE mytest;</span><br><span class="line"></span><br><span class="line">USE mytest;</span><br><span class="line"></span><br><span class="line">CREATE TABLE book1(</span><br><span class="line">book_id INT ,</span><br><span class="line">book_name VARCHAR(255)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">SHOW TABLES;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ1ï¼‰åœ¨MySQL 5.7ç‰ˆæœ¬ä¸­ï¼Œæµ‹è¯•æ­¥éª¤å¦‚ä¸‹ï¼š<br>åˆ é™¤æ•°æ®è¡¨book1å’Œæ•°æ®è¡¨book2ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; DROP TABLE book1,book2;</span><br><span class="line">ERROR 1051 (42S02): Unknown table &#x27;mytest.book2&#x27;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®è¡¨åç§°ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW TABLES;</span><br><span class="line">Empty set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶åˆ é™¤æ“ä½œæ—¶æŠ¥é”™äº†ï¼Œä½†æ˜¯ä»ç„¶åˆ é™¤äº†æ•°æ®è¡¨book1ã€‚</p>
<p>ï¼ˆ2ï¼‰åœ¨MySQL 8.0ç‰ˆæœ¬ä¸­ï¼Œæµ‹è¯•æ­¥éª¤å¦‚ä¸‹ï¼š<br>åˆ é™¤æ•°æ®è¡¨book1å’Œæ•°æ®è¡¨book2ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; DROP TABLE book1,book2;</span><br><span class="line">ERROR 1051 (42S02): Unknown table &#x27;mytest.book2&#x27;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®è¡¨åç§°ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+------------------+</span><br><span class="line">| Tables_in_mytest |</span><br><span class="line">+------------------+</span><br><span class="line">| book1            |</span><br><span class="line">+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ•°æ®è¡¨book1å¹¶æ²¡æœ‰è¢«åˆ é™¤ã€‚</p>
<h1 id="æ•°æ®æ§åˆ¶è¯­è¨€-DCL"><a href="#æ•°æ®æ§åˆ¶è¯­è¨€-DCL" class="headerlink" title="æ•°æ®æ§åˆ¶è¯­è¨€ - DCL"></a>æ•°æ®æ§åˆ¶è¯­è¨€ - DCL</h1><p>DCLï¼ˆData Control Languageï¼‰</p>
<ul>
<li>æ•°æ®æ§åˆ¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ä¸åŒæ•°æ®æ®µç›´æ¥çš„è®¸å¯å’Œè®¿é—®çº§åˆ«çš„è¯­å¥ã€‚è¿™äº›è¯­å¥å®šä¹‰äº†æ•°æ®åº“ã€è¡¨ã€å­—æ®µã€ç”¨æˆ·çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ã€‚</li>
<li>ä¸»è¦çš„è¯­å¥å…³é”®å­—åŒ…æ‹¬ grantã€revoke ç­‰ã€‚</li>
</ul>
<h1 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h1><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç±»å‹ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>æ•´æ•°ç±»å‹</td>
<td>TINYINTã€SMALLINTã€MEDIUMINTã€<strong>INT(æˆ–INTEGER)</strong>ã€BIGINT</td>
</tr>
<tr>
<td>æµ®ç‚¹ç±»å‹</td>
<td>FLOATã€DOUBLE</td>
</tr>
<tr>
<td>å®šç‚¹æ•°ç±»å‹</td>
<td><strong>DECIMAL</strong></td>
</tr>
<tr>
<td>ä½ç±»å‹</td>
<td>BIT</td>
</tr>
<tr>
<td>æ—¥æœŸæ—¶é—´ç±»å‹</td>
<td>YEARã€TIMEã€<strong>DAT E</strong>ã€DATETIMEã€TIMESTAMP</td>
</tr>
<tr>
<td>æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹</td>
<td>CHARã€<strong>VARCHAR</strong>ã€TINYTEXTã€TEXTã€MEDIUMTEXTã€LONGTEXT</td>
</tr>
<tr>
<td>æšä¸¾ç±»å‹</td>
<td>ENUM</td>
</tr>
<tr>
<td>é›†åˆç±»å‹</td>
<td>SET</td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶å­—ç¬¦ä¸²ç±»å‹</td>
<td>BINARYã€VARBINARYã€TINYBLOBã€BLOBã€MEDIUMBLOBã€LONGBLOB</td>
</tr>
<tr>
<td>JSONç±»å‹</td>
<td>JSONå¯¹è±¡ã€JSONæ•°ç»„</td>
</tr>
<tr>
<td>ç©ºé—´æ•°æ®ç±»å‹</td>
<td>å•å€¼ï¼šGEOMETRYã€POINTã€LINESTRINGã€POLYGONï¼›<br/>é›†åˆï¼šMULTIPOINTã€MULTILINESTRINGã€MULTIPOLYGONã€GEOMETRYCOLLECTION</td>
</tr>
</tbody></table>
<p><strong>å¸¸ç”¨çš„å‡ ç±»ç±»å‹ä»‹ç»å¦‚ä¸‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>INT</td>
<td>ä»-2^31åˆ°2^31-1çš„æ•´å‹æ•°æ®ã€‚å­˜å‚¨å¤§å°ä¸º 4ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>CHAR(size)</td>
<td>å®šé•¿å­—ç¬¦æ•°æ®ã€‚è‹¥æœªæŒ‡å®šï¼Œé»˜è®¤ä¸º1ä¸ªå­—ç¬¦ï¼Œæœ€å¤§é•¿åº¦255</td>
</tr>
<tr>
<td>VARCHAR(size)</td>
<td>å¯å˜é•¿å­—ç¬¦æ•°æ®ï¼Œæ ¹æ®å­—ç¬¦ä¸²å®é™…é•¿åº¦ä¿å­˜ï¼Œ<strong>å¿…é¡»æŒ‡å®šé•¿åº¦</strong></td>
</tr>
<tr>
<td>FLOAT(M,D)</td>
<td>å•ç²¾åº¦ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼ŒM=æ•´æ•°ä½+å°æ•°ä½ï¼ŒD=å°æ•°ä½ã€‚ D&lt;=M&lt;=255,0&lt;=D&lt;=30ï¼Œé»˜è®¤M+D&lt;=6</td>
</tr>
<tr>
<td>DOUBLE(M,D)</td>
<td>åŒç²¾åº¦ï¼Œå ç”¨8ä¸ªå­—èŠ‚ï¼ŒD&lt;=M&lt;=255,0&lt;=D&lt;=30ï¼Œé»˜è®¤M+D&lt;=15</td>
</tr>
<tr>
<td>DECIMAL(M,D)</td>
<td>é«˜ç²¾åº¦å°æ•°ï¼Œå ç”¨M+2ä¸ªå­—èŠ‚ï¼ŒD&lt;=M&lt;=65ï¼Œ0&lt;=D&lt;=30ï¼Œæœ€å¤§å–å€¼èŒƒå›´ä¸DOUBLEç›¸åŒã€‚</td>
</tr>
<tr>
<td>DATE</td>
<td>æ—¥æœŸå‹æ•°æ®ï¼Œæ ¼å¼â€™YYYY-MM-DDâ€™</td>
</tr>
<tr>
<td>BLOB</td>
<td>äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®ï¼Œæœ€å¤§å¯è¾¾4G</td>
</tr>
<tr>
<td>TEXT</td>
<td>é•¿æ–‡æœ¬æ•°æ®ï¼Œæœ€å¤§å¯è¾¾4G</td>
</tr>
</tbody></table>
<p>åœ¨å®šä¹‰æ•°æ®ç±»å‹æ—¶ï¼š</p>
<p>å¦‚æœç¡®å®šæ˜¯<code>æ•´æ•°</code>ï¼Œå°±ç”¨<code>INT</code>ï¼› </p>
<p>å¦‚æœæ˜¯<code>å°æ•°</code>ï¼Œä¸€å®šç”¨å®šç‚¹æ•°ç±»å‹ <code>DECIMAL(M,D)</code>ï¼› </p>
<p>å¦‚æœæ˜¯æ—¥æœŸä¸æ—¶é—´ï¼Œå°±ç”¨ <code>DATETIME</code>ã€‚ </p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œé¦–å…ˆç¡®ä¿ä½ çš„ç³»ç»Ÿä¸ä¼šå› ä¸ºæ•°æ®ç±»å‹å®šä¹‰å‡ºé”™ã€‚ä¸è¿‡ï¼Œå‡¡äº‹éƒ½æ˜¯æœ‰ä¸¤é¢çš„ï¼Œå¯é æ€§å¥½ï¼Œå¹¶ä¸æ„å‘³ç€é«˜æ•ˆã€‚æ¯”å¦‚ï¼ŒTEXT è™½ç„¶ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ˜¯æ•ˆç‡ä¸å¦‚ CHAR(M) å’Œ VARCHAR(M)ã€‚</p>
<p><strong>å¸¸è§æ•°æ®ç±»å‹çš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š</strong></p>
<table>
<thead>
<tr>
<th>MySQLå…³é”®å­—</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>NULL</td>
<td>æ•°æ®åˆ—å¯åŒ…å«NULLå€¼</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>æ•°æ®åˆ—ä¸å…è®¸åŒ…å«NULLå€¼</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>é»˜è®¤å€¼</td>
</tr>
<tr>
<td>PRIMARY KEY</td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>AUTO_INCREMENT</td>
<td>è‡ªåŠ¨é€’å¢ï¼Œé€‚ç”¨äºæ•´æ•°ç±»å‹</td>
</tr>
<tr>
<td>UNSIGNED</td>
<td>æ— ç¬¦å·</td>
</tr>
<tr>
<td>CHARACTER SET name</td>
<td>æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†</td>
</tr>
</tbody></table>
<h2 id="æ•´æ•°ç±»å‹"><a href="#æ•´æ•°ç±»å‹" class="headerlink" title="æ•´æ•°ç±»å‹"></a>æ•´æ•°ç±»å‹</h2><p>æ•´æ•°ç±»å‹ä¸€å…±æœ‰ 5 ç§ï¼ŒåŒ…æ‹¬ TINYINTã€SMALLINTã€MEDIUMINTã€INTï¼ˆINTEGERï¼‰å’Œ BIGINTã€‚</p>
<p>å®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th><strong>æ•´æ•°ç±»å‹</strong></th>
<th><strong>å­—èŠ‚</strong></th>
<th>æœ‰ç¬¦å·æ•°å–å€¼èŒƒå›´</th>
<th>æ— ç¬¦å·æ•°å–å€¼èŒƒå›´</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1</td>
<td>-128~127</td>
<td>0~255</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2</td>
<td>-32768~32767</td>
<td>0~65535</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3</td>
<td>-8388608~8388607</td>
<td>0~16777215</td>
</tr>
<tr>
<td>INTã€INTEGER</td>
<td>4</td>
<td>-2147483648~2147483647</td>
<td>0~4294967295</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8</td>
<td>-9223372036854775808~9223372036854775807</td>
<td>0~18446744073709551615</td>
</tr>
</tbody></table>
<h3 id="UNISIGNED"><a href="#UNISIGNED" class="headerlink" title="UNISIGNED"></a><strong>UNISIGNED</strong></h3><p><code>UNSIGNED</code>:   æ— ç¬¦å·ç±»å‹ï¼ˆéè´Ÿï¼‰ï¼Œæ‰€æœ‰çš„æ•´æ•°ç±»å‹éƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„å±æ€§UNSIGNEDï¼ˆæ— ç¬¦å·å±æ€§ï¼‰ï¼Œæ— ç¬¦å·æ•´æ•°ç±»å‹çš„æœ€å°å–å€¼ä¸º0ã€‚æ‰€ä»¥ï¼Œå¦‚æœéœ€è¦åœ¨MySQLæ•°æ®åº“ä¸­ä¿å­˜éè´Ÿæ•´æ•°å€¼æ—¶ï¼Œå¯ä»¥å°†æ•´æ•°ç±»å‹è®¾ç½®ä¸ºæ— ç¬¦å·ç±»å‹ã€‚</p>
<h3 id="ZEROFILL"><a href="#ZEROFILL" class="headerlink" title="ZEROFILL"></a>ZEROFILL</h3><p><code>ZEROFILL</code>:   0å¡«å……,ï¼ˆå¦‚æœæŸåˆ—æ˜¯ZEROFILLï¼Œé‚£ä¹ˆMySQLä¼šè‡ªåŠ¨ä¸ºå½“å‰åˆ—æ·»åŠ UNSIGNEDå±æ€§ï¼‰ï¼Œå¦‚æœæŒ‡å®šäº†ZEROFILLåªæ˜¯è¡¨ç¤ºä¸å¤ŸMä½æ—¶ï¼Œç”¨0åœ¨å·¦è¾¹å¡«å……ï¼Œå¦‚æœè¶…è¿‡Mä½ï¼Œåªè¦ä¸è¶…è¿‡æ•°æ®å­˜å‚¨èŒƒå›´å³å¯ã€‚</p>
<p>åŸæ¥ï¼Œåœ¨ int(M) ä¸­ï¼ŒM çš„å€¼è·Ÿ int(M) æ‰€å å¤šå°‘å­˜å‚¨ç©ºé—´å¹¶æ— ä»»ä½•å…³ç³»ã€‚ int(3)ã€int(4)ã€int(8) åœ¨ç£ç›˜ä¸Šéƒ½æ˜¯å ç”¨ 4 bytes çš„å­˜å‚¨ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>int(M)ï¼Œå¿…é¡»å’ŒUNSIGNED ZEROFILLä¸€èµ·ä½¿ç”¨æ‰æœ‰æ„ä¹‰ã€‚</strong>å¦‚æœæ•´æ•°å€¼è¶…è¿‡Mä½ï¼Œå°±æŒ‰ç…§å®é™…ä½æ•°å­˜å‚¨ã€‚åªæ˜¯æ— é¡»å†ç”¨å­—ç¬¦ 0 è¿›è¡Œå¡«å……ã€‚</p>
<h2 id="æµ®ç‚¹ç±»å‹"><a href="#æµ®ç‚¹ç±»å‹" class="headerlink" title="æµ®ç‚¹ç±»å‹"></a>æµ®ç‚¹ç±»å‹</h2><p>æµ®ç‚¹æ•°å’Œå®šç‚¹æ•°ç±»å‹çš„ç‰¹ç‚¹æ˜¯å¯ä»¥<code>å¤„ç†å°æ•°</code>ï¼Œå¯ä»¥æŠŠæ•´æ•°çœ‹æˆå°æ•°çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å› æ­¤ï¼Œæµ®ç‚¹æ•°å’Œå®šç‚¹æ•°çš„ä½¿ç”¨åœºæ™¯ï¼Œæ¯”æ•´æ•°å¤§å¤šäº†ã€‚ MySQLæ”¯æŒçš„æµ®ç‚¹æ•°ç±»å‹ï¼Œåˆ†åˆ«æ˜¯ FLOATã€DOUBLEã€REALã€‚</p>
<ul>
<li>FLOAT è¡¨ç¤ºå•ç²¾åº¦æµ®ç‚¹æ•°ï¼›</li>
<li>DOUBLE è¡¨ç¤ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5Cimage-20211007173312237.png" alt="image-20211007173312237"></p>
<ul>
<li><p>REALé»˜è®¤å°±æ˜¯ DOUBLEã€‚å¦‚æœä½ æŠŠ SQL æ¨¡å¼è®¾å®šä¸ºå¯ç”¨â€œ<code>REAL_AS_FLOAT</code>â€ï¼Œé‚£ ä¹ˆï¼ŒMySQL å°±è®¤ä¸º REAL æ˜¯ FLOATã€‚å¦‚æœè¦å¯ç”¨â€œREAL_AS_FLOATâ€ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ SQL è¯­å¥å®ç°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET sql_mode = â€œREAL_AS_FLOATâ€;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>é—®é¢˜1ï¼š</strong>FLOAT å’Œ DOUBLE è¿™ä¸¤ç§æ•°æ®ç±»å‹çš„åŒºåˆ«æ˜¯å•¥å‘¢ï¼Ÿ</p>
<p>FLOAT å ç”¨å­—èŠ‚æ•°å°‘ï¼Œå–å€¼èŒƒå›´å°ï¼›DOUBLE å ç”¨å­—èŠ‚æ•°å¤šï¼Œå–å€¼èŒƒå›´ä¹Ÿå¤§ã€‚</p>
<p><strong>é—®é¢˜2ï¼š</strong>ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°ç±»å‹çš„æ— ç¬¦å·æ•°å–å€¼èŒƒå›´ï¼Œåªç›¸å½“äºæœ‰ç¬¦å·æ•°å–å€¼èŒƒå›´çš„ä¸€åŠï¼Œä¹Ÿå°±æ˜¯åªç›¸å½“äºæœ‰ç¬¦å·æ•°å–å€¼èŒƒå›´å¤§äºç­‰äºé›¶çš„éƒ¨åˆ†å‘¢ï¼Ÿ </p>
<p>MySQL å­˜å‚¨æµ®ç‚¹æ•°çš„æ ¼å¼ä¸ºï¼š<code>ç¬¦å·(S)</code>ã€<code>å°¾æ•°(M)</code>å’Œ <code>é˜¶ç (E)</code>ã€‚å› æ­¤ï¼Œæ— è®ºæœ‰æ²¡æœ‰ç¬¦å·ï¼ŒMySQL çš„æµ®ç‚¹æ•°éƒ½ä¼šå­˜å‚¨è¡¨ç¤ºç¬¦å·çš„éƒ¨åˆ†ã€‚å› æ­¤ï¼Œ æ‰€è°“çš„æ— ç¬¦å·æ•°å–å€¼èŒƒå›´ï¼Œå…¶å®å°±æ˜¯æœ‰ç¬¦å·æ•°å–å€¼èŒƒå›´å¤§äºç­‰äºé›¶çš„éƒ¨åˆ†ã€‚</p>
<h3 id="æ•°æ®ç²¾åº¦è¯´æ˜"><a href="#æ•°æ®ç²¾åº¦è¯´æ˜" class="headerlink" title="æ•°æ®ç²¾åº¦è¯´æ˜"></a>æ•°æ®ç²¾åº¦è¯´æ˜</h3><p>å¯¹äºæµ®ç‚¹ç±»å‹ï¼Œåœ¨MySQLä¸­å•ç²¾åº¦å€¼ä½¿ç”¨<code>4</code>ä¸ªå­—èŠ‚ï¼ŒåŒç²¾åº¦å€¼ä½¿ç”¨<code>8</code>ä¸ªå­—èŠ‚ã€‚</p>
<ul>
<li><p>MySQLå…è®¸ä½¿ç”¨<code>éæ ‡å‡†è¯­æ³•</code>ï¼ˆå…¶ä»–æ•°æ®åº“æœªå¿…æ”¯æŒï¼Œå› æ­¤å¦‚æœæ¶‰åŠåˆ°æ•°æ®è¿ç§»ï¼Œåˆ™æœ€å¥½ä¸è¦è¿™ä¹ˆç”¨ï¼‰ï¼š</p>
</li>
<li><p><code>FLOAT(M,D)</code>æˆ–<code>DOUBLE(M,D)</code>ã€‚è¿™é‡Œï¼ŒMç§°ä¸º<code>ç²¾åº¦</code>ï¼ŒDç§°ä¸º<code>æ ‡åº¦</code>ã€‚(M,D)ä¸­ M=æ•´æ•°ä½+å°æ•°ä½ï¼ŒD=å°æ•°ä½ã€‚ D&lt;=M&lt;=255ï¼Œ0&lt;=D&lt;=30ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå®šä¹‰ä¸ºFLOAT(5,2)çš„ä¸€ä¸ªåˆ—å¯ä»¥æ˜¾ç¤ºä¸º-999.99-999.99ã€‚å¦‚æœè¶…è¿‡è¿™ä¸ªèŒƒå›´ä¼šæŠ¥é”™ã€‚</p>
</li>
</ul>
<ul>
<li>FLOATå’ŒDOUBLEç±»å‹åœ¨ä¸æŒ‡å®š(M,D)æ—¶ï¼Œé»˜è®¤ä¼šæŒ‰ç…§å®é™…çš„ç²¾åº¦ï¼ˆç”±å®é™…çš„ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†³å®šï¼‰æ¥æ˜¾ç¤ºã€‚</li>
<li>è¯´æ˜ï¼šæµ®ç‚¹ç±»å‹ï¼Œä¹Ÿå¯ä»¥åŠ <code>UNSIGNED</code>ï¼Œä½†æ˜¯ä¸ä¼šæ”¹å˜æ•°æ®èŒƒå›´ï¼Œä¾‹å¦‚ï¼šFLOAT(3,2) UNSIGNEDä»ç„¶åªèƒ½è¡¨ç¤º0-9.99çš„èŒƒå›´ã€‚</li>
</ul>
<ul>
<li><p>ä¸ç®¡æ˜¯å¦æ˜¾å¼è®¾ç½®äº†ç²¾åº¦(M,D)ï¼Œè¿™é‡ŒMySQLçš„å¤„ç†æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å¦‚æœå­˜å‚¨æ—¶ï¼Œæ•´æ•°éƒ¨åˆ†è¶…å‡ºäº†èŒƒå›´ï¼ŒMySQLå°±ä¼šæŠ¥é”™ï¼Œä¸å…è®¸å­˜è¿™æ ·çš„å€¼</p>
</li>
<li><p>å¦‚æœå­˜å‚¨æ—¶ï¼Œå°æ•°ç‚¹éƒ¨åˆ†è‹¥è¶…å‡ºèŒƒå›´ï¼Œå°±åˆ†ä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li>è‹¥å››èˆäº”å…¥åï¼Œæ•´æ•°éƒ¨åˆ†æ²¡æœ‰è¶…å‡ºèŒƒå›´ï¼Œåˆ™åªè­¦å‘Šï¼Œä½†èƒ½æˆåŠŸæ“ä½œå¹¶å››èˆäº”å…¥åˆ é™¤å¤šä½™çš„å°æ•°ä½åä¿å­˜ã€‚ä¾‹å¦‚åœ¨FLOAT(5,2)åˆ—å†…æ’å…¥999.009ï¼Œè¿‘ä¼¼ç»“æœæ˜¯999.01ã€‚</li>
<li>è‹¥å››èˆäº”å…¥åï¼Œæ•´æ•°éƒ¨åˆ†è¶…å‡ºèŒƒå›´ï¼Œåˆ™MySQLæŠ¥é”™ï¼Œå¹¶æ‹’ç»å¤„ç†ã€‚å¦‚FLOAT(5,2)åˆ—å†…æ’å…¥999.995å’Œ-999.995éƒ½ä¼šæŠ¥é”™ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ä»MySQL 8.0.17å¼€å§‹ï¼ŒFLOAT(M,D) å’ŒDOUBLE(M,D)ç”¨æ³•åœ¨å®˜æ–¹æ–‡æ¡£ä¸­å·²ç»æ˜ç¡®ä¸æ¨èä½¿ç”¨</strong>ï¼Œå°†æ¥å¯èƒ½è¢«ç§»é™¤ã€‚å¦å¤–ï¼Œå…³äºæµ®ç‚¹å‹FLOATå’ŒDOUBLEçš„UNSIGNEDä¹Ÿä¸æ¨èä½¿ç”¨äº†ï¼Œå°†æ¥ä¹Ÿå¯èƒ½è¢«ç§»é™¤ã€‚</p>
</li>
<li><p>ä¸¾ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_double1(</span><br><span class="line">f1 FLOAT,</span><br><span class="line">f2 FLOAT(5,2),</span><br><span class="line">f3 DOUBLE,</span><br><span class="line">f4 DOUBLE(5,2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DESC test_double1;</span><br><span class="line"></span><br><span class="line">INSERT INTO test_double1</span><br><span class="line">VALUES(123.456,123.456,123.4567,123.45);</span><br><span class="line"></span><br><span class="line">#Out of range value for column &#x27;f2&#x27; at row 1</span><br><span class="line">INSERT INTO test_double1</span><br><span class="line">VALUES(123.456,1234.456,123.4567,123.45); </span><br><span class="line"></span><br><span class="line">SELECT * FROM test_double1;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="ç²¾åº¦è¯¯å·®è¯´æ˜"><a href="#ç²¾åº¦è¯¯å·®è¯´æ˜" class="headerlink" title="ç²¾åº¦è¯¯å·®è¯´æ˜"></a>ç²¾åº¦è¯¯å·®è¯´æ˜</h3><p>æµ®ç‚¹æ•°ç±»å‹æœ‰ä¸ªç¼ºé™·ï¼Œå°±æ˜¯ä¸ç²¾å‡†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è®¾è®¡ä¸€ä¸ªè¡¨ï¼Œæœ‰f1è¿™ä¸ªå­—æ®µï¼Œæ’å…¥å€¼åˆ†åˆ«ä¸º0.47,0.44,0.19ï¼Œæˆ‘ä»¬æœŸå¾…çš„è¿è¡Œç»“æœæ˜¯ï¼š0.47 + 0.44 + 0.19 = 1.1ã€‚è€Œä½¿ç”¨sumä¹‹åæŸ¥è¯¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_double2(</span><br><span class="line">f1 DOUBLE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_double2</span><br><span class="line">VALUES(0.47),(0.44),(0.19);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT SUM(f1)</span><br><span class="line">    -&gt; FROM test_double2;</span><br><span class="line">+--------------------+</span><br><span class="line">| SUM(f1)            |</span><br><span class="line">+--------------------+</span><br><span class="line">| 1.0999999999999999 |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT SUM(f1) = 1.1,1.1 = 1.1</span><br><span class="line">    -&gt; FROM test_double2;</span><br><span class="line">+---------------+-----------+</span><br><span class="line">| SUM(f1) = 1.1 | 1.1 = 1.1 |</span><br><span class="line">+---------------+-----------+</span><br><span class="line">|             0 |         1 |</span><br><span class="line">+---------------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ç»“æœæ˜¯ 1.0999999999999999ã€‚çœ‹åˆ°äº†å—ï¼Ÿè™½ç„¶è¯¯å·®å¾ˆå°ï¼Œä½†ç¡®å®æœ‰è¯¯å·®ã€‚ ä½ ä¹Ÿå¯ä»¥å°è¯•æŠŠæ•°æ®ç±»å‹æ”¹æˆ FLOATï¼Œç„¶åè¿è¡Œæ±‚å’ŒæŸ¥è¯¢ï¼Œå¾—åˆ°çš„æ˜¯ï¼Œ 1.0999999940395355ã€‚æ˜¾ç„¶ï¼Œè¯¯å·®æ›´å¤§äº†ã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå­˜åœ¨è¿™æ ·çš„è¯¯å·®å‘¢ï¼Ÿé—®é¢˜è¿˜æ˜¯å‡ºåœ¨ MySQL å¯¹æµ®ç‚¹ç±»å‹æ•°æ®çš„å­˜å‚¨æ–¹å¼ä¸Šã€‚ </p>
<p>MySQL ç”¨ 4 ä¸ªå­—èŠ‚å­˜å‚¨ FLOAT ç±»å‹æ•°æ®ï¼Œç”¨ 8 ä¸ªå­—èŠ‚æ¥å­˜å‚¨ DOUBLE ç±»å‹æ•°æ®ã€‚æ— è®ºå“ªä¸ªï¼Œéƒ½æ˜¯é‡‡ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼æ¥è¿›è¡Œå­˜å‚¨çš„ã€‚æ¯”å¦‚ 9.625ï¼Œç”¨äºŒè¿›åˆ¶æ¥è¡¨è¾¾ï¼Œå°±æ˜¯ 1001.101ï¼Œæˆ–è€…è¡¨è¾¾æˆ 1.001101Ã—2^3ã€‚å¦‚æœå°¾æ•°ä¸æ˜¯ 0 æˆ– 5ï¼ˆæ¯”å¦‚ 9.624ï¼‰ï¼Œä½ å°±æ— æ³•ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ¥ç²¾ç¡®è¡¨è¾¾ã€‚è¿›è€Œï¼Œå°±åªå¥½åœ¨å–å€¼å…è®¸çš„èŒƒå›´å†…è¿›è¡Œå››èˆäº”å…¥ã€‚ </p>
<p><strong>å› ä¸ºæµ®ç‚¹æ•°æ˜¯ä¸å‡†ç¡®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é¿å…ä½¿ç”¨â€œ=â€æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ã€‚</strong>åŒæ—¶ï¼Œåœ¨ä¸€äº›å¯¹ç²¾ç¡®åº¦è¦æ±‚è¾ƒé«˜çš„é¡¹ç›®ä¸­ï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨æµ®ç‚¹æ•°ï¼Œä¸ç„¶ä¼šå¯¼è‡´ç»“æœé”™è¯¯ï¼Œç”šè‡³æ˜¯é€ æˆä¸å¯æŒ½å›çš„æŸå¤±ã€‚é‚£ä¹ˆï¼ŒMySQL æœ‰æ²¡æœ‰ç²¾å‡†çš„æ•°æ®ç±»å‹å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Œè¿™å°±æ˜¯å®šç‚¹æ•°ç±»å‹ï¼š<code>DECIMAL</code>ã€‚</p>
<h3 id="å®šç‚¹æ•°ç±»å‹"><a href="#å®šç‚¹æ•°ç±»å‹" class="headerlink" title="å®šç‚¹æ•°ç±»å‹"></a>å®šç‚¹æ•°ç±»å‹</h3><ul>
<li><p>MySQLä¸­çš„å®šç‚¹æ•°ç±»å‹åªæœ‰ DECIMAL ä¸€ç§ç±»å‹ã€‚</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å­—èŠ‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>DECIMAL(M,D),DEC,NUMERIC</td>
<td>M+2å­—èŠ‚</td>
<td>æœ‰æ•ˆèŒƒå›´ç”±Må’ŒDå†³å®š</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨ DECIMAL(M,D) çš„æ–¹å¼è¡¨ç¤ºé«˜ç²¾åº¦å°æ•°ã€‚</p>
<p>å…¶ä¸­ï¼ŒMè¢«ç§°ä¸ºç²¾åº¦ï¼ŒDè¢«ç§°ä¸ºæ ‡åº¦ã€‚0&lt;=M&lt;=65ï¼Œ0&lt;=D&lt;=30ï¼ŒD&lt;Mã€‚</p>
<p>ä¾‹å¦‚ï¼Œå®šä¹‰DECIMALï¼ˆ5,2ï¼‰çš„ç±»å‹ï¼Œè¡¨ç¤ºè¯¥åˆ—å–å€¼èŒƒå›´æ˜¯-999.99~999.99ã€‚</p>
</li>
<li><p><strong>DECIMAL(M,D)çš„æœ€å¤§å–å€¼èŒƒå›´ä¸DOUBLEç±»å‹ä¸€æ ·</strong>ï¼Œä½†æ˜¯æœ‰æ•ˆçš„æ•°æ®èŒƒå›´æ˜¯ç”±Må’ŒDå†³å®šçš„ã€‚DECIMAL çš„å­˜å‚¨ç©ºé—´å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œç”±ç²¾åº¦å€¼Må†³å®šï¼Œæ€»å…±å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸ºM+2ä¸ªå­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€äº›å¯¹ç²¾åº¦è¦æ±‚ä¸é«˜çš„åœºæ™¯ä¸‹ï¼Œæ¯”èµ·å ç”¨åŒæ ·å­—èŠ‚é•¿åº¦çš„å®šç‚¹æ•°ï¼Œæµ®ç‚¹æ•°è¡¨è¾¾çš„æ•°å€¼èŒƒå›´å¯ä»¥æ›´å¤§ä¸€äº›ã€‚</p>
</li>
<li><p>å®šç‚¹æ•°åœ¨MySQLå†…éƒ¨æ˜¯ä»¥<strong>å­—ç¬¦ä¸²</strong>çš„å½¢å¼è¿›è¡Œå­˜å‚¨ï¼Œè¿™å°±å†³å®šäº†å®ƒä¸€å®šæ˜¯ç²¾å‡†çš„ã€‚</p>
</li>
<li><p>å½“DECIMALç±»å‹ä¸æŒ‡å®šç²¾åº¦å’Œæ ‡åº¦æ—¶ï¼Œå…¶é»˜è®¤ä¸ºDECIMAL(10,0)ã€‚å½“æ•°æ®çš„ç²¾åº¦è¶…å‡ºäº†å®šç‚¹æ•°ç±»å‹çš„ç²¾åº¦èŒƒå›´æ—¶ï¼Œåˆ™MySQLåŒæ ·ä¼šè¿›è¡Œå››èˆäº”å…¥å¤„ç†ã€‚</p>
</li>
<li><p><strong>æµ®ç‚¹æ•° vs å®šç‚¹æ•°</strong></p>
<ul>
<li>æµ®ç‚¹æ•°ç›¸å¯¹äºå®šç‚¹æ•°çš„ä¼˜ç‚¹æ˜¯åœ¨é•¿åº¦ä¸€å®šçš„æƒ…å†µä¸‹ï¼Œæµ®ç‚¹ç±»å‹å–å€¼èŒƒå›´å¤§ï¼Œä½†æ˜¯ä¸ç²¾å‡†ï¼Œé€‚ç”¨äºéœ€è¦å–å€¼èŒƒå›´å¤§ï¼Œåˆå¯ä»¥å®¹å¿å¾®å°è¯¯å·®çš„ç§‘å­¦è®¡ç®—åœºæ™¯ï¼ˆæ¯”å¦‚è®¡ç®—åŒ–å­¦ã€åˆ†å­å»ºæ¨¡ã€æµä½“åŠ¨åŠ›å­¦ç­‰ï¼‰</li>
<li>å®šç‚¹æ•°ç±»å‹å–å€¼èŒƒå›´ç›¸å¯¹å°ï¼Œä½†æ˜¯ç²¾å‡†ï¼Œæ²¡æœ‰è¯¯å·®ï¼Œé€‚åˆäºå¯¹ç²¾åº¦è¦æ±‚æé«˜çš„åœºæ™¯ ï¼ˆæ¯”å¦‚æ¶‰åŠé‡‘é¢è®¡ç®—çš„åœºæ™¯ï¼‰</li>
</ul>
</li>
<li><p>ä¸¾ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_decimal1(</span><br><span class="line">f1 DECIMAL,</span><br><span class="line">f2 DECIMAL(5,2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DESC test_decimal1;</span><br><span class="line"></span><br><span class="line">INSERT INTO test_decimal1(f1,f2)</span><br><span class="line">VALUES(123.123,123.456);</span><br><span class="line"></span><br><span class="line">#Out of range value for column &#x27;f2&#x27; at row 1</span><br><span class="line">INSERT INTO test_decimal1(f2)</span><br><span class="line">VALUES(1234.34);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM test_decimal1;</span><br><span class="line">+------+--------+</span><br><span class="line">| f1   | f2     |</span><br><span class="line">+------+--------+</span><br><span class="line">|  123 | 123.46 |</span><br><span class="line">+------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="æ—¥æœŸä¸æ—¶é—´ç±»å‹"><a href="#æ—¥æœŸä¸æ—¶é—´ç±»å‹" class="headerlink" title="æ—¥æœŸä¸æ—¶é—´ç±»å‹"></a>æ—¥æœŸä¸æ—¶é—´ç±»å‹</h2><p>MySQLæœ‰å¤šç§è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„æ•°æ®ç±»å‹ï¼Œä¸åŒçš„ç‰ˆæœ¬å¯èƒ½æœ‰æ‰€å·®å¼‚ï¼ŒMySQL8.0ç‰ˆæœ¬æ”¯æŒçš„æ—¥æœŸå’Œæ—¶é—´ç±»å‹ä¸»è¦æœ‰ï¼šYEARç±»å‹ã€TIMEç±»å‹ã€DATEç±»å‹ã€DATETIMEç±»å‹å’ŒTIMESTAMPç±»å‹ã€‚</p>
<ul>
<li><code>YEAR</code>ç±»å‹é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¹´</li>
<li><code>DATE</code>ç±»å‹é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¹´ã€æœˆã€æ—¥</li>
<li><code>TIME</code>ç±»å‹é€šå¸¸ç”¨æ¥è¡¨ç¤ºæ—¶ã€åˆ†ã€ç§’</li>
<li><code>DATETIME</code>ç±»å‹é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’</li>
<li><code>TIMESTAMP</code>ç±»å‹é€šå¸¸ç”¨æ¥è¡¨ç¤ºå¸¦æ—¶åŒºçš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’</li>
</ul>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>åç§°</th>
<th>å­—èŠ‚</th>
<th>æ—¥æœŸæ ¼å¼</th>
<th>æœ€å°å€¼</th>
<th>æœ€å¤§å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>YEAR</td>
<td>å¹´</td>
<td>1</td>
<td>YYYYæˆ–YY</td>
<td>1901</td>
<td>2155</td>
</tr>
<tr>
<td>TIME</td>
<td>æ—¶é—´</td>
<td>3</td>
<td>HH:MM:SS</td>
<td>-838:59:59</td>
<td>838:59:59</td>
</tr>
<tr>
<td>DATE</td>
<td>æ—¥æœŸ</td>
<td>3</td>
<td>YYYY-MM-DD</td>
<td>1000-01-01</td>
<td>9999-12-03</td>
</tr>
<tr>
<td>DATETIME</td>
<td>æ—¥æœŸæ—¶é—´</td>
<td>8</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>1000-01-01 00:00:00</td>
<td>9999-12-31 23:59:59</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>æ—¥æœŸæ—¶é—´</td>
<td>4</td>
<td>YYYY-MM-DD HH:MM:SS</td>
<td>1970-01-01 00:00:00 UTC</td>
<td>2038-01-19 03:14:07UTC</td>
</tr>
</tbody></table>
<p>ä¸ºä»€ä¹ˆæ—¶é—´ç±»å‹ TIME çš„å–å€¼èŒƒå›´ä¸æ˜¯ -23:59:59ï½23:59:59 å‘¢ï¼ŸåŸå› æ˜¯ MySQL è®¾è®¡çš„ TIME ç±»å‹ï¼Œä¸å…‰è¡¨ç¤ºä¸€å¤©ä¹‹å†…çš„æ—¶é—´ï¼Œè€Œä¸”å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªæ—¶é—´é—´éš”ï¼Œè¿™ä¸ªæ—¶é—´é—´éš”å¯ä»¥è¶…è¿‡ 24 å°æ—¶ã€‚</p>
<h3 id="YEARç±»å‹"><a href="#YEARç±»å‹" class="headerlink" title="YEARç±»å‹"></a>YEARç±»å‹</h3><p>YEARç±»å‹ç”¨æ¥è¡¨ç¤ºå¹´ä»½ï¼Œåœ¨æ‰€æœ‰çš„æ—¥æœŸæ—¶é—´ç±»å‹ä¸­æ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´æœ€å°ï¼Œåªéœ€è¦<code>1ä¸ªå­—èŠ‚</code>çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p>åœ¨MySQLä¸­ï¼ŒYEARæœ‰ä»¥ä¸‹å‡ ç§å­˜å‚¨æ ¼å¼ï¼š</p>
<ul>
<li>ä»¥4ä½å­—ç¬¦ä¸²æˆ–æ•°å­—æ ¼å¼è¡¨ç¤ºYEARç±»å‹ï¼Œå…¶æ ¼å¼ä¸ºYYYYï¼Œæœ€å°å€¼ä¸º1901ï¼Œæœ€å¤§å€¼ä¸º2155ã€‚</li>
<li>ä»¥2ä½å­—ç¬¦ä¸²æ ¼å¼è¡¨ç¤ºYEARç±»å‹ï¼Œæœ€å°å€¼ä¸º00ï¼Œæœ€å¤§å€¼ä¸º99ã€‚<ul>
<li>å½“å–å€¼ä¸º01åˆ°69æ—¶ï¼Œè¡¨ç¤º2001åˆ°2069ï¼›</li>
<li>å½“å–å€¼ä¸º70åˆ°99æ—¶ï¼Œè¡¨ç¤º1970åˆ°1999ï¼›</li>
<li>å½“å–å€¼æ•´æ•°çš„0æˆ–00æ·»åŠ çš„è¯ï¼Œé‚£ä¹ˆæ˜¯0000å¹´ï¼›</li>
<li>å½“å–å€¼æ˜¯æ—¥æœŸ/å­—ç¬¦ä¸²çš„â€™0â€™æ·»åŠ çš„è¯ï¼Œæ˜¯2000å¹´ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä»MySQL5.5.27å¼€å§‹ï¼Œ2ä½æ ¼å¼çš„YEARå·²ç»ä¸æ¨èä½¿ç”¨</strong>ã€‚YEARé»˜è®¤æ ¼å¼å°±æ˜¯â€œYYYYâ€ï¼Œæ²¡å¿…è¦å†™æˆYEAR(4)ï¼Œä»MySQL 8.0.19å¼€å§‹ï¼Œä¸æ¨èä½¿ç”¨æŒ‡å®šæ˜¾ç¤ºå®½åº¦çš„YEAR(4)æ•°æ®ç±»å‹ã€‚</p>
<h3 id="DATEç±»å‹"><a href="#DATEç±»å‹" class="headerlink" title="DATEç±»å‹"></a>DATEç±»å‹</h3><p>DATEç±»å‹è¡¨ç¤ºæ—¥æœŸï¼Œæ²¡æœ‰æ—¶é—´éƒ¨åˆ†ï¼Œæ ¼å¼ä¸º<code>YYYY-MM-DD</code></p>
<p>å…¶ä¸­ï¼ŒYYYYè¡¨ç¤ºå¹´ä»½ï¼ŒMMè¡¨ç¤ºæœˆä»½ï¼ŒDDè¡¨ç¤ºæ—¥æœŸã€‚éœ€è¦<code>3ä¸ªå­—èŠ‚</code>çš„å­˜å‚¨ç©ºé—´ã€‚åœ¨å‘DATEç±»å‹çš„å­—æ®µæ’å…¥æ•°æ®æ—¶ï¼ŒåŒæ ·éœ€è¦æ»¡è¶³ä¸€å®šçš„æ ¼å¼æ¡ä»¶ã€‚</p>
<ul>
<li>ä»¥<code>YYYY-MM-DD</code>æ ¼å¼æˆ–è€…<code>YYYYMMDD</code>æ ¼å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²æ—¥æœŸï¼Œå…¶æœ€å°å–å€¼ä¸º1000-01-01ï¼Œæœ€å¤§å–å€¼ä¸º9999-12-03ã€‚YYYYMMDDæ ¼å¼ä¼šè¢«è½¬åŒ–ä¸ºYYYY-MM-DDæ ¼å¼ã€‚</li>
<li>ä»¥<code>YY-MM-DD</code>æ ¼å¼æˆ–è€…<code>YYMMDD</code>æ ¼å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²æ—¥æœŸï¼Œæ­¤æ ¼å¼ä¸­ï¼Œå¹´ä»½ä¸ºä¸¤ä½æ•°å€¼æˆ–å­—ç¬¦ä¸²æ»¡è¶³YEARç±»å‹çš„æ ¼å¼æ¡ä»¶ä¸ºï¼šå½“å¹´ä»½å–å€¼ä¸º00åˆ°69æ—¶ï¼Œä¼šè¢«è½¬åŒ–ä¸º2000åˆ°2069ï¼›å½“å¹´ä»½å–å€¼ä¸º70åˆ°99æ—¶ï¼Œä¼šè¢«è½¬åŒ–ä¸º1970åˆ°1999ã€‚</li>
<li>ä½¿ç”¨<code>CURRENT_DATE()</code>æˆ–è€…<code>NOW()</code>å‡½æ•°ï¼Œä¼šæ’å…¥å½“å‰ç³»ç»Ÿçš„æ—¥æœŸã€‚</li>
</ul>
<h3 id="TIMEç±»å‹"><a href="#TIMEç±»å‹" class="headerlink" title="TIMEç±»å‹"></a>TIMEç±»å‹</h3><p>TIMEç±»å‹ç”¨æ¥è¡¨ç¤ºæ—¶é—´ï¼Œä¸åŒ…å«æ—¥æœŸéƒ¨åˆ†ã€‚åœ¨MySQLä¸­ï¼Œéœ€è¦<code>3ä¸ªå­—èŠ‚</code>çš„å­˜å‚¨ç©ºé—´æ¥å­˜å‚¨TIMEç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨â€œHH:MM:SSâ€æ ¼å¼æ¥è¡¨ç¤ºTIMEç±»å‹ï¼Œå…¶ä¸­ï¼ŒHHè¡¨ç¤ºå°æ—¶ï¼ŒMMè¡¨ç¤ºåˆ†é’Ÿï¼ŒSSè¡¨ç¤ºç§’ã€‚</p>
<p>åœ¨MySQLä¸­ï¼Œå‘TIMEç±»å‹çš„å­—æ®µæ’å…¥æ•°æ®æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‡ ç§ä¸åŒçš„æ ¼å¼ã€‚<br>ï¼ˆ1ï¼‰å¯ä»¥ä½¿ç”¨å¸¦æœ‰å†’å·çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚â€™<code>D HH:MM:SS&#39;</code>ã€â€™<code>HH:MM:SS</code>â€˜ã€â€™<code>HH:MM</code>â€˜ã€â€™<code>D HH:MM</code>â€˜ã€â€™<code>D HH</code>â€˜æˆ–â€™<code>SS</code>â€˜æ ¼å¼ï¼Œéƒ½èƒ½è¢«æ­£ç¡®åœ°æ’å…¥TIMEç±»å‹çš„å­—æ®µä¸­ã€‚å…¶ä¸­Dè¡¨ç¤ºå¤©ï¼Œå…¶æœ€å°å€¼ä¸º0ï¼Œæœ€å¤§å€¼ä¸º34ã€‚å¦‚æœä½¿ç”¨å¸¦æœ‰Dæ ¼å¼çš„å­—ç¬¦ä¸²æ’å…¥TIMEç±»å‹çš„å­—æ®µæ—¶ï¼ŒDä¼šè¢«è½¬åŒ–ä¸ºå°æ—¶ï¼Œè®¡ç®—æ ¼å¼ä¸ºD*24+HHã€‚å½“ä½¿ç”¨å¸¦æœ‰å†’å·å¹¶ä¸”ä¸å¸¦Dçš„å­—ç¬¦ä¸²è¡¨ç¤ºæ—¶é—´æ—¶ï¼Œè¡¨ç¤ºå½“å¤©çš„æ—¶é—´ï¼Œæ¯”å¦‚12:10è¡¨ç¤º12:10:00ï¼Œè€Œä¸æ˜¯00:12:10ã€‚<br>ï¼ˆ2ï¼‰å¯ä»¥ä½¿ç”¨ä¸å¸¦æœ‰å†’å·çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œæ ¼å¼ä¸ºâ€™<code>HHMMSS</code>â€˜æˆ–è€…<code>HHMMSS</code>ã€‚å¦‚æœæ’å…¥ä¸€ä¸ªä¸åˆæ³•çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼ŒMySQLåœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œä¼šå°†å…¶è‡ªåŠ¨è½¬åŒ–ä¸º00:00:00è¿›è¡Œå­˜å‚¨ã€‚æ¯”å¦‚1210ï¼ŒMySQLä¼šå°†æœ€å³è¾¹çš„ä¸¤ä½è§£ææˆç§’ï¼Œè¡¨ç¤º00:12:10ï¼Œè€Œä¸æ˜¯12:10:00ã€‚<br>ï¼ˆ3ï¼‰ä½¿ç”¨<code>CURRENT_TIME()</code>æˆ–è€…<code>NOW()</code>ï¼Œä¼šæ’å…¥å½“å‰ç³»ç»Ÿçš„æ—¶é—´ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<p>åˆ›å»ºæ•°æ®è¡¨ï¼Œè¡¨ä¸­åŒ…å«ä¸€ä¸ªTIMEç±»å‹çš„å­—æ®µf1ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_time1(</span><br><span class="line">f1 TIME</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test_time1</span><br><span class="line">VALUES(&#x27;2 12:30:29&#x27;), (&#x27;12:35:29&#x27;), (&#x27;12:40&#x27;), (&#x27;2 12:40&#x27;),(&#x27;1 05&#x27;), (&#x27;45&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_time1</span><br><span class="line">VALUES (&#x27;123520&#x27;), (124011),(1210);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_time1</span><br><span class="line">VALUES (NOW()), (CURRENT_TIME());</span><br><span class="line"></span><br><span class="line">SELECT * FROM test_time1;</span><br></pre></td></tr></table></figure>

<h3 id="DATETIMEç±»å‹"><a href="#DATETIMEç±»å‹" class="headerlink" title="DATETIMEç±»å‹"></a>DATETIMEç±»å‹</h3><p>DATETIMEç±»å‹åœ¨æ‰€æœ‰çš„æ—¥æœŸæ—¶é—´ç±»å‹ä¸­å ç”¨çš„å­˜å‚¨ç©ºé—´æœ€å¤§ï¼Œæ€»å…±éœ€è¦<code>8</code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚åœ¨æ ¼å¼ä¸Šä¸ºDATEç±»å‹å’ŒTIMEç±»å‹çš„ç»„åˆï¼Œå¯ä»¥è¡¨ç¤ºä¸º<code>YYYY-MM-DD HH:MM:SS</code>ï¼Œå…¶ä¸­YYYYè¡¨ç¤ºå¹´ä»½ï¼ŒMMè¡¨ç¤ºæœˆä»½ï¼ŒDDè¡¨ç¤ºæ—¥æœŸï¼ŒHHè¡¨ç¤ºå°æ—¶ï¼ŒMMè¡¨ç¤ºåˆ†é’Ÿï¼ŒSSè¡¨ç¤ºç§’ã€‚</p>
<p>åœ¨å‘DATETIMEç±»å‹çš„å­—æ®µæ’å…¥æ•°æ®æ—¶ï¼ŒåŒæ ·éœ€è¦æ»¡è¶³ä¸€å®šçš„æ ¼å¼æ¡ä»¶ã€‚</p>
<ul>
<li>ä»¥<code>YYYY-MM-DD HH:MM:SS</code>æ ¼å¼æˆ–è€…<code>YYYYMMDDHHMMSS</code>æ ¼å¼çš„å­—ç¬¦ä¸²æ’å…¥DATETIMEç±»å‹çš„å­—æ®µæ—¶ï¼Œæœ€å°å€¼ä¸º1000-01-01 00:00:00ï¼Œæœ€å¤§å€¼ä¸º9999-12-03 23:59:59ã€‚<ul>
<li>ä»¥YYYYMMDDHHMMSSæ ¼å¼çš„æ•°å­—æ’å…¥DATETIMEç±»å‹çš„å­—æ®µæ—¶ï¼Œä¼šè¢«è½¬åŒ–ä¸ºYYYY-MM-DD HH:MM:SSæ ¼å¼ã€‚</li>
</ul>
</li>
<li>ä»¥<code>YY-MM-DD HH:MM:SS</code>æ ¼å¼æˆ–è€…<code>YYMMDDHHMMSS</code>æ ¼å¼çš„å­—ç¬¦ä¸²æ’å…¥DATETIMEç±»å‹çš„å­—æ®µæ—¶ï¼Œä¸¤ä½æ•°çš„å¹´ä»½è§„åˆ™ç¬¦åˆYEARç±»å‹çš„è§„åˆ™ï¼Œ00åˆ°69è¡¨ç¤º2000åˆ°2069ï¼›70åˆ°99è¡¨ç¤º1970åˆ°1999ã€‚</li>
<li>ä½¿ç”¨å‡½æ•°<code>CURRENT_TIMESTAMP()</code>å’Œ<code>NOW()</code>ï¼Œå¯ä»¥å‘DATETIMEç±»å‹çš„å­—æ®µæ’å…¥ç³»ç»Ÿçš„å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<p>åˆ›å»ºæ•°æ®è¡¨ï¼Œè¡¨ä¸­åŒ…å«ä¸€ä¸ªDATETIMEç±»å‹çš„å­—æ®µdtã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_datetime1(</span><br><span class="line">dt DATETIME</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test_datetime1</span><br><span class="line">VALUES (&#x27;2021-01-01 06:50:30&#x27;), (&#x27;20210101065030&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_datetime1</span><br><span class="line">VALUES (&#x27;99-01-01 00:00:00&#x27;), (&#x27;990101000000&#x27;), (&#x27;20-01-01 00:00:00&#x27;), (&#x27;200101000000&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_datetime1</span><br><span class="line">VALUES (20200101000000), (200101000000), (19990101000000), (990101000000);</span><br><span class="line"> </span><br><span class="line">INSERT INTO test_datetime1</span><br><span class="line">VALUES (CURRENT_TIMESTAMP()), (NOW());</span><br></pre></td></tr></table></figure>

<h3 id="TIMESTAMPç±»å‹"><a href="#TIMESTAMPç±»å‹" class="headerlink" title="TIMESTAMPç±»å‹"></a>TIMESTAMPç±»å‹</h3><p>TIMESTAMPç±»å‹ä¹Ÿå¯ä»¥è¡¨ç¤ºæ—¥æœŸæ—¶é—´ï¼Œå…¶æ˜¾ç¤ºæ ¼å¼ä¸DATETIMEç±»å‹ç›¸åŒï¼Œéƒ½æ˜¯<code>YYYY-MM-DD HH:MM:SS</code>ï¼Œéœ€è¦4ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚ä½†æ˜¯TIMESTAMPå­˜å‚¨çš„æ—¶é—´èŒƒå›´æ¯”DATETIMEè¦å°å¾ˆå¤šï¼Œåªèƒ½å­˜å‚¨â€œ1970-01-01 00:00:01 UTCâ€åˆ°â€œ2038-01-19 03:14:07 UTCâ€ä¹‹é—´çš„æ—¶é—´ã€‚å…¶ä¸­ï¼ŒUTCè¡¨ç¤ºä¸–ç•Œç»Ÿä¸€æ—¶é—´ï¼Œä¹Ÿå«ä½œä¸–ç•Œæ ‡å‡†æ—¶é—´ã€‚</p>
<ul>
<li><strong>å­˜å‚¨æ•°æ®çš„æ—¶å€™éœ€è¦å¯¹å½“å‰æ—¶é—´æ‰€åœ¨çš„æ—¶åŒºè¿›è¡Œè½¬æ¢ï¼ŒæŸ¥è¯¢æ•°æ®çš„æ—¶å€™å†å°†æ—¶é—´è½¬æ¢å›å½“å‰çš„æ—¶åŒºã€‚å› æ­¤ï¼Œä½¿ç”¨TIMESTAMPå­˜å‚¨çš„åŒä¸€ä¸ªæ—¶é—´å€¼ï¼Œåœ¨ä¸åŒçš„æ—¶åŒºæŸ¥è¯¢æ—¶ä¼šæ˜¾ç¤ºä¸åŒçš„æ—¶é—´ã€‚</strong></li>
</ul>
<p>å‘TIMESTAMPç±»å‹çš„å­—æ®µæ’å…¥æ•°æ®æ—¶ï¼Œå½“æ’å…¥çš„æ•°æ®æ ¼å¼æ»¡è¶³YY-MM-DD HH:MM:SSå’ŒYYMMDDHHMMSSæ—¶ï¼Œä¸¤ä½æ•°å€¼çš„å¹´ä»½åŒæ ·ç¬¦åˆYEARç±»å‹çš„è§„åˆ™æ¡ä»¶ï¼Œåªä¸è¿‡è¡¨ç¤ºçš„æ—¶é—´èŒƒå›´è¦å°å¾ˆå¤šã€‚</p>
<p>å¦‚æœå‘TIMESTAMPç±»å‹çš„å­—æ®µæ’å…¥çš„æ—¶é—´è¶…å‡ºäº†TIMESTAMPç±»å‹çš„èŒƒå›´ï¼Œåˆ™MySQLä¼šæŠ›å‡ºé”™è¯¯ä¿¡æ¯ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<p>åˆ›å»ºæ•°æ®è¡¨ï¼Œè¡¨ä¸­åŒ…å«ä¸€ä¸ªTIMESTAMPç±»å‹çš„å­—æ®µtsã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_timestamp1(</span><br><span class="line">ts TIMESTAMP</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test_timestamp1</span><br><span class="line">VALUES (&#x27;1999-01-01 03:04:50&#x27;), (&#x27;19990101030405&#x27;), (&#x27;99-01-01 03:04:05&#x27;), (&#x27;990101030405&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_timestamp1</span><br><span class="line">VALUES (&#x27;2020@01@01@00@00@00&#x27;), (&#x27;20@01@01@00@00@00&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_timestamp1</span><br><span class="line">VALUES (CURRENT_TIMESTAMP()), (NOW());</span><br><span class="line"></span><br><span class="line">#Incorrect datetime value</span><br><span class="line">INSERT INTO test_timestamp1</span><br><span class="line">VALUES (&#x27;2038-01-20 03:14:07&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>TIMESTAMPå’ŒDATETIMEçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><p>TIMESTAMPå­˜å‚¨ç©ºé—´æ¯”è¾ƒå°ï¼Œè¡¨ç¤ºçš„æ—¥æœŸæ—¶é—´èŒƒå›´ä¹Ÿæ¯”è¾ƒå°</p>
</li>
<li><p>åº•å±‚å­˜å‚¨æ–¹å¼ä¸åŒï¼ŒTIMESTAMPåº•å±‚å­˜å‚¨çš„æ˜¯æ¯«ç§’å€¼ï¼Œè·ç¦»1970-1-1 0:0:0 0æ¯«ç§’çš„æ¯«ç§’å€¼ã€‚</p>
</li>
<li><p>ä¸¤ä¸ªæ—¥æœŸæ¯”è¾ƒå¤§å°æˆ–æ—¥æœŸè®¡ç®—æ—¶ï¼ŒTIMESTAMPæ›´æ–¹ä¾¿ã€æ›´å¿«ã€‚</p>
</li>
<li><p>TIMESTAMPå’Œæ—¶åŒºæœ‰å…³ã€‚TIMESTAMPä¼šæ ¹æ®ç”¨æˆ·çš„æ—¶åŒºä¸åŒï¼Œæ˜¾ç¤ºä¸åŒçš„ç»“æœã€‚è€ŒDATETIMEåˆ™åªèƒ½åæ˜ å‡ºæ’å…¥æ—¶å½“åœ°çš„æ—¶åŒºï¼Œå…¶ä»–æ—¶åŒºçš„äººæŸ¥çœ‹æ•°æ®å¿…ç„¶ä¼šæœ‰è¯¯å·®çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE temp_time(</span><br><span class="line">d1 DATETIME,</span><br><span class="line">d2 TIMESTAMP</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO temp_time VALUES(&#x27;2021-9-2 14:45:52&#x27;,&#x27;2021-9-2 14:45:52&#x27;);</span><br><span class="line"></span><br><span class="line">INSERT INTO temp_time VALUES(NOW(),NOW());</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM temp_time;</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">| d1                  | d2                  |</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">| 2021-09-02 14:45:52 | 2021-09-02 14:45:52 |</span><br><span class="line">| 2021-11-03 17:38:17 | 2021-11-03 17:38:17 |</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ä¿®æ”¹å½“å‰çš„æ—¶åŒº</span><br><span class="line">SET time_zone = &#x27;+9:00&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM temp_time;</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">| d1                  | d2                  |</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">| 2021-09-02 14:45:52 | 2021-09-02 15:45:52 |</span><br><span class="line">| 2021-11-03 17:38:17 | 2021-11-03 18:38:17 |</span><br><span class="line">+---------------------+---------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹"><a href="#æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹"></a>æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹</h2><p>åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¿˜ç»å¸¸é‡åˆ°ä¸€ç§æ•°æ®ï¼Œå°±æ˜¯å­—ç¬¦ä¸²æ•°æ®ã€‚</p>
<p>MySQLä¸­ï¼Œæ–‡æœ¬å­—ç¬¦ä¸²æ€»ä½“ä¸Šåˆ†ä¸º<code>CHAR</code>ã€<code>VARCHAR</code>ã€<code>TINYTEXT</code>ã€<code>TEXT</code>ã€<code>MEDIUMTEXT</code>ã€<code>LONGTEXT</code>ã€<code>ENUM</code>ã€<code>SET</code>ç­‰ç±»å‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:/Desktop/mysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0/images/image-20211012003508730.png" alt="image-20211012003508730"></p>
<h3 id="CHARä¸VARCHARç±»å‹"><a href="#CHARä¸VARCHARç±»å‹" class="headerlink" title="CHARä¸VARCHARç±»å‹"></a>CHARä¸VARCHARç±»å‹</h3><p>CHARå’ŒVARCHARç±»å‹éƒ½å¯ä»¥å­˜å‚¨æ¯”è¾ƒçŸ­çš„å­—ç¬¦ä¸²ã€‚</p>
<table>
<thead>
<tr>
<th>å­—ç¬¦ä¸²(æ–‡æœ¬)ç±»å‹</th>
<th>ç‰¹ç‚¹</th>
<th>é•¿åº¦</th>
<th>é•¿åº¦èŒƒå›´</th>
<th>å ç”¨çš„å­˜å‚¨ç©ºé—´</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR(M)</td>
<td>å›ºå®šé•¿åº¦</td>
<td>M</td>
<td>0 &lt;= M &lt;= 255</td>
<td>Mä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>VARCHAR(M)</td>
<td>å¯å˜é•¿åº¦</td>
<td>M</td>
<td>0 &lt;= M &lt;= 65535</td>
<td>(å®é™…é•¿åº¦ + 1) ä¸ªå­—èŠ‚</td>
</tr>
</tbody></table>
<p><strong>CHARç±»å‹ï¼š</strong></p>
<ul>
<li>CHAR(M) ç±»å‹ä¸€èˆ¬éœ€è¦é¢„å…ˆå®šä¹‰å­—ç¬¦ä¸²é•¿åº¦ã€‚å¦‚æœä¸æŒ‡å®š(M)ï¼Œåˆ™è¡¨ç¤ºé•¿åº¦é»˜è®¤æ˜¯1ä¸ªå­—ç¬¦ã€‚</li>
<li>å¦‚æœä¿å­˜æ—¶ï¼Œæ•°æ®çš„å®é™…é•¿åº¦æ¯”CHARç±»å‹å£°æ˜çš„é•¿åº¦å°ï¼Œåˆ™ä¼šåœ¨<code>å³ä¾§å¡«å……</code>ç©ºæ ¼ä»¥è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦ã€‚å½“MySQLæ£€ç´¢CHARç±»å‹çš„æ•°æ®æ—¶ï¼ŒCHARç±»å‹çš„å­—æ®µä¼šå»é™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚</li>
<li>å®šä¹‰CHARç±»å‹å­—æ®µæ—¶ï¼Œå£°æ˜çš„å­—æ®µé•¿åº¦å³ä¸ºCHARç±»å‹å­—æ®µæ‰€å çš„å­˜å‚¨ç©ºé—´çš„å­—èŠ‚æ•°ã€‚</li>
</ul>
<p><strong>VARCHARç±»å‹ï¼š</strong></p>
<ul>
<li>VARCHAR(M) å®šä¹‰æ—¶ï¼Œ<strong>å¿…é¡»æŒ‡å®šé•¿åº¦Mï¼Œå¦åˆ™æŠ¥é”™</strong>ã€‚</li>
<li>MySQL4.0ç‰ˆæœ¬ä»¥ä¸‹ï¼Œvarchar(20)ï¼šæŒ‡çš„æ˜¯20å­—èŠ‚ï¼Œå¦‚æœå­˜æ”¾UTF8æ±‰å­—æ—¶ï¼Œåªèƒ½å­˜6ä¸ªï¼ˆæ¯ä¸ªæ±‰å­—3å­—èŠ‚ï¼‰ ï¼›MySQL5.0ç‰ˆæœ¬ä»¥ä¸Šï¼Œvarchar(20)ï¼šæŒ‡çš„æ˜¯20å­—ç¬¦ã€‚</li>
<li>æ£€ç´¢VARCHARç±»å‹çš„å­—æ®µæ•°æ®æ—¶ï¼Œä¼šä¿ç•™æ•°æ®å°¾éƒ¨çš„ç©ºæ ¼ã€‚VARCHARç±»å‹çš„å­—æ®µæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸ºå­—ç¬¦ä¸²å®é™…é•¿åº¦åŠ 1ä¸ªå­—èŠ‚ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_varchar1(</span><br><span class="line">NAME VARCHAR  #é”™è¯¯</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Column length too big for column &#x27;NAME&#x27; (max = 21845);</span><br><span class="line">CREATE TABLE test_varchar2(</span><br><span class="line">NAME VARCHAR(65535)  #é”™è¯¯</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_varchar3(</span><br><span class="line">NAME VARCHAR(5)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO test_varchar3</span><br><span class="line">VALUES(&#x27;å°šç¡…è°·&#x27;),(&#x27;å°šç¡…è°·æ•™è‚²&#x27;);</span><br><span class="line"></span><br><span class="line">#Data too long for column &#x27;NAME&#x27; at row 1</span><br><span class="line">INSERT INTO test_varchar3</span><br><span class="line">VALUES(&#x27;å°šç¡…è°·ITæ•™è‚²&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>å“ªäº›æƒ…å†µä½¿ç”¨ CHAR æˆ– VARCHAR æ›´å¥½</strong></p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç‰¹ç‚¹</th>
<th>ç©ºé—´ä¸Š</th>
<th>æ—¶é—´ä¸Š</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td>CHAR(M)</td>
<td>å›ºå®šé•¿åº¦</td>
<td>æµªè´¹å­˜å‚¨ç©ºé—´</td>
<td>æ•ˆç‡é«˜</td>
<td>å­˜å‚¨ä¸å¤§ï¼Œé€Ÿåº¦è¦æ±‚é«˜</td>
</tr>
<tr>
<td>VARCHAR(M)</td>
<td>å¯å˜é•¿åº¦</td>
<td>èŠ‚çœå­˜å‚¨ç©ºé—´</td>
<td>æ•ˆç‡ä½</td>
<td>éCHARçš„æƒ…å†µ</td>
</tr>
</tbody></table>
<p>æƒ…å†µ1ï¼š</p>
<p>å­˜å‚¨å¾ˆçŸ­çš„ä¿¡æ¯ã€‚æ¯”å¦‚é—¨ç‰Œå·ç 101ï¼Œ201â€¦â€¦è¿™æ ·å¾ˆçŸ­çš„ä¿¡æ¯åº”è¯¥ç”¨charï¼Œå› ä¸ºvarcharè¿˜è¦å ä¸ªbyteç”¨äºå­˜å‚¨ä¿¡æ¯é•¿åº¦ï¼Œæœ¬æ¥æ‰“ç®—èŠ‚çº¦å­˜å‚¨çš„ï¼Œç»“æœå¾—ä¸å¿å¤±ã€‚</p>
<p>æƒ…å†µ2ï¼š</p>
<p>å›ºå®šé•¿åº¦çš„ã€‚æ¯”å¦‚ä½¿ç”¨uuidä½œä¸ºä¸»é”®ï¼Œé‚£ç”¨charåº”è¯¥æ›´åˆé€‚ã€‚å› ä¸ºä»–å›ºå®šé•¿åº¦ï¼ŒvarcharåŠ¨æ€æ ¹æ®é•¿åº¦çš„ç‰¹æ€§å°±æ¶ˆå¤±äº†ï¼Œè€Œä¸”è¿˜è¦å ä¸ªé•¿åº¦ä¿¡æ¯ã€‚</p>
<p>æƒ…å†µ3ï¼š</p>
<p>ååˆ†é¢‘ç¹æ”¹å˜çš„columnã€‚å› ä¸ºvarcharæ¯æ¬¡å­˜å‚¨éƒ½è¦æœ‰é¢å¤–çš„è®¡ç®—ï¼Œå¾—åˆ°é•¿åº¦ç­‰å·¥ä½œï¼Œå¦‚æœä¸€ä¸ªéå¸¸é¢‘ç¹æ”¹å˜çš„ï¼Œé‚£å°±è¦æœ‰å¾ˆå¤šçš„ç²¾åŠ›ç”¨äºè®¡ç®—ï¼Œè€Œè¿™äº›å¯¹äºcharæ¥è¯´æ˜¯ä¸éœ€è¦çš„ã€‚</p>
<p>æƒ…å†µ4ï¼š</p>
<p>å…·ä½“å­˜å‚¨å¼•æ“ä¸­çš„æƒ…å†µï¼š</p>
<ul>
<li><p><code>MyISAM</code> æ•°æ®å­˜å‚¨å¼•æ“å’Œæ•°æ®åˆ—ï¼šMyISAMæ•°æ®è¡¨ï¼Œæœ€å¥½ä½¿ç”¨å›ºå®šé•¿åº¦(CHAR)çš„æ•°æ®åˆ—ä»£æ›¿å¯å˜é•¿åº¦(VARCHAR)çš„æ•°æ®åˆ—ã€‚è¿™æ ·ä½¿å¾—æ•´ä¸ªè¡¨é™æ€åŒ–ï¼Œä»è€Œä½¿<code>æ•°æ®æ£€ç´¢æ›´å¿«</code>ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚</p>
</li>
<li><p><code>MEMORY</code> å­˜å‚¨å¼•æ“å’Œæ•°æ®åˆ—ï¼šMEMORYæ•°æ®è¡¨ç›®å‰éƒ½ä½¿ç”¨å›ºå®šé•¿åº¦çš„æ•°æ®è¡Œå­˜å‚¨ï¼Œå› æ­¤æ— è®ºä½¿ç”¨CHARæˆ–VARCHARåˆ—éƒ½æ²¡æœ‰å…³ç³»ï¼Œä¸¤è€…éƒ½æ˜¯ä½œä¸ºCHARç±»å‹å¤„ç†çš„ã€‚</p>
</li>
<li><p><code>InnoDB</code>å­˜å‚¨å¼•æ“ï¼Œå»ºè®®ä½¿ç”¨VARCHARç±»å‹ã€‚å› ä¸ºå¯¹äºInnoDBæ•°æ®è¡¨ï¼Œå†…éƒ¨çš„è¡Œå­˜å‚¨æ ¼å¼å¹¶æ²¡æœ‰åŒºåˆ†å›ºå®šé•¿åº¦å’Œå¯å˜é•¿åº¦åˆ—ï¼ˆæ‰€æœ‰æ•°æ®è¡Œéƒ½ä½¿ç”¨æŒ‡å‘æ•°æ®åˆ—å€¼çš„å¤´æŒ‡é’ˆï¼‰ï¼Œè€Œä¸”<strong>ä¸»è¦å½±å“æ€§èƒ½çš„å› ç´ æ˜¯æ•°æ®è¡Œä½¿ç”¨çš„å­˜å‚¨æ€»é‡</strong>ï¼Œç”±äºcharå¹³å‡å ç”¨çš„ç©ºé—´å¤šäºvarcharï¼Œæ‰€ä»¥é™¤äº†ç®€çŸ­å¹¶ä¸”å›ºå®šé•¿åº¦çš„ï¼Œå…¶ä»–è€ƒè™‘varcharã€‚è¿™æ ·èŠ‚çœç©ºé—´ï¼Œå¯¹ç£ç›˜I/Oå’Œæ•°æ®å­˜å‚¨æ€»é‡æ¯”è¾ƒå¥½ã€‚</p>
</li>
</ul>
<h3 id="TEXTç±»å‹"><a href="#TEXTç±»å‹" class="headerlink" title="TEXTç±»å‹"></a>TEXTç±»å‹</h3><p>åœ¨MySQLä¸­ï¼ŒTEXTç”¨æ¥ä¿å­˜æ–‡æœ¬ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œæ€»å…±åŒ…å«4ç§ç±»å‹ï¼Œåˆ†åˆ«ä¸ºTINYTEXTã€TEXTã€MEDIUMTEXT å’Œ LONGTEXT ç±»å‹ã€‚</p>
<p>åœ¨å‘TEXTç±»å‹çš„å­—æ®µä¿å­˜å’ŒæŸ¥è¯¢æ•°æ®æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æŒ‰ç…§å®é™…é•¿åº¦å­˜å‚¨ï¼Œä¸éœ€è¦é¢„å…ˆå®šä¹‰é•¿åº¦ã€‚è¿™ä¸€ç‚¹å’Œ VARCHARç±»å‹ç›¸åŒã€‚</p>
<p>æ¯ç§TEXTç±»å‹ä¿å­˜çš„æ•°æ®é•¿åº¦å’Œæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸åŒï¼Œå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹</th>
<th>ç‰¹ç‚¹</th>
<th>é•¿åº¦</th>
<th>é•¿åº¦èŒƒå›´</th>
<th>å ç”¨çš„å­˜å‚¨ç©ºé—´</th>
</tr>
</thead>
<tbody><tr>
<td>TINYTEXT</td>
<td>å°æ–‡æœ¬ã€å¯å˜é•¿åº¦</td>
<td>L</td>
<td>0 &lt;= L &lt;= 255</td>
<td>L + 2 ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>TEXT</td>
<td>æ–‡æœ¬ã€å¯å˜é•¿åº¦</td>
<td>L</td>
<td>0 &lt;= L &lt;= 65535</td>
<td>L + 2 ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>MEDIUMTEXT</td>
<td>ä¸­ç­‰æ–‡æœ¬ã€å¯å˜é•¿åº¦</td>
<td>L</td>
<td>0 &lt;= L &lt;= 16777215</td>
<td>L + 3 ä¸ªå­—èŠ‚</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>å¤§æ–‡æœ¬ã€å¯å˜é•¿åº¦</td>
<td>L</td>
<td>0 &lt;= L&lt;= 4294967295ï¼ˆç›¸å½“äº4GBï¼‰</td>
<td>L + 4 ä¸ªå­—èŠ‚</td>
</tr>
</tbody></table>
<p><strong>ç”±äºå®é™…å­˜å‚¨çš„é•¿åº¦ä¸ç¡®å®šï¼ŒMySQL ä¸å…è®¸ TEXT ç±»å‹çš„å­—æ®µåšä¸»é”®</strong>ã€‚é‡åˆ°è¿™ç§æƒ…å†µï¼Œä½ åªèƒ½é‡‡ç”¨ CHAR(M)ï¼Œæˆ–è€… VARCHAR(M)ã€‚</p>
<p><strong>ä¸¾ä¾‹ï¼š</strong></p>
<p>åˆ›å»ºæ•°æ®è¡¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_text(</span><br><span class="line">tx TEXT</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test_text</span><br><span class="line">VALUES(&#x27;atguigu   &#x27;);</span><br><span class="line"></span><br><span class="line">SELECT CHAR_LENGTH(tx)</span><br><span class="line">FROM test_text; #10</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜åœ¨ä¿å­˜å’ŒæŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¹¶æ²¡æœ‰åˆ é™¤TEXTç±»å‹çš„æ•°æ®å°¾éƒ¨çš„ç©ºæ ¼ã€‚</p>
<p><strong>å¼€å‘ä¸­ç»éªŒï¼š</strong></p>
<p>TEXTæ–‡æœ¬ç±»å‹ï¼Œå¯ä»¥å­˜æ¯”è¾ƒå¤§çš„æ–‡æœ¬æ®µï¼Œæœç´¢é€Ÿåº¦ç¨æ…¢ï¼Œå› æ­¤å¦‚æœä¸æ˜¯ç‰¹åˆ«å¤§çš„å†…å®¹ï¼Œå»ºè®®ä½¿ç”¨CHARï¼ŒVARCHARæ¥ä»£æ›¿ã€‚è¿˜æœ‰TEXTç±»å‹ä¸ç”¨åŠ é»˜è®¤å€¼ï¼ŒåŠ äº†ä¹Ÿæ²¡ç”¨ã€‚è€Œä¸”textå’Œblobç±»å‹çš„æ•°æ®åˆ é™¤åå®¹æ˜“å¯¼è‡´â€œç©ºæ´â€ï¼Œä½¿å¾—æ–‡ä»¶ç¢ç‰‡æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥é¢‘ç¹ä½¿ç”¨çš„è¡¨ä¸å»ºè®®åŒ…å«TEXTç±»å‹å­—æ®µï¼Œå»ºè®®å•ç‹¬åˆ†å‡ºå»ï¼Œå•ç‹¬ç”¨ä¸€ä¸ªè¡¨ã€‚</p>
<h2 id="ENUMç±»å‹"><a href="#ENUMç±»å‹" class="headerlink" title="ENUMç±»å‹"></a>ENUMç±»å‹</h2><p>ENUMç±»å‹ä¹Ÿå«ä½œæšä¸¾ç±»å‹ï¼ŒENUMç±»å‹çš„å–å€¼èŒƒå›´éœ€è¦åœ¨å®šä¹‰å­—æ®µæ—¶è¿›è¡ŒæŒ‡å®šã€‚è®¾ç½®å­—æ®µå€¼æ—¶ï¼ŒENUMç±»å‹åªå…è®¸ä»æˆå‘˜ä¸­é€‰å–å•ä¸ªå€¼ï¼Œä¸èƒ½ä¸€æ¬¡é€‰å–å¤šä¸ªå€¼ã€‚</p>
<p>å…¶æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ç”±å®šä¹‰ENUMç±»å‹æ—¶æŒ‡å®šçš„æˆå‘˜ä¸ªæ•°å†³å®šã€‚</p>
<table>
<thead>
<tr>
<th>æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹</th>
<th>é•¿åº¦</th>
<th>é•¿åº¦èŒƒå›´</th>
<th>å ç”¨çš„å­˜å‚¨ç©ºé—´</th>
</tr>
</thead>
<tbody><tr>
<td>ENUM</td>
<td>L</td>
<td>1 &lt;= L &lt;= 65535</td>
<td>1æˆ–2ä¸ªå­—èŠ‚</td>
</tr>
</tbody></table>
<ul>
<li><p>å½“ENUMç±»å‹åŒ…å«1ï½255ä¸ªæˆå‘˜æ—¶ï¼Œéœ€è¦1ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ï¼›</p>
</li>
<li><p>å½“ENUMç±»å‹åŒ…å«256ï½65535ä¸ªæˆå‘˜æ—¶ï¼Œéœ€è¦2ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚</p>
</li>
<li><p>ENUMç±»å‹çš„æˆå‘˜ä¸ªæ•°çš„ä¸Šé™ä¸º65535ä¸ªã€‚</p>
</li>
</ul>
<p>ä¸¾ä¾‹ï¼š</p>
<p>åˆ›å»ºè¡¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test_enum(</span><br><span class="line">season ENUM(&#x27;æ˜¥&#x27;,&#x27;å¤&#x27;,&#x27;ç§‹&#x27;,&#x27;å†¬&#x27;,&#x27;unknow&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test_enum</span><br><span class="line">VALUES(&#x27;æ˜¥&#x27;),(&#x27;ç§‹&#x27;);</span><br><span class="line"></span><br><span class="line"># å¿½ç•¥å¤§å°å†™</span><br><span class="line">INSERT INTO test_enum</span><br><span class="line">VALUES(&#x27;UNKNOW&#x27;);</span><br><span class="line"></span><br><span class="line"># å…è®¸æŒ‰ç…§è§’æ ‡çš„æ–¹å¼è·å–æŒ‡å®šç´¢å¼•ä½ç½®çš„æšä¸¾å€¼</span><br><span class="line">INSERT INTO test_enum</span><br><span class="line">VALUES(&#x27;1&#x27;),(3);</span><br><span class="line"></span><br><span class="line"># Data truncated for column &#x27;season&#x27; at row 1</span><br><span class="line">INSERT INTO test_enum</span><br><span class="line">VALUES(&#x27;ab&#x27;);</span><br><span class="line"></span><br><span class="line"># å½“ENUMç±»å‹çš„å­—æ®µæ²¡æœ‰å£°æ˜ä¸ºNOT NULLæ—¶ï¼Œæ’å…¥NULLä¹Ÿæ˜¯æœ‰æ•ˆçš„</span><br><span class="line">INSERT INTO test_enum</span><br><span class="line">VALUES(NULL);</span><br></pre></td></tr></table></figure>

<h1 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h1><p>çº¦æŸæ˜¯è¡¨çº§çš„å¼ºåˆ¶è§„å®šã€‚å¯ä»¥åœ¨<strong>åˆ›å»ºè¡¨æ—¶è§„å®šçº¦æŸï¼ˆé€šè¿‡ CREATE TABLE è¯­å¥ï¼‰</strong>ï¼Œæˆ–è€…åœ¨<strong>è¡¨åˆ›å»ºä¹‹åé€šè¿‡ ALTER TABLE è¯­å¥è§„å®šçº¦æŸ</strong>ã€‚</p>
<p>æ•°æ®å®Œæ•´æ€§ï¼ˆData Integrityï¼‰æ˜¯æŒ‡æ•°æ®çš„ç²¾ç¡®æ€§ï¼ˆAccuracyï¼‰å’Œå¯é æ€§ï¼ˆReliabilityï¼‰ã€‚å®ƒæ˜¯é˜²æ­¢æ•°æ®åº“ä¸­å­˜åœ¨ä¸ç¬¦åˆè¯­ä¹‰è§„å®šçš„æ•°æ®å’Œé˜²æ­¢å› é”™è¯¯ä¿¡æ¯çš„è¾“å…¥è¾“å‡ºé€ æˆæ— æ•ˆæ“ä½œæˆ–é”™è¯¯ä¿¡æ¯è€Œæå‡ºçš„ã€‚</p>
<p>ä¸ºäº†ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼ŒSQLè§„èŒƒä»¥çº¦æŸçš„æ–¹å¼å¯¹<strong>è¡¨æ•°æ®è¿›è¡Œé¢å¤–çš„æ¡ä»¶é™åˆ¶</strong>ã€‚ä»ä»¥ä¸‹å››ä¸ªæ–¹é¢è€ƒè™‘ï¼š</p>
<ul>
<li><p><code>å®ä½“å®Œæ•´æ€§ï¼ˆEntity Integrityï¼‰</code>ï¼šä¾‹å¦‚ï¼ŒåŒä¸€ä¸ªè¡¨ä¸­ï¼Œä¸èƒ½å­˜åœ¨ä¸¤æ¡å®Œå…¨ç›¸åŒæ— æ³•åŒºåˆ†çš„è®°å½•</p>
</li>
<li><p><code>åŸŸå®Œæ•´æ€§ï¼ˆDomain Integrityï¼‰</code>ï¼šä¾‹å¦‚ï¼šå¹´é¾„èŒƒå›´0-120ï¼Œæ€§åˆ«èŒƒå›´â€œç”·/å¥³â€</p>
</li>
<li><p><code>å¼•ç”¨å®Œæ•´æ€§ï¼ˆReferential Integrityï¼‰</code>ï¼šä¾‹å¦‚ï¼šå‘˜å·¥æ‰€åœ¨éƒ¨é—¨ï¼Œåœ¨éƒ¨é—¨è¡¨ä¸­è¦èƒ½æ‰¾åˆ°è¿™ä¸ªéƒ¨é—¨</p>
</li>
<li><p><code>ç”¨æˆ·è‡ªå®šä¹‰å®Œæ•´æ€§ï¼ˆUser-defined Integrityï¼‰</code>ï¼šä¾‹å¦‚ï¼šç”¨æˆ·åå”¯ä¸€ã€å¯†ç ä¸èƒ½ä¸ºç©ºç­‰ï¼Œæœ¬éƒ¨é—¨ç»ç†çš„å·¥èµ„ä¸å¾—é«˜äºæœ¬éƒ¨é—¨èŒå·¥çš„å¹³å‡å·¥èµ„çš„5å€ã€‚</p>
</li>
<li><p><strong>æ ¹æ®çº¦æŸèµ·çš„ä½œç”¨</strong>ï¼Œçº¦æŸå¯åˆ†ä¸ºï¼š</p>
<ul>
<li><strong>NOT NULL</strong> <strong>éç©ºçº¦æŸï¼Œè§„å®šæŸä¸ªå­—æ®µä¸èƒ½ä¸ºç©º</strong></li>
<li><strong>UNIQUE</strong>  <strong>å”¯ä¸€çº¦æŸ</strong>ï¼Œ<strong>è§„å®šæŸä¸ªå­—æ®µåœ¨æ•´ä¸ªè¡¨ä¸­æ˜¯å”¯ä¸€çš„</strong></li>
<li><strong>PRIMARY KEY  ä¸»é”®(éç©ºä¸”å”¯ä¸€)çº¦æŸ</strong></li>
<li><strong>FOREIGN KEY</strong>  <strong>å¤–é”®çº¦æŸ</strong></li>
<li><strong>CHECK</strong>  <strong>æ£€æŸ¥çº¦æŸ</strong></li>
<li><strong>DEFAULT</strong>  <strong>é»˜è®¤å€¼çº¦æŸ</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼š MySQLä¸æ”¯æŒcheckçº¦æŸï¼Œä½†å¯ä»¥ä½¿ç”¨checkçº¦æŸï¼Œè€Œæ²¡æœ‰ä»»ä½•æ•ˆæœ</p>
</blockquote>
<ul>
<li>æŸ¥çœ‹æŸä¸ªè¡¨å·²æœ‰çš„çº¦æŸ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#information_schemaæ•°æ®åº“åï¼ˆç³»ç»Ÿåº“ï¼‰</span><br><span class="line">#table_constraintsè¡¨åç§°ï¼ˆä¸“é—¨å­˜å‚¨å„ä¸ªè¡¨çš„çº¦æŸï¼‰</span><br><span class="line">SELECT * FROM information_schema.table_constraints </span><br><span class="line">WHERE table_name = &#x27;è¡¨åç§°&#x27;;</span><br></pre></td></tr></table></figure>

<h2 id="éç©ºçº¦æŸ-NOT-NULL"><a href="#éç©ºçº¦æŸ-NOT-NULL" class="headerlink" title="éç©ºçº¦æŸ - NOT NULL"></a>éç©ºçº¦æŸ - NOT NULL</h2><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>é™å®šæŸä¸ªå­—æ®µ/æŸåˆ—çš„å€¼ä¸å…è®¸ä¸ºç©º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555426972098.png" alt="1555426972098"></p>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li><p>é»˜è®¤ï¼Œæ‰€æœ‰çš„ç±»å‹çš„å€¼éƒ½å¯ä»¥æ˜¯NULLï¼ŒåŒ…æ‹¬INTã€FLOATç­‰æ•°æ®ç±»å‹</p>
</li>
<li><p>éç©ºçº¦æŸåªèƒ½å‡ºç°åœ¨è¡¨å¯¹è±¡çš„åˆ—ä¸Šï¼Œåªèƒ½æŸä¸ªåˆ—å•ç‹¬é™å®šéç©ºï¼Œä¸èƒ½ç»„åˆéç©º</p>
</li>
<li><p>ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¾ˆå¤šåˆ—éƒ½åˆ†åˆ«é™å®šäº†éç©º</p>
</li>
<li><p>ç©ºå­—ç¬¦ä¸²<code>&#39;&#39;</code>ä¸ç­‰äºNULLï¼Œ0ä¹Ÿä¸ç­‰äºNULL</p>
</li>
</ul>
<h3 id="æ·»åŠ éç©ºçº¦æŸ"><a href="#æ·»åŠ éç©ºçº¦æŸ" class="headerlink" title="æ·»åŠ éç©ºçº¦æŸ"></a>æ·»åŠ éç©ºçº¦æŸ</h3><p>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ NOT NULL,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ NOT NULL</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE emp(</span><br><span class="line">	id INT(10) NOT NULL,</span><br><span class="line">	NAME VARCHAR(20) NOT NULL,</span><br><span class="line">	sex CHAR NULL</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE student(</span><br><span class="line">	sid int,</span><br><span class="line">    sname varchar(20) not null,</span><br><span class="line">    tel char(11) ,</span><br><span class="line">    cardid char(18) not null</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(1,&#x27;å¼ ä¸‰&#x27;,&#x27;13710011002&#x27;,&#x27;110222198912032545&#x27;); #æˆåŠŸ</span><br><span class="line"></span><br><span class="line">insert into student values(2,&#x27;æå››&#x27;,&#x27;13710011002&#x27;,null);#èº«ä»½è¯å·ä¸ºç©º</span><br><span class="line">ERROR 1048 (23000): Column &#x27;cardid&#x27; cannot be null</span><br><span class="line"></span><br><span class="line">insert into student values(2,&#x27;æå››&#x27;,null,&#x27;110222198912032546&#x27;);#æˆåŠŸï¼Œtelå…è®¸ä¸ºç©º</span><br><span class="line"></span><br><span class="line">insert into student values(3,null,null,&#x27;110222198912032547&#x27;);#å¤±è´¥</span><br><span class="line">ERROR 1048 (23000): Column &#x27;sname&#x27; cannot be null</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å»ºè¡¨å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ not null;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">MODIFY sex VARCHAR(30) NOT NULL;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table student modify sname varchar(20) not null;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤éç©ºçº¦æŸ"><a href="#åˆ é™¤éç©ºçº¦æŸ" class="headerlink" title="åˆ é™¤éç©ºçº¦æŸ"></a>åˆ é™¤éç©ºçº¦æŸ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ NULL;</span><br><span class="line">#å»æ‰not nullï¼Œç›¸å½“äºä¿®æ”¹æŸä¸ªéæ³¨è§£å­—æ®µï¼Œè¯¥å­—æ®µå…è®¸ä¸ºç©º</span><br><span class="line"></span><br><span class="line">æˆ– </span><br><span class="line"></span><br><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹;</span><br><span class="line">#å»æ‰not nullï¼Œç›¸å½“äºä¿®æ”¹æŸä¸ªéæ³¨è§£å­—æ®µï¼Œè¯¥å­—æ®µå…è®¸ä¸ºç©º</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">MODIFY sex VARCHAR(30) NULL;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp</span><br><span class="line">MODIFY NAME VARCHAR(15) DEFAULT &#x27;abc&#x27; NULL;</span><br></pre></td></tr></table></figure>

<h2 id="å”¯ä¸€æ€§çº¦æŸ-UNIQUE"><a href="#å”¯ä¸€æ€§çº¦æŸ-UNIQUE" class="headerlink" title="å”¯ä¸€æ€§çº¦æŸ - UNIQUE"></a>å”¯ä¸€æ€§çº¦æŸ - UNIQUE</h2><h3 id="ä½œç”¨-1"><a href="#ä½œç”¨-1" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>ç”¨æ¥é™åˆ¶æŸä¸ªå­—æ®µ/æŸåˆ—çš„å€¼ä¸èƒ½é‡å¤ã€‚</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555427198811.png" alt="1555427198811"></p>
<h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>åŒä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€çº¦æŸã€‚</li>
<li>å”¯ä¸€çº¦æŸå¯ä»¥æ˜¯æŸä¸€ä¸ªåˆ—çš„å€¼å”¯ä¸€ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªåˆ—ç»„åˆçš„å€¼å”¯ä¸€ã€‚</li>
<li>å”¯ä¸€æ€§çº¦æŸå…è®¸åˆ—å€¼ä¸ºç©ºã€‚</li>
<li>åœ¨åˆ›å»ºå”¯ä¸€çº¦æŸçš„æ—¶å€™ï¼Œå¦‚æœä¸ç»™å”¯ä¸€çº¦æŸå‘½åï¼Œå°±é»˜è®¤å’Œåˆ—åç›¸åŒã€‚</li>
<li><strong>MySQLä¼šç»™å”¯ä¸€çº¦æŸçš„åˆ—ä¸Šé»˜è®¤åˆ›å»ºä¸€ä¸ªå”¯ä¸€ç´¢å¼•ã€‚</strong></li>
</ul>
<h3 id="æ·»åŠ å”¯ä¸€çº¦æŸ"><a href="#æ·»åŠ å”¯ä¸€çº¦æŸ" class="headerlink" title="æ·»åŠ å”¯ä¸€çº¦æŸ"></a>æ·»åŠ å”¯ä¸€çº¦æŸ</h3><p>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique key,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹</span><br><span class="line">);</span><br><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    [constraint çº¦æŸå] unique key(å­—æ®µå)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table student(</span><br><span class="line">	sid int,</span><br><span class="line">    sname varchar(20),</span><br><span class="line">    tel char(11) unique,</span><br><span class="line">    cardid char(18) unique key</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE t_course(</span><br><span class="line">	cid INT UNIQUE,</span><br><span class="line">	cname VARCHAR(100) UNIQUE,</span><br><span class="line">	description VARCHAR(200)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE USER(</span><br><span class="line">     id INT NOT NULL,</span><br><span class="line">     NAME VARCHAR(25),</span><br><span class="line">     PASSWORD VARCHAR(16),</span><br><span class="line">	 -- ä½¿ç”¨è¡¨çº§çº¦æŸè¯­æ³•</span><br><span class="line">     CONSTRAINT uk_name_pwd UNIQUE(NAME,PASSWORD)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¡¨ç¤ºç”¨æˆ·åå’Œå¯†ç ç»„åˆä¸èƒ½é‡å¤</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(1,&#x27;å¼ ä¸‰&#x27;,&#x27;13710011002&#x27;,&#x27;101223199012015623&#x27;);</span><br><span class="line">insert into student values(2,&#x27;æå››&#x27;,&#x27;13710011003&#x27;,&#x27;101223199012015624&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student;</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">| sid | sname | tel         | cardid             |</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">|   1 | å¼ ä¸‰  | 13710011002 | 101223199012015623 |</span><br><span class="line">|   2 | æå››  | 13710011003 | 101223199012015624 |</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(3,&#x27;ç‹äº”&#x27;,&#x27;13710011004&#x27;,&#x27;101223199012015624&#x27;); #èº«ä»½è¯å·é‡å¤</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;101223199012015624&#x27; for key &#x27;cardid&#x27;</span><br><span class="line">#æ‰‹æœºå·é‡å¤</span><br><span class="line">insert into student values(3,&#x27;ç‹äº”&#x27;,&#x27;13710011003&#x27;,&#x27;101223199012015625&#x27;); </span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;13710011003&#x27; for key &#x27;tel&#x27;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å»ºè¡¨åæŒ‡å®šå”¯ä¸€é”®çº¦æŸ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#å­—æ®µåˆ—è¡¨ä¸­å¦‚æœæ˜¯ä¸€ä¸ªå­—æ®µï¼Œè¡¨ç¤ºè¯¥åˆ—çš„å€¼å”¯ä¸€ã€‚å¦‚æœæ˜¯ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªå­—æ®µï¼Œé‚£ä¹ˆå¤åˆå”¯ä¸€ï¼Œå³å¤šä¸ªå­—æ®µçš„ç»„åˆæ˜¯å”¯ä¸€çš„</span><br><span class="line">#æ–¹å¼1ï¼š</span><br><span class="line">alter table è¡¨åç§° add unique key(å­—æ®µåˆ—è¡¨); </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#æ–¹å¼2ï¼š</span><br><span class="line">alter table è¡¨åç§° modify å­—æ®µå å­—æ®µç±»å‹ unique;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE USER </span><br><span class="line">ADD UNIQUE(NAME,PASSWORD);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE USER </span><br><span class="line">ADD CONSTRAINT uk_name_pwd UNIQUE(NAME,PASSWORD);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE USER </span><br><span class="line">MODIFY NAME VARCHAR(20) UNIQUE;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table student(</span><br><span class="line">	sid int primary key,</span><br><span class="line">    sname varchar(20),</span><br><span class="line">    tel char(11) ,</span><br><span class="line">    cardid char(18) </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table student add unique key(tel);</span><br><span class="line">alter table student add unique key(cardid);</span><br></pre></td></tr></table></figure>

<h3 id="å…³äºå¤åˆå”¯ä¸€çº¦æŸ"><a href="#å…³äºå¤åˆå”¯ä¸€çº¦æŸ" class="headerlink" title="å…³äºå¤åˆå”¯ä¸€çº¦æŸ"></a>å…³äºå¤åˆå”¯ä¸€çº¦æŸ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    unique key(å­—æ®µåˆ—è¡¨) #å­—æ®µåˆ—è¡¨ä¸­å†™çš„æ˜¯å¤šä¸ªå­—æ®µåï¼Œå¤šä¸ªå­—æ®µåç”¨é€—å·åˆ†éš”ï¼Œè¡¨ç¤ºé‚£ä¹ˆæ˜¯å¤åˆå”¯ä¸€ï¼Œå³å¤šä¸ªå­—æ®µçš„ç»„åˆæ˜¯å”¯ä¸€çš„</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#å­¦ç”Ÿè¡¨</span><br><span class="line">create table student(</span><br><span class="line">	sid int,	#å­¦å·</span><br><span class="line">    sname varchar(20),			#å§“å</span><br><span class="line">    tel char(11) unique key,  #ç”µè¯</span><br><span class="line">    cardid char(18) unique key #èº«ä»½è¯å·</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#è¯¾ç¨‹è¡¨</span><br><span class="line">create table course(</span><br><span class="line">	cid int,  #è¯¾ç¨‹ç¼–å·</span><br><span class="line">    cname varchar(20)     #è¯¾ç¨‹åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#é€‰è¯¾è¡¨</span><br><span class="line">create table student_course(</span><br><span class="line">    id int,</span><br><span class="line">	sid int,</span><br><span class="line">    cid int,</span><br><span class="line">    score int,</span><br><span class="line">    unique key(sid,cid)  #å¤åˆå”¯ä¸€</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(1,&#x27;å¼ ä¸‰&#x27;,&#x27;13710011002&#x27;,&#x27;101223199012015623&#x27;);#æˆåŠŸ</span><br><span class="line">insert into student values(2,&#x27;æå››&#x27;,&#x27;13710011003&#x27;,&#x27;101223199012015624&#x27;);#æˆåŠŸ</span><br><span class="line">insert into course values(1001,&#x27;Java&#x27;),(1002,&#x27;MySQL&#x27;);#æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student;</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">| sid | sname | tel         | cardid             |</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">|   1 | å¼ ä¸‰  | 13710011002 | 101223199012015623 |</span><br><span class="line">|   2 | æå››  | 13710011003 | 101223199012015624 |</span><br><span class="line">+-----+-------+-------------+--------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from course;</span><br><span class="line">+------+-------+</span><br><span class="line">| cid  | cname |</span><br><span class="line">+------+-------+</span><br><span class="line">| 1001 | Java  |</span><br><span class="line">| 1002 | MySQL |</span><br><span class="line">+------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert into student_course values</span><br><span class="line">(1, 1, 1001, 89),</span><br><span class="line">(2, 1, 1002, 90),</span><br><span class="line">(3, 2, 1001, 88),</span><br><span class="line">(4, 2, 1002, 56);#æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_course;</span><br><span class="line">+----+------+------+-------+</span><br><span class="line">| id | sid  | cid  | score |</span><br><span class="line">+----+------+------+-------+</span><br><span class="line">|  1 |    1 | 1001 |    89 |</span><br><span class="line">|  2 |    1 | 1002 |    90 |</span><br><span class="line">|  3 |    2 | 1001 |    88 |</span><br><span class="line">|  4 |    2 | 1002 |    56 |</span><br><span class="line">+----+------+------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into student_course values (5, 1, 1001, 88);#å¤±è´¥</span><br><span class="line"></span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;1-1001&#x27; for key &#x27;sid&#x27;   è¿åsid-cidçš„å¤åˆå”¯ä¸€</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤å”¯ä¸€çº¦æŸ"><a href="#åˆ é™¤å”¯ä¸€çº¦æŸ" class="headerlink" title="åˆ é™¤å”¯ä¸€çº¦æŸ"></a>åˆ é™¤å”¯ä¸€çº¦æŸ</h3><ul>
<li>æ·»åŠ å”¯ä¸€æ€§çº¦æŸçš„åˆ—ä¸Šä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚</li>
<li>åˆ é™¤å”¯ä¸€çº¦æŸåªèƒ½é€šè¿‡åˆ é™¤å”¯ä¸€ç´¢å¼•çš„æ–¹å¼åˆ é™¤ã€‚</li>
<li>åˆ é™¤æ—¶éœ€è¦æŒ‡å®šå”¯ä¸€ç´¢å¼•åï¼Œå”¯ä¸€ç´¢å¼•åå°±å’Œå”¯ä¸€çº¦æŸåä¸€æ ·ã€‚</li>
<li>å¦‚æœåˆ›å»ºå”¯ä¸€çº¦æŸæ—¶æœªæŒ‡å®šåç§°ï¼Œå¦‚æœæ˜¯å•åˆ—ï¼Œå°±é»˜è®¤å’Œåˆ—åç›¸åŒï¼›å¦‚æœæ˜¯ç»„åˆåˆ—ï¼Œé‚£ä¹ˆé»˜è®¤å’Œ()ä¸­æ’åœ¨ç¬¬ä¸€ä¸ªçš„åˆ—åç›¸åŒã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å”¯ä¸€æ€§çº¦æŸåã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM information_schema.table_constraints WHERE table_name = &#x27;è¡¨å&#x27;; #æŸ¥çœ‹éƒ½æœ‰å“ªäº›çº¦æŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE USER </span><br><span class="line">DROP INDEX uk_name_pwd;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šå¯ä»¥é€šè¿‡ <code>show index from è¡¨åç§°;</code>æŸ¥çœ‹è¡¨çš„ç´¢å¼•</p>
</blockquote>
<h2 id="ä¸»é”®çº¦æŸ-PRIMARY-KEY"><a href="#ä¸»é”®çº¦æŸ-PRIMARY-KEY" class="headerlink" title="ä¸»é”®çº¦æŸ - PRIMARY KEY"></a>ä¸»é”®çº¦æŸ - PRIMARY KEY</h2><h3 id="ä½œç”¨-2"><a href="#ä½œç”¨-2" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>ç”¨æ¥å”¯ä¸€æ ‡è¯†è¡¨ä¸­çš„ä¸€è¡Œè®°å½•ã€‚</p>
<h3 id="ç‰¹ç‚¹-2"><a href="#ç‰¹ç‚¹-2" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>ä¸»é”®çº¦æŸç›¸å½“äº<strong>å”¯ä¸€çº¦æŸ+éç©ºçº¦æŸçš„ç»„åˆ</strong>ï¼Œä¸»é”®çº¦æŸåˆ—ä¸å…è®¸é‡å¤ï¼Œä¹Ÿä¸å…è®¸å‡ºç°ç©ºå€¼ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555427492244.png" alt="1555427492244"></p>
<ul>
<li>ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»é”®çº¦æŸï¼Œå»ºç«‹ä¸»é”®çº¦æŸå¯ä»¥åœ¨åˆ—çº§åˆ«åˆ›å»ºï¼Œä¹Ÿå¯ä»¥åœ¨è¡¨çº§åˆ«ä¸Šåˆ›å»ºã€‚</li>
</ul>
<ul>
<li><p>ä¸»é”®çº¦æŸå¯¹åº”ç€è¡¨ä¸­çš„ä¸€åˆ—æˆ–è€…å¤šåˆ—ï¼ˆå¤åˆä¸»é”®ï¼‰</p>
</li>
<li><p>å¦‚æœæ˜¯å¤šåˆ—ç»„åˆçš„å¤åˆä¸»é”®çº¦æŸï¼Œé‚£ä¹ˆè¿™äº›åˆ—éƒ½ä¸å…è®¸ä¸ºç©ºå€¼ï¼Œå¹¶ä¸”ç»„åˆçš„å€¼ä¸å…è®¸é‡å¤ã€‚</p>
</li>
<li><p><strong>MySQLçš„ä¸»é”®åæ€»æ˜¯PRIMARY</strong>ï¼Œå°±ç®—è‡ªå·±å‘½åäº†ä¸»é”®çº¦æŸåä¹Ÿæ²¡ç”¨ã€‚</p>
</li>
<li><p>å½“åˆ›å»ºä¸»é”®çº¦æŸæ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šåœ¨æ‰€åœ¨çš„åˆ—æˆ–åˆ—ç»„åˆä¸Šå»ºç«‹å¯¹åº”çš„<strong>ä¸»é”®ç´¢å¼•</strong>ï¼ˆèƒ½å¤Ÿæ ¹æ®ä¸»é”®æŸ¥è¯¢çš„ï¼Œå°±æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œæ•ˆç‡æ›´é«˜ï¼‰ã€‚å¦‚æœåˆ é™¤ä¸»é”®çº¦æŸäº†ï¼Œä¸»é”®çº¦æŸå¯¹åº”çš„ç´¢å¼•å°±è‡ªåŠ¨åˆ é™¤äº†ã€‚</p>
</li>
</ul>
<ul>
<li>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œä¸è¦ä¿®æ”¹ä¸»é”®å­—æ®µçš„å€¼ã€‚å› ä¸ºä¸»é”®æ˜¯æ•°æ®è®°å½•çš„å”¯ä¸€æ ‡è¯†ï¼Œå¦‚æœä¿®æ”¹äº†ä¸»é”®çš„å€¼ï¼Œå°±æœ‰å¯èƒ½ä¼šç ´åæ•°æ®çš„å®Œæ•´æ€§ã€‚</li>
</ul>
<h3 id="æ·»åŠ ä¸»é”®çº¦æŸ"><a href="#æ·»åŠ ä¸»é”®çº¦æŸ" class="headerlink" title="æ·»åŠ ä¸»é”®çº¦æŸ"></a>æ·»åŠ ä¸»é”®çº¦æŸ</h3><p>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶æŒ‡å®šä¸»é”®çº¦æŸ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹  primary key, #åˆ—çº§æ¨¡å¼</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  </span><br><span class="line">);</span><br><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    [constraint çº¦æŸå] primary key(å­—æ®µå) #è¡¨çº§æ¨¡å¼</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table temp(</span><br><span class="line">	id int primary key,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc temp;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| id    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| name  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into temp values(1,&#x27;å¼ ä¸‰&#x27;);#æˆåŠŸ</span><br><span class="line">insert into temp values(2,&#x27;æå››&#x27;);#æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from temp;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | å¼ ä¸‰ |</span><br><span class="line">|  2 | æå›› |</span><br><span class="line">+----+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">insert into temp values(1,&#x27;å¼ ä¸‰&#x27;);#å¤±è´¥</span><br><span class="line">ERROR 1062 (23000): Duplicateï¼ˆé‡å¤ï¼‰ entryï¼ˆé”®å…¥ï¼Œè¾“å…¥ï¼‰ &#x27;1&#x27; for key &#x27;PRIMARY&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">insert into temp values(1,&#x27;ç‹äº”&#x27;);#å¤±è´¥</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;1&#x27; for key &#x27;PRIMARY&#x27;</span><br><span class="line"></span><br><span class="line">insert into temp values(3,&#x27;å¼ ä¸‰&#x27;);#æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from temp;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | å¼ ä¸‰ |</span><br><span class="line">|  2 | æå›› |</span><br><span class="line">|  3 | å¼ ä¸‰ |</span><br><span class="line">+----+------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert into temp values(4,null);#æˆåŠŸ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">insert into temp values(null,&#x27;æç¦&#x27;);#å¤±è´¥</span><br><span class="line">ERROR 1048 (23000): Column &#x27;id&#x27; cannot be null</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from temp;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | å¼ ä¸‰ |</span><br><span class="line">|  2 | æå›› |</span><br><span class="line">|  3 | å¼ ä¸‰ |</span><br><span class="line">|  4 | NULL |</span><br><span class="line">+----+------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æ¼”ç¤ºä¸€ä¸ªè¡¨å»ºç«‹ä¸¤ä¸ªä¸»é”®çº¦æŸ</span><br><span class="line">create table temp(</span><br><span class="line">	id int primary key,</span><br><span class="line">    name varchar(20) primary key</span><br><span class="line">);</span><br><span class="line">ERROR 1068 (42000): Multipleï¼ˆå¤šé‡çš„ï¼‰ primary key definedï¼ˆå®šä¹‰ï¼‰</span><br></pre></td></tr></table></figure>

<p>å†ä¸¾ä¾‹ï¼š</p>
<ul>
<li>åˆ—çº§çº¦æŸ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE emp4(</span><br><span class="line">id INT PRIMARY KEY AUTO_INCREMENT ,</span><br><span class="line">NAME VARCHAR(20)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>è¡¨çº§çº¦æŸ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE emp5(</span><br><span class="line">id INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">NAME VARCHAR(20),</span><br><span class="line">pwd VARCHAR(15),</span><br><span class="line">CONSTRAINT emp5_id_pk PRIMARY KEY(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å»ºè¡¨åå¢åŠ ä¸»é”®çº¦æŸ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE è¡¨åç§° ADD PRIMARY KEY(å­—æ®µåˆ—è¡¨); #å­—æ®µåˆ—è¡¨å¯ä»¥æ˜¯ä¸€ä¸ªå­—æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªå­—æ®µï¼Œå¦‚æœæ˜¯å¤šä¸ªå­—æ®µçš„è¯ï¼Œæ˜¯å¤åˆä¸»é”®</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE student ADD PRIMARY KEY (sid);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp5 ADD PRIMARY KEY(NAME,pwd);</span><br></pre></td></tr></table></figure>

<h3 id="å…³äºå¤åˆä¸»é”®"><a href="#å…³äºå¤åˆä¸»é”®" class="headerlink" title="å…³äºå¤åˆä¸»é”®"></a>å…³äºå¤åˆä¸»é”®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹,</span><br><span class="line">    primary key(å­—æ®µå1,å­—æ®µå2)  #è¡¨ç¤ºå­—æ®µ1å’Œå­—æ®µ2çš„ç»„åˆæ˜¯å”¯ä¸€çš„ï¼Œä¹Ÿå¯ä»¥æœ‰æ›´å¤šä¸ªå­—æ®µ</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#å­¦ç”Ÿè¡¨</span><br><span class="line">create table student(</span><br><span class="line">	sid int primary key,  #å­¦å·</span><br><span class="line">    sname varchar(20)     #å­¦ç”Ÿå§“å</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#è¯¾ç¨‹è¡¨</span><br><span class="line">create table course(</span><br><span class="line">	cid int primary key,  #è¯¾ç¨‹ç¼–å·</span><br><span class="line">    cname varchar(20)     #è¯¾ç¨‹åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#é€‰è¯¾è¡¨</span><br><span class="line">create table student_course(</span><br><span class="line">	sid int,</span><br><span class="line">    cid int,</span><br><span class="line">    score int,</span><br><span class="line">    primary key(sid,cid)  #å¤åˆä¸»é”®</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into student values(1,&#x27;å¼ ä¸‰&#x27;),(2,&#x27;æå››&#x27;);</span><br><span class="line">insert into course values(1001,&#x27;Java&#x27;),(1002,&#x27;MySQL&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student;</span><br><span class="line">+-----+-------+</span><br><span class="line">| sid | sname |</span><br><span class="line">+-----+-------+</span><br><span class="line">|   1 | å¼ ä¸‰  |</span><br><span class="line">|   2 | æå››  |</span><br><span class="line">+-----+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from course;</span><br><span class="line">+------+-------+</span><br><span class="line">| cid  | cname |</span><br><span class="line">+------+-------+</span><br><span class="line">| 1001 | Java  |</span><br><span class="line">| 1002 | MySQL |</span><br><span class="line">+------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into student_course values(1, 1001, 89),(1,1002,90),(2,1001,88),(2,1002,56);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_course;</span><br><span class="line">+-----+------+-------+</span><br><span class="line">| sid | cid  | score |</span><br><span class="line">+-----+------+-------+</span><br><span class="line">|   1 | 1001 |    89 |</span><br><span class="line">|   1 | 1002 |    90 |</span><br><span class="line">|   2 | 1001 |    88 |</span><br><span class="line">|   2 | 1002 |    56 |</span><br><span class="line">+-----+------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into student_course values(1, 1001, 100);</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;1-1001&#x27; for key &#x27;PRIMARY&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc student_course;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| sid   | int(11) | NO   | PRI | NULL    |       |</span><br><span class="line">| cid   | int(11) | NO   | PRI | NULL    |       |</span><br><span class="line">| score | int(11) | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>å†ä¸¾ä¾‹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE emp6(</span><br><span class="line">id INT NOT NULL,</span><br><span class="line">NAME VARCHAR(20),</span><br><span class="line">pwd VARCHAR(15),</span><br><span class="line">CONSTRAINT emp7_pk PRIMARY KEY(NAME,pwd)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤ä¸»é”®çº¦æŸ"><a href="#åˆ é™¤ä¸»é”®çº¦æŸ" class="headerlink" title="åˆ é™¤ä¸»é”®çº¦æŸ"></a>åˆ é™¤ä¸»é”®çº¦æŸ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° drop primary key;</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE student DROP PRIMARY KEY;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp5 DROP PRIMARY KEY;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼šåˆ é™¤ä¸»é”®çº¦æŸï¼Œä¸éœ€è¦æŒ‡å®šä¸»é”®åï¼Œå› ä¸ºä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªä¸»é”®ï¼Œåˆ é™¤ä¸»é”®çº¦æŸåï¼Œéç©ºè¿˜å­˜åœ¨ã€‚</p>
</blockquote>
<h2 id="è‡ªå¢åˆ—-AUTO-INCREMENT"><a href="#è‡ªå¢åˆ—-AUTO-INCREMENT" class="headerlink" title="è‡ªå¢åˆ— - AUTO_INCREMENT"></a>è‡ªå¢åˆ— - AUTO_INCREMENT</h2><h3 id="ä½œç”¨-3"><a href="#ä½œç”¨-3" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>æŸä¸ªå­—æ®µçš„å€¼è‡ªå¢</p>
<h3 id="ç‰¹ç‚¹å’Œè¦æ±‚"><a href="#ç‰¹ç‚¹å’Œè¦æ±‚" class="headerlink" title="ç‰¹ç‚¹å’Œè¦æ±‚"></a>ç‰¹ç‚¹å’Œè¦æ±‚</h3><p>ï¼ˆ1ï¼‰ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªè‡ªå¢é•¿åˆ—</p>
<p>ï¼ˆ2ï¼‰å½“éœ€è¦äº§ç”Ÿå”¯ä¸€æ ‡è¯†ç¬¦æˆ–é¡ºåºå€¼æ—¶ï¼Œå¯è®¾ç½®è‡ªå¢é•¿</p>
<p>ï¼ˆ3ï¼‰è‡ªå¢é•¿åˆ—çº¦æŸçš„åˆ—å¿…é¡»æ˜¯<strong>é”®åˆ—ï¼ˆä¸»é”®åˆ—ï¼Œå”¯ä¸€é”®åˆ—ï¼‰</strong></p>
<p>ï¼ˆ4ï¼‰è‡ªå¢çº¦æŸçš„åˆ—çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯<strong>æ•´æ•°ç±»å‹</strong></p>
<p>ï¼ˆ5ï¼‰å¦‚æœè‡ªå¢åˆ—æŒ‡å®šäº† 0 å’Œ nullï¼Œä¼šåœ¨å½“å‰æœ€å¤§å€¼çš„åŸºç¡€ä¸Šè‡ªå¢ï¼›<strong>å¦‚æœè‡ªå¢åˆ—æ‰‹åŠ¨æŒ‡å®šäº†å…·ä½“å€¼ï¼Œç›´æ¥èµ‹å€¼ä¸ºå…·ä½“å€¼</strong>ã€‚</p>
<p>é”™è¯¯æ¼”ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int auto_increment,</span><br><span class="line">    ename varchar(20)</span><br><span class="line">);</span><br><span class="line"># ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key   </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key,</span><br><span class="line">    ename varchar(20) unique key auto_increment</span><br><span class="line">);</span><br><span class="line"># ERROR 1063 (42000): Incorrect column specifier for column &#x27;ename&#x27;  å› ä¸ºenameä¸æ˜¯æ•´æ•°ç±»å‹</span><br></pre></td></tr></table></figure>

<h3 id="å¦‚ä½•æŒ‡å®šè‡ªå¢çº¦æŸ"><a href="#å¦‚ä½•æŒ‡å®šè‡ªå¢çº¦æŸ" class="headerlink" title="å¦‚ä½•æŒ‡å®šè‡ªå¢çº¦æŸ"></a>å¦‚ä½•æŒ‡å®šè‡ªå¢çº¦æŸ</h3><p><strong>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹  primary key auto_increment,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique key not null,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique key,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  not null default é»˜è®¤å€¼, </span><br><span class="line">);</span><br><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹ default é»˜è®¤å€¼ ,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ unique key auto_increment,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ not null default é»˜è®¤å€¼,,</span><br><span class="line">    primary key(å­—æ®µå)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key auto_increment,</span><br><span class="line">    ename varchar(20)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| eid   | int(11)     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| ename | varchar(20) | YES  |     | NULL    |                |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ2ï¼‰å»ºè¡¨å</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ auto_increment;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key ,</span><br><span class="line">    ename varchar(20)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table employee modify eid int auto_increment;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| eid   | int(11)     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| ename | varchar(20) | YES  |     | NULL    |                |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="å¦‚ä½•åˆ é™¤è‡ªå¢çº¦æŸ"><a href="#å¦‚ä½•åˆ é™¤è‡ªå¢çº¦æŸ" class="headerlink" title="å¦‚ä½•åˆ é™¤è‡ªå¢çº¦æŸ"></a>å¦‚ä½•åˆ é™¤è‡ªå¢çº¦æŸ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ auto_increment;#ç»™è¿™ä¸ªå­—æ®µå¢åŠ è‡ªå¢çº¦æŸ</span><br><span class="line"></span><br><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹; #å»æ‰auto_incrementç›¸å½“äºåˆ é™¤</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table employee modify eid int;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid   | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="MySQL-8-0æ–°ç‰¹æ€§â€”è‡ªå¢å˜é‡çš„æŒä¹…åŒ–"><a href="#MySQL-8-0æ–°ç‰¹æ€§â€”è‡ªå¢å˜é‡çš„æŒä¹…åŒ–" class="headerlink" title="MySQL 8.0æ–°ç‰¹æ€§â€”è‡ªå¢å˜é‡çš„æŒä¹…åŒ–"></a>MySQL 8.0æ–°ç‰¹æ€§â€”è‡ªå¢å˜é‡çš„æŒä¹…åŒ–</h3><p>åœ¨MySQL 8.0ä¹‹å‰ï¼Œè‡ªå¢ä¸»é”®AUTO_INCREMENTçš„å€¼å¦‚æœå¤§äºmax(primary key)+1ï¼Œåœ¨MySQLé‡å¯åï¼Œä¼šé‡ç½®AUTO_INCREMENT=max(primary key)+1ï¼Œè¿™ç§ç°è±¡åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸šåŠ¡ä¸»é”®å†²çªæˆ–è€…å…¶ä»–éš¾ä»¥å‘ç°çš„é—®é¢˜ã€‚</p>
<p>åœ¨MySQL 5.7ç‰ˆæœ¬ä¸­ï¼Œæµ‹è¯•æ­¥éª¤å¦‚ä¸‹ï¼š<br>åˆ›å»ºçš„æ•°æ®è¡¨ä¸­åŒ…å«è‡ªå¢ä¸»é”®çš„idå­—æ®µï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE test1(</span><br><span class="line">id INT PRIMARY KEY AUTO_INCREMENT</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ’å…¥4ä¸ªç©ºå€¼ï¼Œæ‰§è¡Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test1</span><br><span class="line">VALUES(0),(0),(0),(0);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢æ•°æ®è¡¨test1ä¸­çš„æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM test1;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  4 |</span><br><span class="line">+----+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤idä¸º4çš„è®°å½•ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM test1 WHERE id = 4;</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ’å…¥ä¸€ä¸ªç©ºå€¼ï¼Œè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test1 VALUES(0);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢æ­¤æ—¶æ•°æ®è¡¨test1ä¸­çš„æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM test1;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  5 |</span><br><span class="line">+----+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶åˆ é™¤äº†idä¸º4çš„è®°å½•ï¼Œä½†æ˜¯å†æ¬¡æ’å…¥ç©ºå€¼æ—¶ï¼Œå¹¶æ²¡æœ‰é‡ç”¨è¢«åˆ é™¤çš„4ï¼Œè€Œæ˜¯åˆ†é…äº†5ã€‚<br>åˆ é™¤idä¸º5çš„è®°å½•ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM test1 where id=5;</span><br></pre></td></tr></table></figure>

<p><strong>é‡å¯æ•°æ®åº“</strong>ï¼Œé‡æ–°æ’å…¥ä¸€ä¸ªç©ºå€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO test1 values(0);</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥è¯¢æ•°æ®è¡¨test1ä¸­çš„æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM test1;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  4 |</span><br><span class="line">+----+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ–°æ’å…¥çš„0å€¼åˆ†é…çš„æ˜¯4ï¼ŒæŒ‰ç…§é‡å¯å‰çš„æ“ä½œé€»è¾‘ï¼Œæ­¤å¤„åº”è¯¥åˆ†é…6ã€‚å‡ºç°ä¸Šè¿°ç»“æœçš„ä¸»è¦åŸå› æ˜¯è‡ªå¢ä¸»é”®æ²¡æœ‰æŒä¹…åŒ–ã€‚<br>åœ¨MySQL 5.7ç³»ç»Ÿä¸­ï¼Œå¯¹äºè‡ªå¢ä¸»é”®çš„åˆ†é…è§„åˆ™ï¼Œæ˜¯ç”±InnoDBæ•°æ®å­—å…¸å†…éƒ¨ä¸€ä¸ª<code>è®¡æ•°å™¨</code>æ¥å†³å®šçš„ï¼Œè€Œè¯¥è®¡æ•°å™¨åªåœ¨<code>å†…å­˜ä¸­ç»´æŠ¤</code>ï¼Œå¹¶ä¸ä¼šæŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ã€‚å½“æ•°æ®åº“é‡å¯æ—¶ï¼Œè¯¥è®¡æ•°å™¨ä¼šè¢«åˆå§‹åŒ–ã€‚</p>
<p>åœ¨MySQL 8.0ç‰ˆæœ¬ä¸­ï¼Œä¸Šè¿°æµ‹è¯•æ­¥éª¤æœ€åä¸€æ­¥çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM test1;</span><br><span class="line">+----+</span><br><span class="line">| id |</span><br><span class="line">+----+</span><br><span class="line">|  1 |</span><br><span class="line">|  2 |</span><br><span class="line">|  3 |</span><br><span class="line">|  6 |</span><br><span class="line">+----+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè‡ªå¢å˜é‡å·²ç»æŒä¹…åŒ–äº†ã€‚</p>
<p>MySQL 8.0å°†è‡ªå¢ä¸»é”®çš„è®¡æ•°å™¨æŒä¹…åŒ–åˆ°<code>é‡åšæ—¥å¿—</code>ä¸­ã€‚æ¯æ¬¡è®¡æ•°å™¨å‘ç”Ÿæ”¹å˜ï¼Œéƒ½ä¼šå°†å…¶å†™å…¥é‡åšæ—¥å¿—ä¸­ã€‚å¦‚æœæ•°æ®åº“é‡å¯ï¼ŒInnoDBä¼šæ ¹æ®é‡åšæ—¥å¿—ä¸­çš„ä¿¡æ¯æ¥åˆå§‹åŒ–è®¡æ•°å™¨çš„å†…å­˜å€¼ã€‚</p>
<h2 id="å¤–é”®çº¦æŸ-FOREIGN-KEY"><a href="#å¤–é”®çº¦æŸ-FOREIGN-KEY" class="headerlink" title="å¤–é”®çº¦æŸ - FOREIGN KEY"></a>å¤–é”®çº¦æŸ - FOREIGN KEY</h2><h3 id="ä½œç”¨-4"><a href="#ä½œç”¨-4" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>é™å®šæŸä¸ªè¡¨çš„æŸä¸ªå­—æ®µçš„å¼•ç”¨å®Œæ•´æ€§ã€‚</p>
<p>æ¯”å¦‚ï¼šå‘˜å·¥è¡¨çš„å‘˜å·¥æ‰€åœ¨éƒ¨é—¨çš„é€‰æ‹©ï¼Œå¿…é¡»åœ¨éƒ¨é—¨è¡¨èƒ½æ‰¾åˆ°å¯¹åº”çš„éƒ¨åˆ†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="E:%5CDesktop%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1555428214706.png" alt="1555428214706"></p>
<h3 id="ä¸»è¡¨å’Œä»è¡¨-çˆ¶è¡¨å’Œå­è¡¨"><a href="#ä¸»è¡¨å’Œä»è¡¨-çˆ¶è¡¨å’Œå­è¡¨" class="headerlink" title="ä¸»è¡¨å’Œä»è¡¨/çˆ¶è¡¨å’Œå­è¡¨"></a>ä¸»è¡¨å’Œä»è¡¨/çˆ¶è¡¨å’Œå­è¡¨</h3><p>ä¸»è¡¨ï¼ˆçˆ¶è¡¨ï¼‰ï¼šè¢«å¼•ç”¨çš„è¡¨ï¼Œè¢«å‚è€ƒçš„è¡¨</p>
<p>ä»è¡¨ï¼ˆå­è¡¨ï¼‰ï¼šå¼•ç”¨åˆ«äººçš„è¡¨ï¼Œå‚è€ƒåˆ«äººçš„è¡¨</p>
<p>ä¾‹å¦‚ï¼šå‘˜å·¥è¡¨çš„å‘˜å·¥æ‰€åœ¨éƒ¨é—¨è¿™ä¸ªå­—æ®µçš„å€¼è¦å‚è€ƒéƒ¨é—¨è¡¨ï¼šéƒ¨é—¨è¡¨æ˜¯ä¸»è¡¨ï¼Œå‘˜å·¥è¡¨æ˜¯ä»è¡¨ã€‚</p>
<p>ä¾‹å¦‚ï¼šå­¦ç”Ÿè¡¨ã€è¯¾ç¨‹è¡¨ã€é€‰è¯¾è¡¨ï¼šé€‰è¯¾è¡¨çš„å­¦ç”Ÿå’Œè¯¾ç¨‹è¦åˆ†åˆ«å‚è€ƒå­¦ç”Ÿè¡¨å’Œè¯¾ç¨‹è¡¨ï¼Œå­¦ç”Ÿè¡¨å’Œè¯¾ç¨‹è¡¨æ˜¯ä¸»è¡¨ï¼Œé€‰è¯¾è¡¨æ˜¯ä»è¡¨ã€‚</p>
<h3 id="ç‰¹ç‚¹-3"><a href="#ç‰¹ç‚¹-3" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><p>ï¼ˆ1ï¼‰ä»è¡¨çš„å¤–é”®åˆ—ï¼Œå¿…é¡»å¼•ç”¨/å‚è€ƒä¸»è¡¨çš„ä¸»é”®æˆ–å”¯ä¸€çº¦æŸçš„åˆ—</p>
<p>â€‹          ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¢«ä¾èµ–/è¢«å‚è€ƒçš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„</p>
<p>ï¼ˆ2ï¼‰åœ¨åˆ›å»ºå¤–é”®çº¦æŸæ—¶ï¼Œå¦‚æœä¸ç»™å¤–é”®çº¦æŸå‘½åï¼Œ<strong>é»˜è®¤åä¸æ˜¯åˆ—åï¼Œè€Œæ˜¯è‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªå¤–é”®å</strong>ï¼ˆä¾‹å¦‚ student_ibfk_1;ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå¤–é”®çº¦æŸåã€‚</p>
<p>ï¼ˆ3ï¼‰åˆ›å»º(CREATE)è¡¨æ—¶å°±æŒ‡å®šå¤–é”®çº¦æŸçš„è¯ï¼Œå…ˆåˆ›å»ºä¸»è¡¨ï¼Œå†åˆ›å»ºä»è¡¨</p>
<p>ï¼ˆ4ï¼‰åˆ è¡¨æ—¶ï¼Œå…ˆåˆ ä»è¡¨ï¼ˆæˆ–å…ˆåˆ é™¤å¤–é”®çº¦æŸï¼‰ï¼Œå†åˆ é™¤ä¸»è¡¨</p>
<p>ï¼ˆ5ï¼‰å½“ä¸»è¡¨çš„è®°å½•è¢«ä»è¡¨å‚ç…§æ—¶ï¼Œä¸»è¡¨çš„è®°å½•å°†ä¸å…è®¸åˆ é™¤ï¼Œå¦‚æœè¦åˆ é™¤æ•°æ®ï¼Œéœ€è¦å…ˆåˆ é™¤ä»è¡¨ä¸­ä¾èµ–è¯¥è®°å½•çš„æ•°æ®ï¼Œç„¶åæ‰å¯ä»¥åˆ é™¤ä¸»è¡¨çš„æ•°æ®</p>
<p>ï¼ˆ6ï¼‰åœ¨â€œä»è¡¨â€ä¸­æŒ‡å®šå¤–é”®çº¦æŸï¼Œå¹¶ä¸”ä¸€ä¸ªè¡¨å¯ä»¥å»ºç«‹å¤šä¸ªå¤–é”®çº¦æŸ</p>
<p>ï¼ˆ7ï¼‰ä»è¡¨çš„å¤–é”®åˆ—ä¸ä¸»è¡¨è¢«å‚ç…§çš„åˆ—åå­—å¯ä»¥ä¸ç›¸åŒï¼Œä½†æ˜¯æ•°æ®ç±»å‹å¿…é¡»ä¸€æ ·ï¼Œé€»è¾‘æ„ä¹‰ä¸€è‡´ã€‚å¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ›å»ºå­è¡¨æ—¶ï¼Œå°±ä¼šå‡ºç°é”™è¯¯â€œERROR 1005 (HY000): Canâ€™t create tableâ€™database.tablenameâ€™(errno: 150)â€ã€‚</p>
<p>â€‹          ä¾‹å¦‚ï¼šéƒ½æ˜¯è¡¨ç¤ºéƒ¨é—¨ç¼–å·ï¼Œéƒ½æ˜¯intç±»å‹ã€‚</p>
<p>ï¼ˆ8ï¼‰<strong>å½“åˆ›å»ºå¤–é”®çº¦æŸæ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šåœ¨æ‰€åœ¨çš„åˆ—ä¸Šå»ºç«‹å¯¹åº”çš„æ™®é€šç´¢å¼•</strong>ã€‚ä½†æ˜¯ç´¢å¼•åæ˜¯å¤–é”®çš„çº¦æŸåã€‚ï¼ˆæ ¹æ®å¤–é”®æŸ¥è¯¢æ•ˆç‡å¾ˆé«˜ï¼‰</p>
<p>ï¼ˆ9ï¼‰åˆ é™¤å¤–é”®çº¦æŸåï¼Œå¿…é¡»<code>æ‰‹åŠ¨</code>åˆ é™¤å¯¹åº”çš„ç´¢å¼•</p>
<h3 id="æ·»åŠ å¤–é”®çº¦æŸ"><a href="#æ·»åŠ å¤–é”®çº¦æŸ" class="headerlink" title="æ·»åŠ å¤–é”®çº¦æŸ"></a>æ·»åŠ å¤–é”®çº¦æŸ</h3><p>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create table ä¸»è¡¨åç§°(</span><br><span class="line">	å­—æ®µ1  æ•°æ®ç±»å‹  primary key,</span><br><span class="line">    å­—æ®µ2  æ•°æ®ç±»å‹</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table ä»è¡¨åç§°(</span><br><span class="line">	å­—æ®µ1  æ•°æ®ç±»å‹  primary key,</span><br><span class="line">    å­—æ®µ2  æ•°æ®ç±»å‹,</span><br><span class="line">    [CONSTRAINT &lt;å¤–é”®çº¦æŸåç§°&gt;] FOREIGN KEYï¼ˆä»è¡¨çš„æŸä¸ªå­—æ®µ) references ä¸»è¡¨å(è¢«å‚è€ƒå­—æ®µ)</span><br><span class="line">);</span><br><span class="line">#(ä»è¡¨çš„æŸä¸ªå­—æ®µ)çš„æ•°æ®ç±»å‹å¿…é¡»ä¸ä¸»è¡¨å(è¢«å‚è€ƒå­—æ®µ)çš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œé€»è¾‘æ„ä¹‰ä¹Ÿä¸€æ ·</span><br><span class="line">#(ä»è¡¨çš„æŸä¸ªå­—æ®µ)çš„å­—æ®µåå¯ä»¥ä¸ä¸»è¡¨å(è¢«å‚è€ƒå­—æ®µ)çš„å­—æ®µåä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä¸ä¸€æ ·</span><br><span class="line"></span><br><span class="line">-- FOREIGN KEY: åœ¨è¡¨çº§æŒ‡å®šå­è¡¨ä¸­çš„åˆ—</span><br><span class="line">-- REFERENCES: æ ‡ç¤ºåœ¨çˆ¶è¡¨ä¸­çš„åˆ—</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">create table dept( #ä¸»è¡¨</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(#ä»è¡¨</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)   #åœ¨ä»è¡¨ä¸­æŒ‡å®šå¤–é”®çº¦æŸ</span><br><span class="line">    #empè¡¨çš„deptidå’Œå’Œdeptè¡¨çš„didçš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œæ„ä¹‰éƒ½æ˜¯è¡¨ç¤ºéƒ¨é—¨çš„ç¼–å·</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">ï¼ˆ1ï¼‰ä¸»è¡¨deptå¿…é¡»å…ˆåˆ›å»ºæˆåŠŸï¼Œç„¶åæ‰èƒ½åˆ›å»ºempè¡¨ï¼ŒæŒ‡å®šå¤–é”®æˆåŠŸã€‚</span><br><span class="line">ï¼ˆ2ï¼‰åˆ é™¤è¡¨æ—¶ï¼Œå…ˆåˆ é™¤ä»è¡¨empï¼Œå†åˆ é™¤ä¸»è¡¨dept</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å»ºè¡¨å</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¡¨ä¸è¡¨çš„å…³è”éƒ½æ˜¯æå‰è®¾è®¡å¥½äº†çš„ï¼Œå› æ­¤ï¼Œä¼šåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™å°±æŠŠå¤–é”®çº¦æŸå®šä¹‰å¥½ã€‚ä¸è¿‡ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹è¡¨çš„è®¾è®¡ï¼ˆæ¯”å¦‚æ·»åŠ æ–°çš„å­—æ®µï¼Œå¢åŠ æ–°çš„å…³è”å…³ç³»ï¼‰ï¼Œä½†æ²¡æœ‰é¢„å…ˆå®šä¹‰å¤–é”®çº¦æŸï¼Œé‚£ä¹ˆï¼Œå°±è¦ç”¨ä¿®æ”¹è¡¨çš„æ–¹å¼æ¥è¡¥å……å®šä¹‰ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE ä»è¡¨å ADD [CONSTRAINT çº¦æŸå] FOREIGN KEY (ä»è¡¨çš„å­—æ®µ) REFERENCES ä¸»è¡¨å(è¢«å¼•ç”¨å­—æ®µ) [on update xx][on delete xx];</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE emp1</span><br><span class="line">ADD [CONSTRAINT emp_dept_id_fk] FOREIGN KEY(dept_id) REFERENCES dept(dept_id);</span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">);</span><br><span class="line">#è¿™ä¸¤ä¸ªè¡¨åˆ›å»ºæ—¶ï¼Œæ²¡æœ‰æŒ‡å®šå¤–é”®çš„è¯ï¼Œé‚£ä¹ˆåˆ›å»ºé¡ºåºæ˜¯éšæ„</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table emp add foreign key (deptid) references dept(did);</span><br></pre></td></tr></table></figure>

<h3 id="æ¼”ç¤ºé—®é¢˜"><a href="#æ¼”ç¤ºé—®é¢˜" class="headerlink" title="æ¼”ç¤ºé—®é¢˜"></a>æ¼”ç¤ºé—®é¢˜</h3><p>ï¼ˆ1ï¼‰å¤±è´¥ï¼šä¸æ˜¯é”®åˆ—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int ,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)</span><br><span class="line">);</span><br><span class="line">#ERROR 1215 (HY000): Cannot add foreign key constraint  åŸå› æ˜¯deptçš„didä¸æ˜¯é”®åˆ—</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å¤±è´¥ï¼šæ•°æ®ç±»å‹ä¸ä¸€è‡´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid char,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)</span><br><span class="line">);</span><br><span class="line">#ERROR 1215 (HY000): Cannot add foreign key constraint  åŸå› æ˜¯ä»è¡¨çš„deptidå­—æ®µå’Œä¸»è¡¨çš„didå­—æ®µçš„æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼Œå¹¶ä¸”è¦å®ƒä¿©çš„é€»è¾‘æ„ä¹‰ä¸€è‡´</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰æˆåŠŸï¼Œä¸¤ä¸ªè¡¨å­—æ®µåä¸€æ ·</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    did int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (did) references dept(did)  </span><br><span class="line">    #empè¡¨çš„deptidå’Œå’Œdeptè¡¨çš„didçš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œæ„ä¹‰éƒ½æ˜¯è¡¨ç¤ºéƒ¨é—¨çš„ç¼–å·</span><br><span class="line">    #æ˜¯å¦é‡åæ²¡é—®é¢˜ï¼Œå› ä¸ºä¸¤ä¸ªdidåœ¨ä¸åŒçš„è¡¨ä¸­</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹é—®é¢˜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)  </span><br><span class="line">    #empè¡¨çš„deptidå’Œå’Œdeptè¡¨çš„didçš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œæ„ä¹‰éƒ½æ˜¯è¡¨ç¤ºéƒ¨é—¨çš„ç¼–å·</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert into dept values(1001,&#x27;æ•™å­¦éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1003, &#x27;è´¢åŠ¡éƒ¨&#x27;);</span><br><span class="line"></span><br><span class="line">insert into emp values(1,&#x27;å¼ ä¸‰&#x27;,1001); #æ·»åŠ ä»è¡¨è®°å½•æˆåŠŸï¼Œåœ¨æ·»åŠ è¿™æ¡è®°å½•æ—¶ï¼Œè¦æ±‚éƒ¨é—¨è¡¨æœ‰1001éƒ¨é—¨</span><br><span class="line"></span><br><span class="line">insert into emp values(2,&#x27;æå››&#x27;,1005);#æ·»åŠ ä»è¡¨è®°å½•å¤±è´¥</span><br><span class="line">ERROR 1452 (23000): Cannot addï¼ˆæ·»åŠ ï¼‰ or updateï¼ˆä¿®æ”¹ï¼‰ a child row: a foreign key constraint fails (`atguigudb`.`emp`, CONSTRAINT `emp_ibfk_1` FOREIGN KEY (`deptid`) REFERENCES `dept` (`did`)) ä»è¡¨empæ·»åŠ è®°å½•å¤±è´¥ï¼Œå› ä¸ºä¸»è¡¨deptæ²¡æœ‰1005éƒ¨é—¨</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨  |</span><br><span class="line">| 1003 | è´¢åŠ¡éƒ¨  |</span><br><span class="line">+------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰   |   1001 |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">update emp set deptid = 1002 where eid = 1;#ä¿®æ”¹ä»è¡¨å¤±è´¥ </span><br><span class="line">ERROR 1452 (23000): Cannot addï¼ˆæ·»åŠ ï¼‰ or updateï¼ˆä¿®æ”¹ï¼‰ a child rowï¼ˆå­è¡¨çš„è®°å½•ï¼‰: a foreign key constraint failsï¼ˆå¤–é”®çº¦æŸå¤±è´¥ï¼‰ (`atguigudb`.`emp`, CONSTRAINT `emp_ibfk_1` FOREIGN KEY (`deptid`) REFERENCES `dept` (`did`))  #éƒ¨é—¨è¡¨didå­—æ®µç°åœ¨æ²¡æœ‰1002çš„å€¼ï¼Œæ‰€ä»¥å‘˜å·¥è¡¨ä¸­ä¸èƒ½ä¿®æ”¹å‘˜å·¥æ‰€åœ¨éƒ¨é—¨deptidä¸º1002</span><br><span class="line"></span><br><span class="line">update dept set did = 1002 where did = 1001;#ä¿®æ”¹ä¸»è¡¨å¤±è´¥</span><br><span class="line">ERROR 1451 (23000): Cannot deleteï¼ˆåˆ é™¤ï¼‰ or updateï¼ˆä¿®æ”¹ï¼‰ a parent rowï¼ˆçˆ¶è¡¨çš„è®°å½•ï¼‰: a foreign key constraint fails (`atguigudb`.`emp`, CONSTRAINT `emp_ibfk_1` FOREIGN KEY (`deptid`) REFERENCES `dept` (`did`)) #éƒ¨é—¨è¡¨didçš„1001å­—æ®µå·²ç»è¢«empå¼•ç”¨äº†ï¼Œæ‰€ä»¥éƒ¨é—¨è¡¨çš„1001å­—æ®µå°±ä¸èƒ½ä¿®æ”¹äº†ã€‚</span><br><span class="line"></span><br><span class="line">update dept set did = 1002 where did = 1003;#ä¿®æ”¹ä¸»è¡¨æˆåŠŸ  å› ä¸ºéƒ¨é—¨è¡¨çš„1003éƒ¨é—¨æ²¡æœ‰è¢«empè¡¨å¼•ç”¨ï¼Œæ‰€ä»¥å¯ä»¥ä¿®æ”¹</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from dept where did=1001; #åˆ é™¤ä¸»è¡¨å¤±è´¥</span><br><span class="line">ERROR 1451 (23000): Cannot deleteï¼ˆåˆ é™¤ï¼‰ or updateï¼ˆä¿®æ”¹ï¼‰ a parent rowï¼ˆçˆ¶è¡¨è®°å½•ï¼‰: a foreign key constraint fails (`atguigudb`.`emp`, CONSTRAINT `emp_ibfk_1` FOREIGN KEY (`deptid`) REFERENCES `dept` (`did`))  #å› ä¸ºéƒ¨é—¨è¡¨didçš„1001å­—æ®µå·²ç»è¢«empå¼•ç”¨äº†ï¼Œæ‰€ä»¥éƒ¨é—¨è¡¨çš„1001å­—æ®µå¯¹åº”çš„è®°å½•å°±ä¸èƒ½è¢«åˆ é™¤</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼šçº¦æŸå…³ç³»æ˜¯é’ˆå¯¹åŒæ–¹çš„</p>
<ul>
<li><p>æ·»åŠ äº†å¤–é”®çº¦æŸåï¼Œä¸»è¡¨çš„ä¿®æ”¹å’Œåˆ é™¤æ•°æ®å—çº¦æŸ</p>
</li>
<li><p>æ·»åŠ äº†å¤–é”®çº¦æŸåï¼Œä»è¡¨çš„æ·»åŠ å’Œä¿®æ”¹æ•°æ®å—çº¦æŸ</p>
</li>
<li><p>åœ¨ä»è¡¨ä¸Šå»ºç«‹å¤–é”®ï¼Œè¦æ±‚ä¸»è¡¨å¿…é¡»å­˜åœ¨</p>
</li>
<li><p>åˆ é™¤ä¸»è¡¨æ—¶ï¼Œè¦æ±‚ä»è¡¨ä»è¡¨å…ˆåˆ é™¤ï¼Œæˆ–å°†ä»è¡¨ä¸­å¤–é”®å¼•ç”¨è¯¥ä¸»è¡¨çš„å…³ç³»å…ˆåˆ é™¤</p>
</li>
</ul>
<h3 id="çº¦æŸç­‰çº§"><a href="#çº¦æŸç­‰çº§" class="headerlink" title="çº¦æŸç­‰çº§"></a>çº¦æŸç­‰çº§</h3><ul>
<li><p><code>Cascadeæ–¹å¼</code>ï¼šåœ¨çˆ¶è¡¨ä¸Šupdate/deleteè®°å½•æ—¶ï¼ŒåŒæ­¥update/deleteæ‰å­è¡¨çš„åŒ¹é…è®°å½• </p>
</li>
<li><p><code>Set nullæ–¹å¼</code>ï¼šåœ¨çˆ¶è¡¨ä¸Šupdate/deleteè®°å½•æ—¶ï¼Œå°†å­è¡¨ä¸ŠåŒ¹é…è®°å½•çš„åˆ—è®¾ä¸ºnullï¼Œä½†æ˜¯è¦æ³¨æ„å­è¡¨çš„å¤–é”®åˆ—ä¸èƒ½ä¸ºnot null  </p>
</li>
<li><p><code>No actionæ–¹å¼</code>ï¼šå¦‚æœå­è¡¨ä¸­æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ä¸å…è®¸å¯¹çˆ¶è¡¨å¯¹åº”å€™é€‰é”®è¿›è¡Œupdate/deleteæ“ä½œ  </p>
</li>
<li><p><code>Restrictæ–¹å¼</code>ï¼šåŒno actionï¼Œ éƒ½æ˜¯ç«‹å³æ£€æŸ¥å¤–é”®çº¦æŸ</p>
</li>
<li><p><code>Set defaultæ–¹å¼</code>ï¼ˆåœ¨å¯è§†åŒ–å·¥å…·SQLyogä¸­å¯èƒ½æ˜¾ç¤ºç©ºç™½ï¼‰ï¼šçˆ¶è¡¨æœ‰å˜æ›´æ—¶ï¼Œå­è¡¨å°†å¤–é”®åˆ—è®¾ç½®æˆä¸€ä¸ªé»˜è®¤çš„å€¼ï¼Œä½†Innodbä¸èƒ½è¯†åˆ«</p>
</li>
</ul>
<p>å¦‚æœæ²¡æœ‰æŒ‡å®šç­‰çº§ï¼Œå°±ç›¸å½“äºRestrictæ–¹å¼ã€‚</p>
<p>å¯¹äºå¤–é”®çº¦æŸï¼Œæœ€å¥½æ˜¯é‡‡ç”¨: <code>ON UPDATE CASCADE ON DELETE RESTRICT</code> çš„æ–¹å¼ã€‚</p>
<p>ï¼ˆ1ï¼‰æ¼”ç¤º1ï¼šon update cascade on delete set null</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)  on update cascade on delete set null</span><br><span class="line">    #æŠŠä¿®æ”¹æ“ä½œè®¾ç½®ä¸ºçº§è”ä¿®æ”¹ç­‰çº§ï¼ŒæŠŠåˆ é™¤æ“ä½œè®¾ç½®ä¸ºset nullç­‰çº§</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">insert into dept values(1001,&#x27;æ•™å­¦éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1002, &#x27;è´¢åŠ¡éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1003, &#x27;å’¨è¯¢éƒ¨&#x27;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">insert into emp values(1,&#x27;å¼ ä¸‰&#x27;,1001); #åœ¨æ·»åŠ è¿™æ¡è®°å½•æ—¶ï¼Œè¦æ±‚éƒ¨é—¨è¡¨æœ‰1001éƒ¨é—¨</span><br><span class="line">insert into emp values(2,&#x27;æå››&#x27;,1001);</span><br><span class="line">insert into emp values(3,&#x27;ç‹äº”&#x27;,1002);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from dept;</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#ä¿®æ”¹ä¸»è¡¨æˆåŠŸï¼Œä»è¡¨ä¹Ÿè·Ÿç€ä¿®æ”¹ï¼Œä¿®æ”¹äº†ä¸»è¡¨è¢«å¼•ç”¨çš„å­—æ®µ1002ä¸º1004ï¼Œä»è¡¨çš„å¼•ç”¨å­—æ®µå°±è·Ÿç€ä¿®æ”¹ä¸º1004äº†</span><br><span class="line">mysql&gt; update dept set did = 1004 where did = 1002;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨ |</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨ | #åŸæ¥æ˜¯1002ï¼Œä¿®æ”¹ä¸º1004</span><br><span class="line">+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   1001 |</span><br><span class="line">|   2 | æå››  |   1001 |</span><br><span class="line">|   3 | ç‹äº”  |   1004 | #åŸæ¥æ˜¯1002ï¼Œè·Ÿç€ä¿®æ”¹ä¸º1004</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#åˆ é™¤ä¸»è¡¨çš„è®°å½•æˆåŠŸï¼Œä»è¡¨å¯¹åº”çš„å­—æ®µçš„å€¼è¢«ä¿®æ”¹ä¸ºnull</span><br><span class="line">mysql&gt; delete from dept where did = 1001;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  | #è®°å½•1001éƒ¨é—¨è¢«åˆ é™¤äº†</span><br><span class="line">+------+--------+</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨  |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨  |</span><br><span class="line">+------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   NULL | #åŸæ¥å¼•ç”¨1001éƒ¨é—¨çš„å‘˜å·¥ï¼Œdeptidå­—æ®µå˜ä¸ºnull</span><br><span class="line">|   2 | æå››  |   NULL |</span><br><span class="line">|   3 | ç‹äº”  |   1004 |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æ¼”ç¤º2ï¼šon update set null on delete cascade</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)  on update set null on delete cascade</span><br><span class="line">    #æŠŠä¿®æ”¹æ“ä½œè®¾ç½®ä¸ºset nullç­‰çº§ï¼ŒæŠŠåˆ é™¤æ“ä½œè®¾ç½®ä¸ºçº§è”åˆ é™¤ç­‰çº§</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert into dept values(1001,&#x27;æ•™å­¦éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1002, &#x27;è´¢åŠ¡éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1003, &#x27;å’¨è¯¢éƒ¨&#x27;);</span><br><span class="line"></span><br><span class="line">insert into emp values(1,&#x27;å¼ ä¸‰&#x27;,1001); #åœ¨æ·»åŠ è¿™æ¡è®°å½•æ—¶ï¼Œè¦æ±‚éƒ¨é—¨è¡¨æœ‰1001éƒ¨é—¨</span><br><span class="line">insert into emp values(2,&#x27;æå››&#x27;,1001);</span><br><span class="line">insert into emp values(3,&#x27;ç‹äº”&#x27;,1002);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨ |</span><br><span class="line">| 1002 | è´¢åŠ¡éƒ¨ |</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   1001 |</span><br><span class="line">|   2 | æå››  |   1001 |</span><br><span class="line">|   3 | ç‹äº”  |   1002 |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#ä¿®æ”¹ä¸»è¡¨ï¼Œä»è¡¨å¯¹åº”çš„å­—æ®µè®¾ç½®ä¸ºnull</span><br><span class="line">mysql&gt; update dept set did = 1004 where did = 1002;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨ |</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨ | #åŸæ¥didæ˜¯1002</span><br><span class="line">+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   1001 |</span><br><span class="line">|   2 | æå››  |   1001 |</span><br><span class="line">|   3 | ç‹äº”  |   NULL | #åŸæ¥deptidæ˜¯1002ï¼Œå› ä¸ºéƒ¨é—¨è¡¨1002è¢«ä¿®æ”¹äº†ï¼Œ1002æ²¡æœ‰å¯¹åº”çš„äº†ï¼Œå°±è®¾ç½®ä¸ºnull</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#åˆ é™¤ä¸»è¡¨çš„è®°å½•æˆåŠŸï¼Œä¸»è¡¨çš„1001è¡Œè¢«åˆ é™¤äº†ï¼Œä»è¡¨ç›¸åº”çš„è®°å½•ä¹Ÿè¢«åˆ é™¤äº†</span><br><span class="line">mysql&gt; delete from dept where did=1001;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  | #éƒ¨é—¨è¡¨ä¸­1001éƒ¨é—¨è¢«åˆ é™¤</span><br><span class="line">+------+--------+</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨ |</span><br><span class="line">+------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |#åŸæ¥1001éƒ¨é—¨çš„å‘˜å·¥ä¹Ÿè¢«åˆ é™¤äº†</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   3 | ç‹äº”  |   NULL |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰æ¼”ç¤ºï¼šon update cascade on delete cascade</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table dept(</span><br><span class="line">	did int primary key,		#éƒ¨é—¨ç¼–å·</span><br><span class="line">    dname varchar(50)			#éƒ¨é—¨åç§°</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table emp(</span><br><span class="line">	eid int primary key,  #å‘˜å·¥ç¼–å·</span><br><span class="line">    ename varchar(5),     #å‘˜å·¥å§“å</span><br><span class="line">    deptid int,				#å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨</span><br><span class="line">    foreign key (deptid) references dept(did)  on update cascade on delete cascade</span><br><span class="line">    #æŠŠä¿®æ”¹æ“ä½œè®¾ç½®ä¸ºçº§è”ä¿®æ”¹ç­‰çº§ï¼ŒæŠŠåˆ é™¤æ“ä½œä¹Ÿè®¾ç½®ä¸ºçº§è”åˆ é™¤ç­‰çº§</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">insert into dept values(1001,&#x27;æ•™å­¦éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1002, &#x27;è´¢åŠ¡éƒ¨&#x27;);</span><br><span class="line">insert into dept values(1003, &#x27;å’¨è¯¢éƒ¨&#x27;);</span><br><span class="line"></span><br><span class="line">insert into emp values(1,&#x27;å¼ ä¸‰&#x27;,1001); #åœ¨æ·»åŠ è¿™æ¡è®°å½•æ—¶ï¼Œè¦æ±‚éƒ¨é—¨è¡¨æœ‰1001éƒ¨é—¨</span><br><span class="line">insert into emp values(2,&#x27;æå››&#x27;,1001);</span><br><span class="line">insert into emp values(3,&#x27;ç‹äº”&#x27;,1002);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨ |</span><br><span class="line">| 1002 | è´¢åŠ¡éƒ¨ |</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   1001 |</span><br><span class="line">|   2 | æå››  |   1001 |</span><br><span class="line">|   3 | ç‹äº”  |   1002 |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#ä¿®æ”¹ä¸»è¡¨ï¼Œä»è¡¨å¯¹åº”çš„å­—æ®µè‡ªåŠ¨ä¿®æ”¹</span><br><span class="line">mysql&gt; update dept set did = 1004 where did = 1002;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | æ•™å­¦éƒ¨ |</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨ | #éƒ¨é—¨1002ä¿®æ”¹ä¸º1004</span><br><span class="line">+------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰  |   1001 |</span><br><span class="line">|   2 | æå››  |   1001 |</span><br><span class="line">|   3 | ç‹äº”  |   1004 | #çº§è”ä¿®æ”¹</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#åˆ é™¤ä¸»è¡¨çš„è®°å½•æˆåŠŸï¼Œä¸»è¡¨çš„1001è¡Œè¢«åˆ é™¤äº†ï¼Œä»è¡¨ç›¸åº”çš„è®°å½•ä¹Ÿè¢«åˆ é™¤äº†</span><br><span class="line">mysql&gt; delete from dept where did=1001;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from dept;</span><br><span class="line">+------+--------+</span><br><span class="line">| did  | dname  | #1001éƒ¨é—¨è¢«åˆ é™¤äº†</span><br><span class="line">+------+--------+</span><br><span class="line">| 1003 | å’¨è¯¢éƒ¨ |</span><br><span class="line">| 1004 | è´¢åŠ¡éƒ¨ | </span><br><span class="line">+------+--------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | deptid |  #1001éƒ¨é—¨çš„å‘˜å·¥ä¹Ÿè¢«åˆ é™¤äº†</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   3 | ç‹äº”  |   1004 |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤å¤–é”®çº¦æŸ"><a href="#åˆ é™¤å¤–é”®çº¦æŸ" class="headerlink" title="åˆ é™¤å¤–é”®çº¦æŸ"></a>åˆ é™¤å¤–é”®çº¦æŸ</h3><p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(1)ç¬¬ä¸€æ­¥å…ˆæŸ¥çœ‹çº¦æŸåå’Œåˆ é™¤å¤–é”®çº¦æŸ</span><br><span class="line">SELECT * FROM information_schema.table_constraints WHERE table_name = &#x27;è¡¨åç§°&#x27;;#æŸ¥çœ‹æŸä¸ªè¡¨çš„çº¦æŸå</span><br><span class="line"></span><br><span class="line">ALTER TABLE ä»è¡¨å DROP FOREIGN KEY å¤–é”®çº¦æŸå;</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ç¬¬äºŒæ­¥æŸ¥çœ‹ç´¢å¼•åå’Œåˆ é™¤ç´¢å¼•ã€‚ï¼ˆæ³¨æ„ï¼Œåªèƒ½æ‰‹åŠ¨åˆ é™¤ï¼‰</span><br><span class="line">SHOW INDEX FROM è¡¨åç§°; #æŸ¥çœ‹æŸä¸ªè¡¨çš„ç´¢å¼•å</span><br><span class="line"></span><br><span class="line">ALTER TABLE ä»è¡¨å DROP INDEX ç´¢å¼•å;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &#x27;emp&#x27;;</span><br><span class="line"></span><br><span class="line">mysql&gt; alter table emp drop foreign key emp_ibfk_1;</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show index from emp;</span><br><span class="line"></span><br><span class="line">mysql&gt; alter table emp drop index deptid;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt;  show index from emp;</span><br></pre></td></tr></table></figure>

<h3 id="å¼€å‘åœºæ™¯"><a href="#å¼€å‘åœºæ™¯" class="headerlink" title="å¼€å‘åœºæ™¯"></a>å¼€å‘åœºæ™¯</h3><p><strong>é—®é¢˜1ï¼šå¦‚æœä¸¤ä¸ªè¡¨ä¹‹é—´æœ‰å…³ç³»ï¼ˆä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šï¼‰ï¼Œæ¯”å¦‚ï¼šå‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨ï¼ˆä¸€å¯¹å¤šï¼‰ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯å¦ä¸€å®šè¦å»ºå¤–é”®çº¦æŸï¼Ÿ</strong></p>
<p>ç­”ï¼šä¸æ˜¯çš„</p>
<p><strong>é—®é¢˜2ï¼šå»ºå’Œä¸å»ºå¤–é”®çº¦æŸæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>ç­”ï¼šå»ºå¤–é”®çº¦æŸï¼Œä½ çš„æ“ä½œï¼ˆåˆ›å»ºè¡¨ã€åˆ é™¤è¡¨ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰ä¼šå—åˆ°é™åˆ¶ï¼Œä»è¯­æ³•å±‚é¢å—åˆ°é™åˆ¶ã€‚ä¾‹å¦‚ï¼šåœ¨å‘˜å·¥è¡¨ä¸­ä¸å¯èƒ½æ·»åŠ ä¸€ä¸ªå‘˜å·¥ä¿¡æ¯ï¼Œå®ƒçš„éƒ¨é—¨çš„å€¼åœ¨éƒ¨é—¨è¡¨ä¸­æ‰¾ä¸åˆ°ã€‚</p>
<p>ä¸å»ºå¤–é”®çº¦æŸï¼Œä½ çš„æ“ä½œï¼ˆåˆ›å»ºè¡¨ã€åˆ é™¤è¡¨ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰ä¸å—é™åˆ¶ï¼Œè¦ä¿è¯æ•°æ®çš„<code>å¼•ç”¨å®Œæ•´æ€§</code>ï¼Œåªèƒ½ä¾<code>é ç¨‹åºå‘˜çš„è‡ªè§‰</code>ï¼Œæˆ–è€…æ˜¯<code>åœ¨Javaç¨‹åºä¸­è¿›è¡Œé™å®š</code>ã€‚ä¾‹å¦‚ï¼šåœ¨å‘˜å·¥è¡¨ä¸­ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªå‘˜å·¥çš„ä¿¡æ¯ï¼Œå®ƒçš„éƒ¨é—¨æŒ‡å®šä¸ºä¸€ä¸ªå®Œå…¨ä¸å­˜åœ¨çš„éƒ¨é—¨ã€‚</p>
<p><strong>é—®é¢˜3ï¼šé‚£ä¹ˆå»ºå’Œä¸å»ºå¤–é”®çº¦æŸå’ŒæŸ¥è¯¢æœ‰æ²¡æœ‰å…³ç³»ï¼Ÿ</strong></p>
<p>ç­”ï¼šæ²¡æœ‰</p>
<blockquote>
<p>åœ¨ MySQL é‡Œï¼Œå¤–é”®çº¦æŸæ˜¯æœ‰æˆæœ¬çš„ï¼Œéœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚å¯¹äºå¤§å¹¶å‘çš„ SQL æ“ä½œï¼Œæœ‰å¯èƒ½ä¼šä¸é€‚åˆã€‚æ¯”å¦‚å¤§å‹ç½‘ç«™çš„ä¸­å¤®æ•°æ®åº“ï¼Œå¯èƒ½ä¼š<code>å› ä¸ºå¤–é”®çº¦æŸçš„ç³»ç»Ÿå¼€é”€è€Œå˜å¾—éå¸¸æ…¢</code>ã€‚æ‰€ä»¥ï¼Œ MySQL å…è®¸ä½ ä¸ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„å¤–é”®çº¦æŸï¼Œåœ¨<code>åº”ç”¨å±‚é¢</code>å®Œæˆæ£€æŸ¥æ•°æ®ä¸€è‡´æ€§çš„é€»è¾‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ä½ ä¸ç”¨å¤–é”®çº¦æŸï¼Œä¹Ÿè¦æƒ³åŠæ³•é€šè¿‡åº”ç”¨å±‚é¢çš„é™„åŠ é€»è¾‘ï¼Œæ¥å®ç°å¤–é”®çº¦æŸçš„åŠŸèƒ½ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<h3 id="é˜¿é‡Œå¼€å‘è§„èŒƒ"><a href="#é˜¿é‡Œå¼€å‘è§„èŒƒ" class="headerlink" title="é˜¿é‡Œå¼€å‘è§„èŒƒ"></a>é˜¿é‡Œå¼€å‘è§„èŒƒ</h3><p>ã€<code>å¼ºåˆ¶</code>ã€‘ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ã€‚ </p>
<p>è¯´æ˜ï¼šï¼ˆæ¦‚å¿µè§£é‡Šï¼‰å­¦ç”Ÿè¡¨ä¸­çš„ student_id æ˜¯ä¸»é”®ï¼Œé‚£ä¹ˆæˆç»©è¡¨ä¸­çš„ student_id åˆ™ä¸ºå¤–é”®ã€‚å¦‚æœæ›´æ–°å­¦ç”Ÿè¡¨ä¸­çš„ student_idï¼ŒåŒæ—¶è§¦å‘æˆç»©è¡¨ä¸­çš„ student_id æ›´æ–°ï¼Œå³ä¸ºçº§è”æ›´æ–°ã€‚å¤–é”®ä¸çº§è”æ›´æ–°é€‚ç”¨äº<code>å•æœºä½å¹¶å‘</code>ï¼Œä¸é€‚åˆ<code>åˆ†å¸ƒå¼</code>ã€<code>é«˜å¹¶å‘é›†ç¾¤</code>ï¼›çº§è”æ›´æ–°æ˜¯å¼ºé˜»å¡ï¼Œå­˜åœ¨æ•°æ®åº“<code>æ›´æ–°é£æš´</code>çš„é£é™©ï¼›å¤–é”®å½±å“æ•°æ®åº“çš„<code>æ’å…¥é€Ÿåº¦</code>ã€‚</p>
<h2 id="æ£€æŸ¥çº¦æŸ-CHECK"><a href="#æ£€æŸ¥çº¦æŸ-CHECK" class="headerlink" title="æ£€æŸ¥çº¦æŸ - CHECK"></a>æ£€æŸ¥çº¦æŸ - CHECK</h2><h3 id="ä½œç”¨-5"><a href="#ä½œç”¨-5" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>æ£€æŸ¥æŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦ç¬¦å·xxè¦æ±‚ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯å€¼çš„èŒƒå›´</p>
<h3 id="MySQL-5-7-ä¸æ”¯æŒ"><a href="#MySQL-5-7-ä¸æ”¯æŒ" class="headerlink" title="MySQL 5.7 ä¸æ”¯æŒ"></a>MySQL 5.7 ä¸æ”¯æŒ</h3><p>MySQL5.7 å¯ä»¥ä½¿ç”¨checkçº¦æŸï¼Œä½†checkçº¦æŸå¯¹æ•°æ®éªŒè¯æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚æ·»åŠ æ•°æ®æ—¶ï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯æˆ–è­¦å‘Š</p>
<p>ä½†æ˜¯<strong>MySQL 8.0ä¸­å¯ä»¥ä½¿ç”¨checkçº¦æŸäº†</strong>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key,</span><br><span class="line">    ename varchar(5),</span><br><span class="line">    gender char check (&#x27;ç”·&#x27; or &#x27;å¥³&#x27;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into employee values(1,&#x27;å¼ ä¸‰&#x27;,&#x27;å¦–&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from employee;</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">| eid | ename | gender |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">|   1 | å¼ ä¸‰   | å¦–     |</span><br><span class="line">+-----+-------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>å†ä¸¾ä¾‹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE temp(</span><br><span class="line">id INT AUTO_INCREMENT,</span><br><span class="line">NAME VARCHAR(20),</span><br><span class="line">age INT CHECK(age &gt; 20),</span><br><span class="line">PRIMARY KEY(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ul>
<li>å†ä¸¾ä¾‹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age tinyint check(age &gt;20) æˆ– sex char(2) check(sex in(â€˜ç”·â€™,â€™å¥³â€™))</span><br></pre></td></tr></table></figure>

<ul>
<li>å†ä¸¾ä¾‹</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHECK(height&gt;=0 AND height&lt;3)</span><br></pre></td></tr></table></figure>

<h2 id="é»˜è®¤å€¼çº¦æŸ-DEFAULT"><a href="#é»˜è®¤å€¼çº¦æŸ-DEFAULT" class="headerlink" title="é»˜è®¤å€¼çº¦æŸ - DEFAULT"></a>é»˜è®¤å€¼çº¦æŸ - DEFAULT</h2><h3 id="ä½œç”¨-6"><a href="#ä½œç”¨-6" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>ç»™æŸä¸ªå­—æ®µ/æŸåˆ—æŒ‡å®šé»˜è®¤å€¼ï¼Œä¸€æ—¦è®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨æ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœæ­¤å­—æ®µæ²¡æœ‰æ˜¾å¼èµ‹å€¼ï¼Œåˆ™èµ‹å€¼ä¸ºé»˜è®¤å€¼ã€‚</p>
<h3 id="å¦‚ä½•ç»™å­—æ®µåŠ é»˜è®¤å€¼"><a href="#å¦‚ä½•ç»™å­—æ®µåŠ é»˜è®¤å€¼" class="headerlink" title="å¦‚ä½•ç»™å­—æ®µåŠ é»˜è®¤å€¼"></a>å¦‚ä½•ç»™å­—æ®µåŠ é»˜è®¤å€¼</h3><p>ï¼ˆ1ï¼‰å»ºè¡¨æ—¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹  primary key,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique key not null,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  unique key,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹  not null default é»˜è®¤å€¼, </span><br><span class="line">);</span><br><span class="line">create table è¡¨åç§°(</span><br><span class="line">	å­—æ®µå  æ•°æ®ç±»å‹ default é»˜è®¤å€¼ ,</span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ not null default é»˜è®¤å€¼,  </span><br><span class="line">    å­—æ®µå  æ•°æ®ç±»å‹ not null default é»˜è®¤å€¼,</span><br><span class="line">    primary key(å­—æ®µå),</span><br><span class="line">    unique key(å­—æ®µå)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">è¯´æ˜ï¼šé»˜è®¤å€¼çº¦æŸä¸€èˆ¬ä¸åœ¨å”¯ä¸€é”®å’Œä¸»é”®åˆ—ä¸ŠåŠ </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key,</span><br><span class="line">    ename varchar(20) not null,</span><br><span class="line">    gender char default &#x27;ç”·&#x27;,</span><br><span class="line">    tel char(11) not null default &#x27;&#x27; #é»˜è®¤æ˜¯ç©ºå­—ç¬¦ä¸²</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename  | varchar(20) | NO   |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | ç”·      |       |</span><br><span class="line">| tel    | char(11)    | NO   |     |         |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into employee values(1,&#x27;æ±ªé£&#x27;,&#x27;ç”·&#x27;,&#x27;13700102535&#x27;); #æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from employee;</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">| eid | ename | gender | tel         |</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">|   1 | æ±ªé£  | ç”·     | 13700102535 |</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into employee(eid,ename) values(2,&#x27;å¤©çª&#x27;); #æˆåŠŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from employee;</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">| eid | ename | gender | tel         |</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">|   1 | æ±ªé£  | ç”·     | 13700102535 |</span><br><span class="line">|   2 | å¤©çª  | ç”·     |             |</span><br><span class="line">+-----+-------+--------+-------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into employee(eid,ename) values(3,&#x27;äºŒè™&#x27;);</span><br><span class="line">#ERROR 1062 (23000): Duplicate entry &#x27;&#x27; for key &#x27;tel&#x27;  </span><br><span class="line">#å¦‚æœtelæœ‰å”¯ä¸€æ€§çº¦æŸçš„è¯ä¼šæŠ¥é”™ï¼Œå¦‚æœtelæ²¡æœ‰å”¯ä¸€æ€§çº¦æŸï¼Œå¯ä»¥æ·»åŠ æˆåŠŸ</span><br></pre></td></tr></table></figure>

<p>å†ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE myemp(</span><br><span class="line">id INT AUTO_INCREMENT PRIMARY KEY,</span><br><span class="line">NAME VARCHAR(15),</span><br><span class="line">salary DOUBLE(10,2) DEFAULT 2000</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å»ºè¡¨å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ default é»˜è®¤å€¼;</span><br><span class="line"></span><br><span class="line">#å¦‚æœè¿™ä¸ªå­—æ®µåŸæ¥æœ‰éç©ºçº¦æŸï¼Œä½ è¿˜ä¿ç•™éç©ºçº¦æŸï¼Œé‚£ä¹ˆåœ¨åŠ é»˜è®¤å€¼çº¦æŸæ—¶ï¼Œè¿˜å¾—ä¿ç•™éç©ºçº¦æŸï¼Œå¦åˆ™éç©ºçº¦æŸå°±è¢«åˆ é™¤äº†</span><br><span class="line">#åŒç†ï¼Œåœ¨ç»™æŸä¸ªå­—æ®µåŠ éç©ºçº¦æŸä¹Ÿä¸€æ ·ï¼Œå¦‚æœè¿™ä¸ªå­—æ®µåŸæ¥æœ‰é»˜è®¤å€¼çº¦æŸï¼Œä½ æƒ³ä¿ç•™ï¼Œä¹Ÿè¦åœ¨modifyè¯­å¥ä¸­ä¿ç•™é»˜è®¤å€¼çº¦æŸï¼Œå¦åˆ™å°±åˆ é™¤äº†</span><br><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ default é»˜è®¤å€¼ not null;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table employee(</span><br><span class="line">	eid int primary key,</span><br><span class="line">    ename varchar(20),</span><br><span class="line">    gender char,</span><br><span class="line">    tel char(11) not null</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | NULL    |       |</span><br><span class="line">| tel    | char(11)    | NO   |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table employee modify gender char default &#x27;ç”·&#x27;;  #ç»™genderå­—æ®µå¢åŠ é»˜è®¤å€¼çº¦æŸ</span><br><span class="line">alter table employee modify tel char(11) default &#x27;&#x27;; #ç»™telå­—æ®µå¢åŠ é»˜è®¤å€¼çº¦æŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | ç”·      |       |</span><br><span class="line">| tel    | char(11)    | YES  |     |         |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table employee modify tel char(11) default &#x27;&#x27;  not null;#ç»™telå­—æ®µå¢åŠ é»˜è®¤å€¼çº¦æŸï¼Œå¹¶ä¿ç•™éç©ºçº¦æŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | ç”·      |       |</span><br><span class="line">| tel    | char(11)    | NO   |     |         |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="å¦‚ä½•åˆ é™¤é»˜è®¤å€¼çº¦æŸ"><a href="#å¦‚ä½•åˆ é™¤é»˜è®¤å€¼çº¦æŸ" class="headerlink" title="å¦‚ä½•åˆ é™¤é»˜è®¤å€¼çº¦æŸ"></a>å¦‚ä½•åˆ é™¤é»˜è®¤å€¼çº¦æŸ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹ ;#åˆ é™¤é»˜è®¤å€¼çº¦æŸï¼Œä¹Ÿä¸ä¿ç•™éç©ºçº¦æŸ</span><br><span class="line"></span><br><span class="line">alter table è¡¨åç§° modify å­—æ®µå æ•°æ®ç±»å‹  not null; #åˆ é™¤é»˜è®¤å€¼çº¦æŸï¼Œä¿ç•™éç©ºçº¦æŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter table employee modify gender char; #åˆ é™¤genderå­—æ®µé»˜è®¤å€¼çº¦æŸï¼Œå¦‚æœæœ‰éç©ºçº¦æŸï¼Œä¹Ÿä¸€å¹¶åˆ é™¤</span><br><span class="line">alter table employee modify tel char(11)  not null;#åˆ é™¤telå­—æ®µé»˜è®¤å€¼çº¦æŸï¼Œä¿ç•™éç©ºçº¦æŸ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc employee;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| eid    | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| ename  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| gender | char(1)     | YES  |     | NULL    |       |</span><br><span class="line">| tel    | char(11)    | NO   |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><p><strong>é—®é¢˜1ã€ä¸ºä»€ä¹ˆå»ºè¡¨æ—¶ï¼ŒåŠ  not null default â€˜â€™ æˆ– default 0</strong></p>
<p>ç­”ï¼šä¸æƒ³è®©è¡¨ä¸­å‡ºç°nullå€¼ã€‚</p>
<p><strong>é—®é¢˜2ã€ä¸ºä»€ä¹ˆä¸æƒ³è¦ null çš„å€¼</strong></p>
<p>ç­”:ï¼ˆ1ï¼‰ä¸å¥½æ¯”è¾ƒã€‚nullæ˜¯ä¸€ç§ç‰¹æ®Šå€¼ï¼Œæ¯”è¾ƒæ—¶åªèƒ½ç”¨ä¸“é—¨çš„is null å’Œ is not nullæ¥æ¯”è¾ƒã€‚ç¢°åˆ°è¿ç®—ç¬¦ï¼Œé€šå¸¸è¿”å›nullã€‚</p>
<p>â€‹     ï¼ˆ2ï¼‰æ•ˆç‡ä¸é«˜ã€‚å½±å“æé«˜ç´¢å¼•æ•ˆæœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾€å¾€åœ¨å»ºè¡¨æ—¶ not null default â€˜â€™ æˆ– default 0</p>
<p><strong>é—®é¢˜3ã€å¸¦AUTO_INCREMENTçº¦æŸçš„å­—æ®µå€¼æ˜¯ä»1å¼€å§‹çš„å—ï¼Ÿ</strong><br>åœ¨MySQLä¸­ï¼Œé»˜è®¤AUTO_INCREMENTçš„åˆå§‹å€¼æ˜¯1ï¼Œæ¯æ–°å¢ä¸€æ¡è®°å½•ï¼Œå­—æ®µå€¼è‡ªåŠ¨åŠ 1ã€‚è®¾ç½®è‡ªå¢å±æ€§ï¼ˆAUTO_INCREMENTï¼‰çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥æŒ‡å®šç¬¬ä¸€æ¡æ’å…¥è®°å½•çš„è‡ªå¢å­—æ®µçš„å€¼ï¼Œè¿™æ ·æ–°æ’å…¥çš„è®°å½•çš„è‡ªå¢å­—æ®µå€¼ä»åˆå§‹å€¼å¼€å§‹é€’å¢ï¼Œå¦‚åœ¨è¡¨ä¸­æ’å…¥ç¬¬ä¸€æ¡è®°å½•ï¼ŒåŒæ—¶æŒ‡å®šidå€¼ä¸º5ï¼Œåˆ™ä»¥åæ’å…¥çš„è®°å½•çš„idå€¼å°±ä¼šä»6å¼€å§‹å¾€ä¸Šå¢åŠ ã€‚æ·»åŠ ä¸»é”®çº¦æŸæ—¶ï¼Œå¾€å¾€éœ€è¦è®¾ç½®å­—æ®µè‡ªåŠ¨å¢åŠ å±æ€§ã€‚</p>
<p><strong>é—®é¢˜4ã€å¹¶ä¸æ˜¯æ¯ä¸ªè¡¨éƒ½å¯ä»¥ä»»æ„é€‰æ‹©å­˜å‚¨å¼•æ“ï¼Ÿ</strong><br>å¤–é”®çº¦æŸï¼ˆFOREIGN KEYï¼‰ä¸èƒ½è·¨å¼•æ“ä½¿ç”¨ã€‚</p>
<p>MySQLæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œæ¯ä¸€ä¸ªè¡¨éƒ½å¯ä»¥æŒ‡å®šä¸€ä¸ªä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¤–é”®çº¦æŸæ˜¯ç”¨æ¥ä¿è¯æ•°æ®çš„å‚ç…§å®Œæ•´æ€§çš„ï¼Œå¦‚æœè¡¨ä¹‹é—´éœ€è¦å…³è”å¤–é”®ï¼Œå´æŒ‡å®šäº†ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œé‚£ä¹ˆè¿™äº›è¡¨ä¹‹é—´æ˜¯ä¸èƒ½åˆ›å»ºå¤–é”®çº¦æŸçš„ã€‚æ‰€ä»¥è¯´ï¼Œå­˜å‚¨å¼•æ“çš„é€‰æ‹©ä¹Ÿä¸å®Œå…¨æ˜¯éšæ„çš„ã€‚</p>
<h1 id="SQLé«˜çº§"><a href="#SQLé«˜çº§" class="headerlink" title="SQLé«˜çº§"></a>SQLé«˜çº§</h1><h2 id="SQL-çš„æ‰§è¡Œé¡ºåºä¸åŸç†"><a href="#SQL-çš„æ‰§è¡Œé¡ºåºä¸åŸç†" class="headerlink" title="SQL çš„æ‰§è¡Œé¡ºåºä¸åŸç†"></a>SQL çš„æ‰§è¡Œé¡ºåºä¸åŸç†</h2><h3 id="SQLæ‰§è¡Œé¡ºåº"><a href="#SQLæ‰§è¡Œé¡ºåº" class="headerlink" title="SQLæ‰§è¡Œé¡ºåº"></a>SQLæ‰§è¡Œé¡ºåº</h3><p><strong>1. å…³é”®å­—çš„é¡ºåºæ˜¯ä¸èƒ½é¢ å€’çš„ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ... LIMIT...</span><br></pre></td></tr></table></figure>

<p><strong>2.SELECT è¯­å¥çš„æ‰§è¡Œé¡ºåº</strong>ï¼ˆåœ¨ MySQL å’Œ Oracle ä¸­ï¼ŒSELECT æ‰§è¡Œé¡ºåºåŸºæœ¬ç›¸åŒï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FROM -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT çš„å­—æ®µ -&gt; DISTINCT -&gt; ORDER BY -&gt; LIMIT</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="D:%5C%E5%B7%A5%E4%BD%9C%5C%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5Cmysql%E5%9F%BA%E7%A1%80%E7%AF%87%E7%AC%94%E8%AE%B0%5Cimages%5C1566872301088.png" alt="1566872301088"></p>
<p>æ¯”å¦‚ä½ å†™äº†ä¸€ä¸ª SQL è¯­å¥ï¼Œé‚£ä¹ˆå®ƒçš„å…³é”®å­—é¡ºåºå’Œæ‰§è¡Œé¡ºåºæ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT player_id, player_name, count(*) as num # é¡ºåº 5</span><br><span class="line">FROM player JOIN team ON player.team_id = team.team_id # é¡ºåº 1</span><br><span class="line">WHERE height &gt; 1.80 # é¡ºåº 2</span><br><span class="line">GROUP BY player.team_id # é¡ºåº 3</span><br><span class="line">HAVING num &gt; 2 # é¡ºåº 4</span><br><span class="line">ORDER BY num DESC # é¡ºåº 6</span><br><span class="line">LIMIT 2 # é¡ºåº 7</span><br></pre></td></tr></table></figure>

<p>åœ¨ SELECT è¯­å¥æ‰§è¡Œè¿™äº›æ­¥éª¤çš„æ—¶å€™ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª<code>è™šæ‹Ÿè¡¨</code>ï¼Œç„¶åå°†è¿™ä¸ªè™šæ‹Ÿè¡¨ä¼ å…¥ä¸‹ä¸€ä¸ªæ­¥éª¤ä¸­ä½œä¸ºè¾“å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›æ­¥éª¤éšå«åœ¨ SQL çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚</p>
<h3 id="SQLæ‰§è¡ŒåŸç†"><a href="#SQLæ‰§è¡ŒåŸç†" class="headerlink" title="SQLæ‰§è¡ŒåŸç†"></a>SQLæ‰§è¡ŒåŸç†</h3><p>SELECT æ˜¯å…ˆæ‰§è¡Œ FROM è¿™ä¸€æ­¥çš„ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œå¦‚æœæ˜¯å¤šå¼ è¡¨è”æŸ¥ï¼Œè¿˜ä¼šç»å†ä¸‹é¢çš„å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li><ol>
<li>é¦–å…ˆå…ˆé€šè¿‡ CROSS JOIN æ±‚ç¬›å¡å°”ç§¯ï¼Œç›¸å½“äºå¾—åˆ°è™šæ‹Ÿè¡¨ vtï¼ˆvirtual tableï¼‰1-1ï¼›</li>
</ol>
</li>
<li><ol start="2">
<li>é€šè¿‡ ON è¿›è¡Œç­›é€‰ï¼Œåœ¨è™šæ‹Ÿè¡¨ vt1-1 çš„åŸºç¡€ä¸Šè¿›è¡Œç­›é€‰ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ vt1-2ï¼›</li>
</ol>
</li>
<li><ol start="3">
<li>æ·»åŠ å¤–éƒ¨è¡Œã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å·¦è¿æ¥ã€å³è¿æ¥æˆ–è€…å®Œå…¨è¿æ¥ï¼Œå°±ä¼šæ¶‰åŠåˆ°å¤–éƒ¨è¡Œï¼Œä¹Ÿå°±æ˜¯åœ¨è™šæ‹Ÿè¡¨ vt1-2 çš„åŸºç¡€ä¸Šå¢åŠ å¤–éƒ¨è¡Œï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ vt1-3ã€‚</li>
</ol>
</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬æ“ä½œçš„æ˜¯ä¸¤å¼ ä»¥ä¸Šçš„è¡¨ï¼Œè¿˜ä¼šé‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰è¡¨éƒ½è¢«å¤„ç†å®Œä¸ºæ­¢ã€‚è¿™ä¸ªè¿‡ç¨‹å¾—åˆ°æ˜¯æˆ‘ä»¬çš„åŸå§‹æ•°æ®ã€‚</p>
<p>å½“æˆ‘ä»¬æ‹¿åˆ°äº†æŸ¥è¯¢æ•°æ®è¡¨çš„åŸå§‹æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆçš„è™šæ‹Ÿè¡¨ <code>vt1</code>ï¼Œå°±å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå†è¿›è¡Œ <code>WHERE é˜¶æ®µ</code>ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œä¼šæ ¹æ® vt1 è¡¨çš„ç»“æœè¿›è¡Œç­›é€‰è¿‡æ»¤ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ <code>vt2</code>ã€‚</p>
<p>ç„¶åè¿›å…¥ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥ï¼Œä¹Ÿå°±æ˜¯ <code>GROUP å’Œ HAVING é˜¶æ®µ</code>ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œå®é™…ä¸Šæ˜¯åœ¨è™šæ‹Ÿè¡¨ vt2 çš„åŸºç¡€ä¸Šè¿›è¡Œåˆ†ç»„å’Œåˆ†ç»„è¿‡æ»¤ï¼Œå¾—åˆ°ä¸­é—´çš„è™šæ‹Ÿè¡¨ <code>vt3</code> å’Œ <code>vt4</code>ã€‚</p>
<p>å½“æˆ‘ä»¬å®Œæˆäº†æ¡ä»¶ç­›é€‰éƒ¨åˆ†ä¹‹åï¼Œå°±å¯ä»¥ç­›é€‰è¡¨ä¸­æå–çš„å­—æ®µï¼Œä¹Ÿå°±æ˜¯è¿›å…¥åˆ° <code>SELECT å’Œ DISTINCT é˜¶æ®µ</code>ã€‚</p>
<p>é¦–å…ˆåœ¨ SELECT é˜¶æ®µä¼šæå–æƒ³è¦çš„å­—æ®µï¼Œç„¶ååœ¨ DISTINCT é˜¶æ®µè¿‡æ»¤æ‰é‡å¤çš„è¡Œï¼Œåˆ†åˆ«å¾—åˆ°ä¸­é—´çš„è™šæ‹Ÿè¡¨ <code>vt5-1</code> å’Œ <code>vt5-2</code>ã€‚</p>
<p>å½“æˆ‘ä»¬æå–äº†æƒ³è¦çš„å­—æ®µæ•°æ®ä¹‹åï¼Œå°±å¯ä»¥æŒ‰ç…§æŒ‡å®šçš„å­—æ®µè¿›è¡Œæ’åºï¼Œä¹Ÿå°±æ˜¯ <code>ORDER BY é˜¶æ®µ</code>ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ <code>vt6</code>ã€‚</p>
<p>æœ€ååœ¨ vt6 çš„åŸºç¡€ä¸Šï¼Œå–å‡ºæŒ‡å®šè¡Œçš„è®°å½•ï¼Œä¹Ÿå°±æ˜¯ <code>LIMIT é˜¶æ®µ</code>ï¼Œå¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œå¯¹åº”çš„æ˜¯è™šæ‹Ÿè¡¨ <code>vt7</code>ã€‚</p>
<p>å½“ç„¶æˆ‘ä»¬åœ¨å†™ SELECT è¯­å¥çš„æ—¶å€™ï¼Œä¸ä¸€å®šå­˜åœ¨æ‰€æœ‰çš„å…³é”®å­—ï¼Œç›¸åº”çš„é˜¶æ®µå°±ä¼šçœç•¥ã€‚</p>
<h2 id="ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢"><a href="#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢"></a>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢</h2><p>æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸è¢«ç”¨æ¥æ£€ç´¢æˆ–æ›¿æ¢é‚£äº›ç¬¦åˆæŸä¸ªæ¨¡å¼çš„æ–‡æœ¬å†…å®¹ï¼Œæ ¹æ®æŒ‡å®šçš„åŒ¹é…æ¨¡å¼åŒ¹é…æ–‡æœ¬ä¸­ç¬¦åˆè¦æ±‚çš„ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œä»ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­æå–ç”µè¯å·ç ï¼ŒæŸ¥æ‰¾ä¸€ç¯‡æ–‡ç« ä¸­é‡å¤çš„å•è¯æˆ–è€…æ›¿æ¢ç”¨æˆ·è¾“å…¥çš„æŸäº›æ•æ„Ÿè¯è¯­ç­‰ï¼Œè¿™äº›åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼å¼ºå¤§è€Œä¸”çµæ´»ï¼Œå¯ä»¥åº”ç”¨äºéå¸¸å¤æ‚çš„æŸ¥è¯¢ã€‚</p>
<p>MySQLä¸­ä½¿ç”¨REGEXPå…³é”®å­—æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦åŒ¹é…æ¨¡å¼ã€‚ä¸‹è¡¨åˆ—å‡ºäº†REGEXPæ“ä½œç¬¦ä¸­å¸¸ç”¨å­—ç¬¦åŒ¹é…åˆ—è¡¨ã€‚</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="images/image-20210926151249943.png" alt="image-20210926151249943" />

<p><strong>1. æŸ¥è¯¢ä»¥ç‰¹å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²å¼€å¤´çš„è®°å½•</strong><br>å­—ç¬¦â€˜^â€™åŒ¹é…ä»¥ç‰¹å®šå­—ç¬¦æˆ–è€…å­—ç¬¦ä¸²å¼€å¤´çš„æ–‡æœ¬ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µä»¥å­—æ¯â€˜bâ€™å¼€å¤´çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name REGEXP &#x27;^b&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>2. æŸ¥è¯¢ä»¥ç‰¹å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²ç»“å°¾çš„è®°å½•</strong><br>å­—ç¬¦â€˜$â€™åŒ¹é…ä»¥ç‰¹å®šå­—ç¬¦æˆ–è€…å­—ç¬¦ä¸²ç»“å°¾çš„æ–‡æœ¬ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µä»¥å­—æ¯â€˜yâ€™ç»“å°¾çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name REGEXP &#x27;y$&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>3. ç”¨ç¬¦å·â€.â€æ¥æ›¿ä»£å­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</strong><br>å­—ç¬¦â€˜.â€™åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚<br>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼åŒ…å«å­—æ¯â€˜aâ€™ä¸â€˜gâ€™ä¸”ä¸¤ä¸ªå­—æ¯ä¹‹é—´åªæœ‰ä¸€ä¸ªå­—æ¯çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name REGEXP &#x27;a.g&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>4. ä½¿ç”¨â€*â€å’Œâ€+â€æ¥åŒ¹é…å¤šä¸ªå­—ç¬¦</strong><br>æ˜Ÿå·â€˜*â€™åŒ¹é…å‰é¢çš„å­—ç¬¦ä»»æ„å¤šæ¬¡ï¼ŒåŒ…æ‹¬0æ¬¡ã€‚åŠ å·â€˜+â€™åŒ¹é…å‰é¢çš„å­—ç¬¦è‡³å°‘ä¸€æ¬¡ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼ä»¥å­—æ¯â€˜bâ€™å¼€å¤´ä¸”â€˜bâ€™åé¢å‡ºç°å­—æ¯â€˜aâ€™çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name REGEXP &#x27;^ba*&#x27;;</span><br></pre></td></tr></table></figure>

<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼ä»¥å­—æ¯â€˜bâ€™å¼€å¤´ä¸”â€˜bâ€™åé¢å‡ºç°å­—æ¯â€˜aâ€™è‡³å°‘ä¸€æ¬¡çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name REGEXP &#x27;^ba+&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>5. åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸²</strong><br>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸²ï¼Œåªè¦è¿™ä¸ªå­—ç¬¦ä¸²åœ¨æŸ¥è¯¢æ–‡æœ¬ä¸­å³å¯ï¼Œå¦‚è¦åŒ¹é…å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå¤šä¸ªå­—ç¬¦ä¸²ä¹‹é—´ä½¿ç”¨åˆ†éš”ç¬¦â€˜|â€™éš”å¼€ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼åŒ…å«å­—ç¬¦ä¸²â€œonâ€çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;on&#x27;;</span><br></pre></td></tr></table></figure>

<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼åŒ…å«å­—ç¬¦ä¸²â€œonâ€æˆ–è€…â€œapâ€çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;on|ap&#x27;;</span><br></pre></td></tr></table></figure>

<p>ä¹‹å‰ä»‹ç»è¿‡ï¼ŒLIKEè¿ç®—ç¬¦ä¹Ÿå¯ä»¥åŒ¹é…æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œä½†ä¸REGEXPä¸åŒï¼ŒLIKEåŒ¹é…çš„å­—ç¬¦ä¸²å¦‚æœåœ¨æ–‡æœ¬ä¸­é—´å‡ºç°ï¼Œåˆ™æ‰¾ä¸åˆ°å®ƒï¼Œç›¸åº”çš„è¡Œä¹Ÿä¸ä¼šè¿”å›ã€‚REGEXPåœ¨æ–‡æœ¬å†…è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœè¢«åŒ¹é…çš„å­—ç¬¦ä¸²åœ¨æ–‡æœ¬ä¸­å‡ºç°ï¼ŒREGEXPå°†ä¼šæ‰¾åˆ°å®ƒï¼Œç›¸åº”çš„è¡Œä¹Ÿä¼šè¢«è¿”å›ã€‚å¯¹æ¯”ç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼Œä½¿ç”¨LIKEè¿ç®—ç¬¦æŸ¥è¯¢f_nameå­—æ®µå€¼ä¸ºâ€œonâ€çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name like &#x27;on&#x27;;</span><br><span class="line">Empty set(0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>6. åŒ¹é…æŒ‡å®šå­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ª</strong><br>æ–¹æ‹¬å·â€œ[]â€æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†åˆï¼ŒåªåŒ¹é…å…¶ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œå³ä¸ºæ‰€æŸ¥æ‰¾çš„æ–‡æœ¬ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥æ‰¾f_nameå­—æ®µä¸­åŒ…å«å­—æ¯â€˜oâ€™æˆ–è€…â€˜tâ€™çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;[ot]&#x27;;</span><br></pre></td></tr></table></figure>

<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢s_idå­—æ®µä¸­åŒ…å«4ã€5æˆ–è€…6çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE s_id REGEXP &#x27;[456]&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>7. åŒ¹é…æŒ‡å®šå­—ç¬¦ä»¥å¤–çš„å­—ç¬¦</strong><br><code>â€œ[^å­—ç¬¦é›†åˆ]â€</code>åŒ¹é…ä¸åœ¨æŒ‡å®šé›†åˆä¸­çš„ä»»ä½•å­—ç¬¦ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_idå­—æ®µä¸­åŒ…å«å­—æ¯a<del>eå’Œæ•°å­—1</del>2ä»¥å¤–å­—ç¬¦çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_id REGEXP &#x27;[^a-e1-2]&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>8. ä½¿ç”¨{n,}æˆ–è€…{n,m}æ¥æŒ‡å®šå­—ç¬¦ä¸²è¿ç»­å‡ºç°çš„æ¬¡æ•°</strong><br>â€œå­—ç¬¦ä¸²{n,}â€è¡¨ç¤ºè‡³å°‘åŒ¹é…næ¬¡å‰é¢çš„å­—ç¬¦ï¼›â€œå­—ç¬¦ä¸²{n,m}â€è¡¨ç¤ºåŒ¹é…å‰é¢çš„å­—ç¬¦ä¸²ä¸å°‘äºnæ¬¡ï¼Œä¸å¤šäºmæ¬¡ã€‚ä¾‹å¦‚ï¼Œa{2,}è¡¨ç¤ºå­—æ¯aè¿ç»­å‡ºç°è‡³å°‘2æ¬¡ï¼Œä¹Ÿå¯ä»¥å¤§äº2æ¬¡ï¼›a{2,4}è¡¨ç¤ºå­—æ¯aè¿ç»­å‡ºç°æœ€å°‘2æ¬¡ï¼Œæœ€å¤šä¸èƒ½è¶…è¿‡4æ¬¡ã€‚</p>
<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼å‡ºç°å­—æ¯â€˜xâ€™è‡³å°‘2æ¬¡çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;x&#123;2,&#125;&#x27;;</span><br></pre></td></tr></table></figure>

<p>åœ¨fruitsè¡¨ä¸­ï¼ŒæŸ¥è¯¢f_nameå­—æ®µå€¼å‡ºç°å­—ç¬¦ä¸²â€œbaâ€æœ€å°‘1æ¬¡ã€æœ€å¤š3æ¬¡çš„è®°å½•ï¼ŒSQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM fruits WHERE f_name REGEXP &#x27;ba&#123;1,3&#125;&#x27;;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://yinzhm.gitee.io">Andy Yin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://yinzhm.gitee.io/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">http://yinzhm.gitee.io/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://yinzhm.gitee.io" target="_blank">Andy Yin</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"><span class="categoryes-punctuation"> <svg class="icon iconfont icon-biaoqian" title="æ•°æ®åˆ†æ" aria-hidden="true"><use xlink:href="#icon-fenlei"></use></svg></span>æ•°æ®åˆ†æ<span class="categoryesPageCount">5</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"><span class="tags-punctuation"> <svg class="icon iconfont icon-biaoqian" title="æ•°æ®åˆ†æ" aria-hidden="true"><use xlink:href="#icon-biaoqian1"></use></svg></span>æ•°æ®åˆ†æ<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/MySQL/"><span class="tags-punctuation"> <svg class="icon iconfont icon-biaoqian" title="MySQL" aria-hidden="true"><use xlink:href="#icon-biaoqian1"></use></svg></span>MySQL<span class="tagsPageCount">2</span></a></div></div><div class="post_share"><div class="social-share" data-image="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://npm.elemecdn.com/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/10/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B/"><img class="prev-cover" src="https://pic3.zhimg.com/80/v2-64f69f3c52a30c2b161a52a4fdf545ba_1440w.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ</div></div></a></div><div class="next-post pull-right"><a href="/2023/03/17/Excel/"><img class="next-cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/excel-banner.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ExcelçŸ¥è¯†ç‚¹å¤§å…¨</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2023/03/27/MySQL%E9%A2%98%E5%BA%93/" title="MySQLé¢˜åº“"><img class="cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-27</div><div class="title">MySQLé¢˜åº“</div></div></a></div><div><a href="/2023/02/16/Tableau%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/" title="TableauçŸ¥è¯†ç‚¹å¤§å…¨"><img class="cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/tableau-cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-16</div><div class="title">TableauçŸ¥è¯†ç‚¹å¤§å…¨</div></div></a></div><div><a href="/2022/02/20/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" title="æ•°æ®åˆ†æçŸ¥è¯†æ€»ç»“"><img class="cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/da.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-20</div><div class="title">æ•°æ®åˆ†æçŸ¥è¯†æ€»ç»“</div></div></a></div><div><a href="/2023/03/17/Excel/" title="ExcelçŸ¥è¯†ç‚¹å¤§å…¨"><img class="cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/excel-banner.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-17</div><div class="title">ExcelçŸ¥è¯†ç‚¹å¤§å…¨</div></div></a></div><div><a href="/2023/03/10/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B/" title="ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ"><img class="cover" src="https://pic3.zhimg.com/80/v2-64f69f3c52a30c2b161a52a4fdf545ba_1440w.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-10</div><div class="title">ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ</div></div></a></div><div><a href="/2023/03/27/%E6%B5%B7%E7%9B%97%E6%8C%87%E6%A0%87/" title="æµ·ç›—æŒ‡æ ‡"><img class="cover" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/da.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-27</div><div class="title">æµ·ç›—æŒ‡æ ‡</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="author-info-top"> <div class="card-info-avatar"></div></div><h1 class="author-info__name">Andy Yin</h1><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººåšå®¢ï¼Œä¸»è¦è®°å½•äº†æˆ‘çš„å­¦ä¹ ç¬”è®°å’Œç”Ÿæ´»æ„Ÿæ‚Ÿã€‚</div></div><div class="banner-button-group"><a class="banner-button" onclick="pjax.loadUrl(&quot;/about/&quot;)"><i class="fas fa-circle-arrow-up-right"></i><span class="banner-button-text">äº†è§£æ›´å¤š</span></a></div><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/" target="_blank" title="Github"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-gitHub"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=870263950@qq.com" target="_blank" title="Email"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-youxiang"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/atom.xml" target="_blank" title="RSS"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-rss"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/1852605" target="_blank" title="BiliBili"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-bilibili"></use></svg></a></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/wechat-front.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/wechat-back.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80-DML"><span class="toc-text">æ•°æ®æ“ä½œè¯­è¨€ - DML</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%AC%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">éç¬¦å·ç±»å‹çš„è¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IS-NULL%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">IS NULLè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IS-NOT-NULL%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">IS NOT NULLè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LEAST%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">LEASTè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GREATEST%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">GREATESTè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BETWEEN-AND%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">BETWEEN ANDè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IN%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">INè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NOT-IN%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">NOT INè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LIKE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">LIKEè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ESCAPE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">ESCAPEè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#REGEXP%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">REGEXPè¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DESCRIBE-%E6%98%BE%E7%A4%BA%E8%A1%A8%E7%BB%93%E6%9E%84%E4%BF%A1%E6%81%AF"><span class="toc-text">DESCRIBE - æ˜¾ç¤ºè¡¨ç»“æ„ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SELECT-%E9%80%89%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-text">SELECT - é€‰å–æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">åŸºæœ¬è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DISTINCT-%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C"><span class="toc-text">DISTINCT - å»é™¤é‡å¤è¡Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E5%8F%82%E4%B8%8E%E8%BF%90%E7%AE%97"><span class="toc-text">ç©ºå€¼å‚ä¸è¿ç®—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%B8%B8%E6%95%B0"><span class="toc-text">æŸ¥è¯¢å¸¸æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9D%80%E9%87%8D%E5%8F%B7-%E5%AD%97%E6%AE%B5%E5%90%8D%E4%B8%8E%E4%BF%9D%E7%95%99%E5%AD%97%E6%AE%B5%E5%86%B2%E7%AA%81"><span class="toc-text">ç€é‡å· - å­—æ®µåä¸ä¿ç•™å­—æ®µå†²çª</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AS-%E5%88%97-%E8%A1%A8%E7%9A%84%E5%88%AB%E5%90%8D%EF%BC%88ALIAS%EF%BC%89"><span class="toc-text">AS - åˆ—&#x2F;è¡¨çš„åˆ«åï¼ˆALIASï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WHERE-%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE"><span class="toc-text">WHERE - è¿‡æ»¤æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ORDER-BY-%E6%8C%89%E5%85%B3%E9%94%AE%E8%AF%8D%E6%8E%92%E5%BA%8F"><span class="toc-text">ORDER BY - æŒ‰å…³é”®è¯æ’åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LIMIT-%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA"><span class="toc-text">LIMIT - åˆ†é¡µæ˜¾ç¤º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%8B%93%E5%B1%95"><span class="toc-text">2.3 æ‹“å±•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%E5%88%86%E7%B1%BB"><span class="toc-text">å¤šè¡¨è¿æ¥åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5-vs-%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-text">ç­‰å€¼è¿æ¥ vs éç­‰å€¼è¿æ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-text">ç­‰å€¼è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-text">éç­‰å€¼è¿æ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5-vs-%E9%9D%9E%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-text">è‡ªè¿æ¥ vs éè‡ªè¿æ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5-vs-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">å†…è¿æ¥ vs å¤–è¿æ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL92%EF%BC%9A%E4%BD%BF%E7%94%A8-%E5%88%9B%E5%BB%BA%E8%BF%9E%E6%8E%A5"><span class="toc-text">SQL92ï¼šä½¿ç”¨(+)åˆ›å»ºè¿æ¥</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-text">å¤šè¡¨è¿æ¥æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1"><span class="toc-text">åŸºæœ¬è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#INNER-JOIN-%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-text">INNER JOIN -  å†…è¿æ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OUTER-JOIN-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">OUTER JOIN - å¤–è¿æ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LEFT-OUTER-JOIN-%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">LEFT OUTER JOIN - å·¦å¤–è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RIGHT-OUTER-JOIN-%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">RIGHT OUTER JOIN - å³å¤–è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FULL-OUTER-JOIN-%E5%AE%8C%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">FULL OUTER JOIN - å®Œå…¨å¤–è¿æ¥</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION-%E5%90%88%E5%B9%B6%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-text">UNION - åˆå¹¶ç»“æœé›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E7%A7%8DSQL%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">7ç§SQLè¿æ¥çš„å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">ä»£ç å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5"><span class="toc-text">è‡ªç„¶è¿æ¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#USING-%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-text">USING - ç­‰å€¼è¿æ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GROUP-BY"><span class="toc-text">GROUP BY</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WITH-ROLLUP"><span class="toc-text">WITH ROLLUP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HAVING"><span class="toc-text">HAVING</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-text">åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WHERE%E5%92%8CHAVING%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-text">WHEREå’ŒHAVINGçš„å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">å¤šè¡Œæ¯”è¾ƒæ“ä½œç¬¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-text">æ•°æ®å¢åˆ æ”¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">æ’å…¥æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%EF%BC%9AVALUES%E7%9A%84%E6%96%B9%E5%BC%8F%E6%B7%BB%E5%8A%A0"><span class="toc-text">æ–¹å¼1ï¼šVALUESçš„æ–¹å¼æ·»åŠ </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%EF%BC%9A%E5%B0%86%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8F%92%E5%85%A5%E5%88%B0%E8%A1%A8%E4%B8%AD"><span class="toc-text">æ–¹å¼2ï¼šå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°è¡¨ä¸­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="toc-text">æ›´æ–°æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-text">åˆ é™¤æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL8%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%9A%E8%AE%A1%E7%AE%97%E5%88%97"><span class="toc-text">MySQL8æ–°ç‰¹æ€§ï¼šè®¡ç®—åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-text">ç»¼åˆæ¡ˆä¾‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80-DDL"><span class="toc-text">æ•°æ®å®šä¹‰è¯­è¨€ - DDL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">åˆ›å»ºæ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">ä½¿ç”¨&#x2F;åˆ‡æ¢æ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">ä¿®æ”¹æ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">åˆ é™¤æ•°æ®åº“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-text">åˆ›å»ºè¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F1"><span class="toc-text">åˆ›å»ºæ–¹å¼1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F2"><span class="toc-text">åˆ›å»ºæ–¹å¼2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-text">æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-text">ä¿®æ”¹è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%88%97"><span class="toc-text">è¿½åŠ ä¸€ä¸ªåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AA%E5%88%97"><span class="toc-text">ä¿®æ”¹ä¸€ä¸ªåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D%E4%B8%80%E4%B8%AA%E5%88%97"><span class="toc-text">é‡å‘½åä¸€ä¸ªåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E5%88%97"><span class="toc-text">åˆ é™¤ä¸€ä¸ªåˆ—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D%E8%A1%A8"><span class="toc-text">é‡å‘½åè¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-text">åˆ é™¤è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA%E8%A1%A8"><span class="toc-text">æ¸…ç©ºè¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E6%8B%93%E5%B1%95-%E5%AD%97%E6%AE%B5%E5%91%BD%E5%90%8D"><span class="toc-text">å†…å®¹æ‹“å±• - å­—æ®µå‘½å</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E3%80%8AJava%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%E3%80%8B%E4%B9%8BMySQL%E5%AD%97%E6%AE%B5%E5%91%BD%E5%90%8D"><span class="toc-text">é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¹‹MySQLå­—æ®µå‘½å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%B8%85%E7%A9%BA%E8%A1%A8%E3%80%81%E5%88%A0%E9%99%A4%E8%A1%A8%E7%AD%89%E6%93%8D%E4%BD%9C%E9%9C%80%E8%B0%A8%E6%85%8E%EF%BC%9F%EF%BC%81"><span class="toc-text">å¦‚ä½•ç†è§£æ¸…ç©ºè¡¨ã€åˆ é™¤è¡¨ç­‰æ“ä½œéœ€è°¨æ…ï¼Ÿï¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL8%E6%96%B0%E7%89%B9%E6%80%A7%E2%80%94DDL%E7%9A%84%E5%8E%9F%E5%AD%90%E5%8C%96"><span class="toc-text">MySQL8æ–°ç‰¹æ€§â€”DDLçš„åŸå­åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80-DCL"><span class="toc-text">æ•°æ®æ§åˆ¶è¯­è¨€ - DCL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ•´æ•°ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UNISIGNED"><span class="toc-text">UNISIGNED</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ZEROFILL"><span class="toc-text">ZEROFILL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-text">æµ®ç‚¹ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B2%BE%E5%BA%A6%E8%AF%B4%E6%98%8E"><span class="toc-text">æ•°æ®ç²¾åº¦è¯´æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E5%BA%A6%E8%AF%AF%E5%B7%AE%E8%AF%B4%E6%98%8E"><span class="toc-text">ç²¾åº¦è¯¯å·®è¯´æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">å®šç‚¹æ•°ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ—¥æœŸä¸æ—¶é—´ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#YEAR%E7%B1%BB%E5%9E%8B"><span class="toc-text">YEARç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DATE%E7%B1%BB%E5%9E%8B"><span class="toc-text">DATEç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIME%E7%B1%BB%E5%9E%8B"><span class="toc-text">TIMEç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DATETIME%E7%B1%BB%E5%9E%8B"><span class="toc-text">DATETIMEç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIMESTAMP%E7%B1%BB%E5%9E%8B"><span class="toc-text">TIMESTAMPç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ–‡æœ¬å­—ç¬¦ä¸²ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CHAR%E4%B8%8EVARCHAR%E7%B1%BB%E5%9E%8B"><span class="toc-text">CHARä¸VARCHARç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TEXT%E7%B1%BB%E5%9E%8B"><span class="toc-text">TEXTç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ENUM%E7%B1%BB%E5%9E%8B"><span class="toc-text">ENUMç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-text">çº¦æŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F-NOT-NULL"><span class="toc-text">éç©ºçº¦æŸ - NOT NULL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"><span class="toc-text">æ·»åŠ éç©ºçº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"><span class="toc-text">åˆ é™¤éç©ºçº¦æŸ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F-UNIQUE"><span class="toc-text">å”¯ä¸€æ€§çº¦æŸ - UNIQUE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-1"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><span class="toc-text">æ·»åŠ å”¯ä¸€çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%A4%8D%E5%90%88%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><span class="toc-text">å…³äºå¤åˆå”¯ä¸€çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><span class="toc-text">åˆ é™¤å”¯ä¸€çº¦æŸ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-PRIMARY-KEY"><span class="toc-text">ä¸»é”®çº¦æŸ - PRIMARY KEY</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-2"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-2"><span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">æ·»åŠ ä¸»é”®çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%A4%8D%E5%90%88%E4%B8%BB%E9%94%AE"><span class="toc-text">å…³äºå¤åˆä¸»é”®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">åˆ é™¤ä¸»é”®çº¦æŸ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E%E5%88%97-AUTO-INCREMENT"><span class="toc-text">è‡ªå¢åˆ— - AUTO_INCREMENT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-3"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%E5%92%8C%E8%A6%81%E6%B1%82"><span class="toc-text">ç‰¹ç‚¹å’Œè¦æ±‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8C%87%E5%AE%9A%E8%87%AA%E5%A2%9E%E7%BA%A6%E6%9D%9F"><span class="toc-text">å¦‚ä½•æŒ‡å®šè‡ªå¢çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E8%87%AA%E5%A2%9E%E7%BA%A6%E6%9D%9F"><span class="toc-text">å¦‚ä½•åˆ é™¤è‡ªå¢çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-8-0%E6%96%B0%E7%89%B9%E6%80%A7%E2%80%94%E8%87%AA%E5%A2%9E%E5%8F%98%E9%87%8F%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">MySQL 8.0æ–°ç‰¹æ€§â€”è‡ªå¢å˜é‡çš„æŒä¹…åŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F-FOREIGN-KEY"><span class="toc-text">å¤–é”®çº¦æŸ - FOREIGN KEY</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-4"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A1%A8%E5%92%8C%E4%BB%8E%E8%A1%A8-%E7%88%B6%E8%A1%A8%E5%92%8C%E5%AD%90%E8%A1%A8"><span class="toc-text">ä¸»è¡¨å’Œä»è¡¨&#x2F;çˆ¶è¡¨å’Œå­è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-3"><span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">æ·»åŠ å¤–é”®çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA%E9%97%AE%E9%A2%98"><span class="toc-text">æ¼”ç¤ºé—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F%E7%AD%89%E7%BA%A7"><span class="toc-text">çº¦æŸç­‰çº§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">åˆ é™¤å¤–é”®çº¦æŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%9C%BA%E6%99%AF"><span class="toc-text">å¼€å‘åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83"><span class="toc-text">é˜¿é‡Œå¼€å‘è§„èŒƒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BA%A6%E6%9D%9F-CHECK"><span class="toc-text">æ£€æŸ¥çº¦æŸ - CHECK</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-5"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-5-7-%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-text">MySQL 5.7 ä¸æ”¯æŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F-DEFAULT"><span class="toc-text">é»˜è®¤å€¼çº¦æŸ - DEFAULT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8-6"><span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BB%99%E5%AD%97%E6%AE%B5%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">å¦‚ä½•ç»™å­—æ®µåŠ é»˜è®¤å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F"><span class="toc-text">å¦‚ä½•åˆ é™¤é»˜è®¤å€¼çº¦æŸ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-text">å¸¸è§é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E9%AB%98%E7%BA%A7"><span class="toc-text">SQLé«˜çº§</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E4%B8%8E%E5%8E%9F%E7%90%86"><span class="toc-text">SQL çš„æ‰§è¡Œé¡ºåºä¸åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">SQLæ‰§è¡Œé¡ºåº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-text">SQLæ‰§è¡ŒåŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/27/MySQL%E9%A2%98%E5%BA%93/" title="MySQLé¢˜åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQLé¢˜åº“"/></a><div class="content"><a class="title" href="/2023/03/27/MySQL%E9%A2%98%E5%BA%93/" title="MySQLé¢˜åº“">MySQLé¢˜åº“</a><time datetime="2023-03-27T12:50:47.000Z" title="å‘è¡¨äº 2023-03-27 20:50:47">2023-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/27/%E6%B5%B7%E7%9B%97%E6%8C%87%E6%A0%87/" title="æµ·ç›—æŒ‡æ ‡"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/da.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æµ·ç›—æŒ‡æ ‡"/></a><div class="content"><a class="title" href="/2023/03/27/%E6%B5%B7%E7%9B%97%E6%8C%87%E6%A0%87/" title="æµ·ç›—æŒ‡æ ‡">æµ·ç›—æŒ‡æ ‡</a><time datetime="2023-03-27T12:47:47.000Z" title="å‘è¡¨äº 2023-03-27 20:47:47">2023-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/17/Excel/" title="ExcelçŸ¥è¯†ç‚¹å¤§å…¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/excel-banner.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ExcelçŸ¥è¯†ç‚¹å¤§å…¨"/></a><div class="content"><a class="title" href="/2023/03/17/Excel/" title="ExcelçŸ¥è¯†ç‚¹å¤§å…¨">ExcelçŸ¥è¯†ç‚¹å¤§å…¨</a><time datetime="2023-03-17T12:48:47.000Z" title="å‘è¡¨äº 2023-03-17 20:48:47">2023-03-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="MySQLçŸ¥è¯†ç‚¹å¤§å…¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/mysql.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQLçŸ¥è¯†ç‚¹å¤§å…¨"/></a><div class="content"><a class="title" href="/2023/03/12/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="MySQLçŸ¥è¯†ç‚¹å¤§å…¨">MySQLçŸ¥è¯†ç‚¹å¤§å…¨</a><time datetime="2023-03-12T12:47:47.000Z" title="å‘è¡¨äº 2023-03-12 20:47:47">2023-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/10/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B/" title="ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic3.zhimg.com/80/v2-64f69f3c52a30c2b161a52a4fdf545ba_1440w.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ"/></a><div class="content"><a class="title" href="/2023/03/10/%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%B2%E6%95%85%E4%BA%8B/" title="ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ">ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹è¯»åæ„Ÿ</a><time datetime="2023-03-10T12:47:47.000Z" title="å‘è¡¨äº 2023-03-10 20:47:47">2023-03-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By Andy Yin</div><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v5.4.0" title="åšå®¢æ¡†æ¶ä¸ºHexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="åšå®¢æ¡†æ¶ä¸ºHexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://www.aliyun.com/product/oss" style="margin-inline:5px" data-title="æœ¬ç«™ä½¿ç”¨é˜¿é‡Œäº‘OSSæ•°æ®å­˜å–æœåŠ¡" title="æœ¬ç«™ä½¿ç”¨é˜¿é‡Œäº‘OSSæ•°æ®å­˜å–æœåŠ¡"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/aliyun-oss.svg" alt="æœ¬ç«™ä½¿ç”¨é˜¿é‡Œäº‘OSSæ•°æ®å­˜å–æœåŠ¡"/></a><a class="github-badge" target="_blank" href="https://gitee.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Giteeæ‰˜ç®¡" title="æœ¬ç«™é¡¹ç›®ç”±Giteeæ‰˜ç®¡"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/markdown-picture/images/gitee.svg" alt="æœ¬ç«™é¡¹ç›®ç”±Giteeæ‰˜ç®¡"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"/></a></p></div></footer></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/avatar.jpg"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>const loadingPercentage = document.getElementById("loading-percentage");
let loadingPercentageTimer = setInterval(function() {
  var progressBar = document.querySelector(".pace-progress");
  if (!progressBar) return
  var currentValue = progressBar.getAttribute("data-progress-text");
  if (currentValue !== loadingPercentage.textContent) {
    loadingPercentage.textContent = currentValue;
    if (currentValue === "100%") {
      clearInterval(loadingPercentageTimer);
    }
  }
}, 100);
const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://npm.elemecdn.com/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://yinzhm-picture.oss-cn-shanghai.aliyuncs.com/blog-cover/avator_img.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">34</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">15</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-shapes faa-tada"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="fa-fw fas fa-link faa-tada"></i><span> å¸¸ç”¨ç½‘å€</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="fa-fw fas fa-images faa-tada"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="fa-fw fa-regular fa-fan faa-tada"></i><span> å°ç©ºè°ƒ</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-zhifeiji"></use></svg><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="fa-fw fas fa-lightbulb-on faa-tada"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="fa-fw fas fa-shoe-prints faa-tada"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="center-console" type="button" title="ä¸­æ§å°"><i class="far fa-fish"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="nav-music"><div id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()">æ’­æ”¾éŸ³ä¹</div><div id="console-music-bg"></div><meting-js id="8274607187" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="console"><div class="close-btn" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"><i class="fas fa-circle-xmark"></i></div><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> <span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/EXCEL/" style="font-size: 1.15em; color: rgb(53, 139, 5)">EXCEL<sup>1</sup></a><a href="/tags/Google-Adwords/" style="font-size: 1.15em; color: rgb(97, 36, 6)">Google Adwords<sup>1</sup></a><a href="/tags/HTTP/" style="font-size: 1.25em; color: rgb(173, 188, 119)">HTTP<sup>2</sup></a><a href="/tags/MySQL/" style="font-size: 1.25em; color: rgb(190, 63, 8)">MySQL<sup>2</sup></a><a href="/tags/Photoshop/" style="font-size: 1.15em; color: rgb(145, 72, 108)">Photoshop<sup>1</sup></a><a href="/tags/Tableau/" style="font-size: 1.15em; color: rgb(198, 132, 68)">Tableau<sup>1</sup></a><a href="/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 1.15em; color: rgb(114, 124, 162)">å¹´åº¦æ€»ç»“<sup>1</sup></a><a href="/tags/%E5%BF%83%E7%90%86%E5%AD%A6/" style="font-size: 1.15em; color: rgb(132, 17, 160)">å¿ƒç†å­¦<sup>1</sup></a><a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 1.15em; color: rgb(91, 197, 47)">æ‘„å½±<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 1.45em; color: rgb(183, 119, 179)">æ•°æ®åˆ†æ<sup>7</sup></a><a href="/tags/%E6%97%A5%E8%AE%B0/" style="font-size: 1.35em; color: rgb(142, 153, 103)">æ—¥è®°<sup>3</sup></a><a href="/tags/%E7%8A%B6%E6%80%81%E7%A0%81/" style="font-size: 1.15em; color: rgb(166, 98, 162)">çŠ¶æ€ç <sup>1</sup></a><a href="/tags/%E8%AF%BB%E5%90%8E%E6%84%9F/" style="font-size: 1.35em; color: rgb(138, 22, 97)">è¯»åæ„Ÿ<sup>3</sup></a><a href="/tags/%E8%BF%90%E8%90%A5/" style="font-size: 1.15em; color: rgb(163, 64, 15)">è¿è¥<sup>1</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 1.35em; color: rgb(195, 112, 94)">éŸ³ä¹<sup>3</sup></a></div></div><hr/></div></div><div class="console-card history" onclick="anzhiyu.hideConsole()"><div class="item-headline"><i class="fas fa-archive"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>å½’æ¡£</span><a class="card-more-btn" href="/archives/" title="æŸ¥çœ‹æ›´å¤š">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">äºŒæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">ä¸€æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">å››æœˆ 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">äºŒæœˆ 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">ä¸€æœˆ 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">äºŒæœˆ 2021</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="rm.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="fas fa-moon" style="font-size: 1rem;"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="fas fa-arrows-alt-h"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="fa-solid fa-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="fas fa-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-top"><i class="fa-solid fa-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="fas fa-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="fas fa-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="fas fa-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="fas fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="fas fa-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="fas fa-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="fas fa-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="fas fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="fa-solid fa-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="fa-solid fa-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="fa-solid fa-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="fas fa-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="fas fa-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open('https://y.qq.com/n/ryqq/playlist/8152976493', '_blank');" style="display: none;"><i class="fas fa-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="fas fa-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="fas fa-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fas fa-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fas fa-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="fas fa-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="fa-solid fa-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="fa-solid fa-moon"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="fas fa-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.0.2/source/js/utils.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.0.2/source/js/main.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.0.2/source/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://npm.elemecdn.com/instant.page@5.1.1/instantpage.js" type="module"></script><script src="https://npm.elemecdn.com/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("04/01/2021 00:00:00"); //è®¾ç½®ç½‘ç«™ä¸Šçº¿æ—¶é—´
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;

  // è®¡ç®—å¹¶æ›´æ–°å¤©æ•°ã€å°æ—¶æ•°ã€åˆ†é’Ÿæ•°å’Œç§’æ•°
  function updateTime() {
    now = new Date(); // æ›´æ–° now çš„å€¼
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // æ›´æ–°ç½‘é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™è¿è¡Œæ—¶é—´
  function updateHtml() {
    let currentTimeHtml = "";
    if (hnum < 18 && hnum >= 9) {
      // å¦‚æœæ˜¯ä¸Šç­æ—¶é—´ï¼Œé»˜è®¤å°±æ˜¯"å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg"å›¾ç‰‡ï¼Œä¸éœ€è¦æ›´æ”¹
      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='fas fa-heartbeat' style='color:red'></i>`;
    } else {
      // å¦‚æœæ˜¯ä¸‹ç­æ—¶é—´ï¼Œæ’å…¥"å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg"å›¾ç‰‡
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg";
      img.title = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";
      img.alt = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";

      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='fas fa-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.0.2/source/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/bubble/bubble.js"></script><script data-pjax src="/js/anzhiyufunction.js"></script><script async src="/js/anzhiyuOnlyOne.js"></script><script data-pjax src="/js/anzhiyu.js"></script><script>//åŠ¨æ€æ ‡é¢˜
let leaveTitle = 'ä½ è¦å»å“ªé‡Œ!?!';
let backTitle = 'æ¬¢è¿å›æ¥ï¼';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = backTitle + OriginTitile
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/catalog-bar/catalog-bar.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/categoryBar/categoryBar.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/rightmenu/rightmenu.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://npm.elemecdn.com/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)
  window.anzhiyuScrollFnToDo && window.removeEventListener('scroll', anzhiyuScrollFnToDo)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><!-- hexo injector body_end start --><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/ali_font.js"></script><!-- hexo injector body_end end --></body></html>